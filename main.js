(()=>{"use strict";class t{constructor(t,e,s,n,l="default"){this.title=t,this.description=e,this.dueDate=s,this.priority=n,this.project=l}static getColor(t,e){let s;return s="low"===t[e].priority?"success":"medium"===t[e].priority?"info":"danger",s}static buttonColor(t){let e,s;return"success"!==t&&"info"!==t||(e="warning",s="danger"),"danger"===t&&(e="primary",s="warning"),[e,s]}static allTasks(t){const e=[];for(let s=0;s<t.length;s+=1)e.push(...t[s].tasks);return e}static deleteTask(t,e,s,n){const l=document.querySelectorAll("#delete-btn");for(let i=0;i<l.length;i+=1)l[i].addEventListener("click",(()=>{t.splice(i,1),localStorage.setItem("projects",JSON.stringify(s)),n(e,t)}))}static editTask(t,e,s,n){const l=document.querySelectorAll("#edit-btn");for(let i=0;i<l.length;i+=1)l[i].addEventListener("click",(()=>{const l=document.querySelector(`#edit-task-name-${i}`).value,a=document.querySelector(`#edit-task-description-${i}`).value,r=document.querySelector(`#edit-task-date-${i}`).value,o=document.querySelector(`#edit-task-priority-${i}`).value;""!==l&&""!==a&&""!==r&&""!==o&&(t[i].title=l,t[i].description=a,t[i].date=r,t[i].priority=o,localStorage.setItem("projects",JSON.stringify(s)),n(e,t))}))}}const e=(()=>{const e=()=>{const t=document.forms["tasks-form"];return t.addEventListener("submit",(t=>{t.preventDefault()})),t},s=(e,n,l)=>{const i=document.querySelector("#tasks-list");i.innerHTML="";const a=document.querySelector("#add-task"),r=document.querySelector("#multiCollapseExample2");if("All Tasks"===e){a.classList.add("d-none"),r.classList.add("d-none");const e=t.allTasks(l);for(let s=0;s<e.length;s+=1){const n=t.getColor(e,s);i.innerHTML+=`\n            <li class="">\n                        <p>\n                            <button class="btn btn-${n} w-100" type="button" data-bs-toggle="collapse" data-bs-target="#task-${s}" aria-expanded="false" aria-controls="task-${s}">\n                                ${e[s].title}\n                            </button>\n                        </p>\n                        \n                        <div class="collapse" id="task-${s}">\n                            <div class="card card-body bg-${n} mb-4">\n                                <ul class="list-group">\n                                    <li class="list-group-item bg-${n} text-white"><span class="fw-bold">Description</span>: ${e[s].description}</li>\n                                    <li class="list-group-item bg-${n} text-white"><span class="fw-bold">Due Date</span>: ${e[s].dueDate}</li>\n                                    <li class="list-group-item bg-${n} text-white"><span class="fw-bold">Priority</span>: ${e[s].priority}</li>\n                                </ul>\n                            </div>\n                        </div>\n                    </li>\n        `}}else{a.classList.remove("d-none"),r.classList.remove("d-none"),i.innerHTML="";for(let e=0;e<n.length;e+=1){const s=t.getColor(n,e);i.innerHTML+=`\n            <li>\n                <p>\n                    <button class="btn btn-${s} w-100" type="button" data-bs-toggle="collapse" data-bs-target="#task-${e}" aria-expanded="false" aria-controls="task-${e}">\n                        ${n[e].title}\n                    </button>\n                </p>\n                    \n                <div class="collapse" id="task-${e}">\n                    <div class="card card-body bg-${s} mb-4">\n                        <ul class="list-group ">\n                            <li class="list-group-item bg-${s} text-white"><span class="fw-bold">Description</span>: ${n[e].description}</li>\n                            <li class="list-group-item bg-${s} text-white"><span class="fw-bold">Due Date</span>: ${n[e].dueDate}</li>\n                            <li class="list-group-item bg-${s} text-white"><span class="fw-bold">Priority</span>: ${n[e].priority}</li>\n                        </ul>\n                    \n                        <div class="d-flex mt-3 justify-content-between">\n                            <div>\n                                <p>\n                                    <button class="btn btn-${t.buttonColor(s)[0]}" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample-${e}" aria-expanded="false" aria-controls="collapseExample-${e}">\n                                        Edit\n                                    </button>\n                                       \n                                    <button id="delete-btn" type="button" class="btn btn-${t.buttonColor(s)[1]}">Mark as complete</button>\n                                </p>\n                                \n                                <div class="collapse multi-collapse" id="collapseExample-${e}">\n                                    <form id="edit-tasks-form">\n                                        <div class="mb-3">\n                                            <label for="edit-task-name-${e}" class="form-label text-info">Task Title</label>\n                                            <input type="text" class="form-control" id="edit-task-name-${e}" required>\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-description-${e}" class="form-label text-info">Task Description</label>\n                                            <input type="text" class="form-control" id="edit-task-description-${e}" required>\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-date-${e}" class="form-label text-info">Due Date</label>\n                                            <br>\n                                            <input type="date" id="edit-task-date-${e}" name="trip-start" required>\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-priority-${e}" class="form-label text-info">Priority</label>\n                                            <select id="edit-task-priority-${e}" class="form-select" aria-label="Default select example" required>\n                                                <option selected>Select Priority</option>\n                                                <option value="low">Low</option>\n                                                <option value="medium">Medium</option>\n                                                <option value="high">High</option>\n                                            </select>\n                                        </div>\n                                        \n                                        <div>\n                                            <button id="edit-btn" type="submit" class="btn btn-secondary">Edit Task</button>\n                                        </div\n                                    </form>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </li>\n        `,document.querySelector(`#edit-task-name-${e}`).setAttribute("value",n[e].title),document.querySelector(`#edit-task-description-${e}`).setAttribute("value",n[e].description),document.querySelector(`#edit-task-date-${e}`).setAttribute("value",n[e].dueDate)}t.editTask(n,e,l,s),t.deleteTask(n,e,l,s)}};return{createNewTask:n=>{const l=e();document.querySelector("#task-btn").addEventListener("click",(()=>{const i=l.querySelector("#task-name").value,a=l.querySelector("#task-description").value,r=l.querySelector("#task-date").value,o=l.querySelector("#task-priority").value,c=l.querySelector("#task-project").value,d=n.filter((t=>t.title===c));if(""===i)return;if(""===a)return;if(""===r)return;if(""===o)return;const u=new t(i,a,r,o,c);d[0].tasks.push(u),localStorage.setItem("projects",JSON.stringify(n)),e(),s(c,d[0].tasks,n)}))},renderTasks:s}})();class s{constructor(t){this.title=t,this.tasks=[]}static newProject(t,e){const n=new s(t);e.push(n)}}const n=(()=>{const n=()=>{const t=document.forms["project-form"];return t.addEventListener("submit",(t=>{t.preventDefault()})),t},l=t=>{const e=document.querySelector("#project-list");e.innerHTML='\n            <li class="list-group-item list-group-item-dark btn my-1" id="all-projects">All Tasks</li>\n        ';for(let s=0;s<t.length;s+=1)e.innerHTML+=`\n                <li class="list-group-item list-group-item-dark btn my-1" id="project-list">${t[s].title}</li>\n            `};return{addProject:t=>{document.querySelector("#project-btn").addEventListener("click",(()=>{n(),((t,e)=>{const n=e().querySelector("#project-title").value;""!==n&&(s.newProject(n,t),localStorage.setItem("projects",JSON.stringify(t)))})(t,n),l(t),document.querySelector("#project-form").reset()}))},displayProjectTasks:s=>{const n=document.querySelector("#project-list");n.addEventListener("click",(l=>{const i=l.target.textContent,a=s.filter((t=>t.title===i)),r=t.allTasks(s);((t,e)=>{const s=t.target;[...e.children].forEach((t=>{t.classList.remove("active")})),s.classList.add("active"),document.querySelector("#task-display").classList.remove("d-none")})(l,n),(t=>{const e=document.querySelector("#project");e.innerHTML="",e.innerHTML+=`\n        <input type="hidden" value="${t}" id="task-project" class="form-control" aria-label="Default select example">\n    `})(i),"All Tasks"===i?e.renderTasks(i,r,s):e.renderTasks(i,a[0].tasks,s)}))},renderProjectView:l}})(),l=JSON.parse(localStorage.getItem("projects"))||[];n.renderProjectView(l),n.addProject(l),n.displayProjectTasks(l),e.createNewTask(l)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qcy10b2RvbGlzdC8uL3NyYy90YXNrRG9tLmpzIiwid2VicGFjazovL2pzLXRvZG9saXN0Ly4vc3JjL3Byb2plY3REb20uanMiLCJ3ZWJwYWNrOi8vanMtdG9kb2xpc3QvLi9zcmMvbWFpbi5qcyJdLCJuYW1lcyI6WyJUYXNrIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJwcmlvcml0eSIsInByb2plY3QiLCJ0aGlzIiwiYXJyIiwiaSIsImNvbG9yIiwiYnRuRWRpdCIsImJ0bkRlbGV0ZSIsInByb2plY3RBcnIiLCJhbGxQcm9qZWN0cyIsImxlbmd0aCIsInB1c2giLCJ0YXNrcyIsInRhc2tzQXJyIiwicHJvamVjdE5hbWUiLCJyZW5kZXJUYXNrcyIsIkRFTEVURV9CVE4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRFdmVudExpc3RlbmVyIiwic3BsaWNlIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwcm9qZWN0VGFza3MiLCJ0YXNrUHJvamVjdCIsIkVESVRfQlROIiwiRURJVF9UQVNLX05BTUUiLCJxdWVyeVNlbGVjdG9yIiwidmFsdWUiLCJFRElUX1RBU0tfREVTQ1JJUFRJT04iLCJFRElUX1RBU0tfREFURSIsIkVESVRfVEFTS19QUklPUklUWSIsImRhdGUiLCJ0YXNrQ3JlYXRpb24iLCJ0YXNrRm9ybSIsIlRBU0tTX0ZPUk0iLCJmb3JtcyIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIlRBU0tfTElTVCIsImlubmVySFRNTCIsIkFERF9UQVNLX0JUTiIsIkZPUk0iLCJjbGFzc0xpc3QiLCJhZGQiLCJhbGxUYXNrcyIsImdldENvbG9yIiwicmVtb3ZlIiwiYnV0dG9uQ29sb3IiLCJzZXRBdHRyaWJ1dGUiLCJlZGl0VGFzayIsImRlbGV0ZVRhc2siLCJjcmVhdGVOZXdUYXNrIiwiVEFTS19OQU1FIiwiVEFTS19ERVNDUklQVElPTiIsIlRBU0tfREFURSIsIlRBU0tfUFJJT1JJVFkiLCJUQVNLX1BST0pFQ1QiLCJQUk9KRUNUIiwiZmlsdGVyIiwibmV3VGFzayIsIlByb2plY3QiLCJwcm9qZWN0VGl0bGUiLCJORVdfUFJPSkVDVCIsInByb2plY3RDcmVhdGlvbiIsInByb2plY3RGb3JtIiwiUFJPSkVDVF9GT1JNIiwicmVuZGVyUHJvamVjdFZpZXciLCJQUk9KRUNUX0xJU1QiLCJhZGRQcm9qZWN0IiwiUFJPSkVDVF9USVRMRSIsIm5ld1Byb2plY3QiLCJjcmVhdGVQcm9qZWN0IiwicmVzZXQiLCJkaXNwbGF5UHJvamVjdFRhc2tzIiwiUFJPSkVDVF9OQU1FIiwidGFyZ2V0IiwidGV4dENvbnRlbnQiLCJldmVudCIsInByb2plY3RMaXN0IiwiY2hpbGRyZW4iLCJmb3JFYWNoIiwicHJvamVjdFNlbGVjdGlvbiIsInRhc2tPcHRpb25zIiwicHJvamVjdHMiLCJwYXJzZSIsImdldEl0ZW0iXSwibWFwcGluZ3MiOiJtQkFBTyxNQUFNQSxFQUNYLFlBQVlDLEVBQU9DLEVBQWFDLEVBQVNDLEVBQVVDLEVBQVUsV0FDM0RDLEtBQUtMLE1BQVFBLEVBQ2JLLEtBQUtKLFlBQWNBLEVBQ25CSSxLQUFLSCxRQUFVQSxFQUNmRyxLQUFLRixTQUFXQSxFQUNoQkUsS0FBS0QsUUFBVUEsRUFJakIsZ0JBQWdCRSxFQUFLQyxHQUNuQixJQUFJQyxFQVFKLE9BTkVBLEVBRHNCLFFBQXBCRixFQUFJQyxHQUFHSixTQUNELFVBQ3FCLFdBQXBCRyxFQUFJQyxHQUFHSixTQUNSLE9BRUEsU0FFSEssRUFHVCxtQkFBbUJBLEdBQ2pCLElBQUlDLEVBQ0FDLEVBU0osTUFSYyxZQUFWRixHQUFpQyxTQUFWQSxJQUN6QkMsRUFBVSxVQUNWQyxFQUFZLFVBRUEsV0FBVkYsSUFDRkMsRUFBVSxVQUNWQyxFQUFZLFdBRVAsQ0FBQ0QsRUFBU0MsR0FHbkIsZ0JBQWdCQyxHQUNkLE1BQU1DLEVBQWMsR0FFcEIsSUFBSyxJQUFJTCxFQUFJLEVBQUdBLEVBQUlJLEVBQVdFLE9BQVFOLEdBQUssRUFDMUNLLEVBQVlFLFFBQVFILEVBQVdKLEdBQUdRLE9BRXBDLE9BQU9ILEVBTVQsa0JBQWtCSSxFQUFVQyxFQUFhTixFQUFZTyxHQUNuRCxNQUFNQyxFQUFhQyxTQUFTQyxpQkFBaUIsZUFDN0MsSUFBSyxJQUFJZCxFQUFJLEVBQUdBLEVBQUlZLEVBQVdOLE9BQVFOLEdBQUssRUFDMUNZLEVBQVdaLEdBQUdlLGlCQUFpQixTQUFTLEtBQ3RDTixFQUFTTyxPQUFPaEIsRUFBRyxHQUNuQmlCLGFBQWFDLFFBQVEsV0FBWUMsS0FBS0MsVUFBVWhCLElBQ2hETyxFQUFZRCxFQUFhRCxNQU0vQixnQkFBZ0JZLEVBQWNDLEVBQWFsQixFQUFZTyxHQUNyRCxNQUFNWSxFQUFXVixTQUFTQyxpQkFBaUIsYUFFM0MsSUFBSyxJQUFJZCxFQUFJLEVBQUdBLEVBQUl1QixFQUFTakIsT0FBUU4sR0FBSyxFQUN4Q3VCLEVBQVN2QixHQUFHZSxpQkFBaUIsU0FBUyxLQUNwQyxNQUFNUyxFQUFpQlgsU0FBU1ksY0FBYyxtQkFBbUJ6QixLQUFLMEIsTUFDaEVDLEVBQXdCZCxTQUFTWSxjQUFjLDBCQUEwQnpCLEtBQUswQixNQUM5RUUsRUFBaUJmLFNBQVNZLGNBQWMsbUJBQW1CekIsS0FBSzBCLE1BQ2hFRyxFQUFxQmhCLFNBQVNZLGNBQWMsdUJBQXVCekIsS0FBSzBCLE1BRXZELEtBQW5CRixHQUcwQixLQUExQkcsR0FHbUIsS0FBbkJDLEdBR3VCLEtBQXZCQyxJQUlKUixFQUFhckIsR0FBR1AsTUFBUStCLEVBQ3hCSCxFQUFhckIsR0FBR04sWUFBY2lDLEVBQzlCTixFQUFhckIsR0FBRzhCLEtBQU9GLEVBQ3ZCUCxFQUFhckIsR0FBR0osU0FBV2lDLEVBRTNCWixhQUFhQyxRQUFRLFdBQVlDLEtBQUtDLFVBQVVoQixJQUNoRE8sRUFBWVcsRUFBYUQsUUFPMUIsTUFBTVUsRUFBZSxNQUUxQixNQUFNQyxFQUFXLEtBRWYsTUFBTUMsRUFBYXBCLFNBQVNxQixNQUFNLGNBT2xDLE9BSkFELEVBQVdsQixpQkFBaUIsVUFBV29CLElBQ3JDQSxFQUFFQyxvQkFHR0gsR0FJSHRCLEVBQWMsQ0FBQ0QsRUFBYUQsRUFBVUwsS0FDMUMsTUFBTWlDLEVBQVl4QixTQUFTWSxjQUFjLGVBQ3pDWSxFQUFVQyxVQUFZLEdBQ3RCLE1BQU1DLEVBQWUxQixTQUFTWSxjQUFjLGFBQ3RDZSxFQUFPM0IsU0FBU1ksY0FBYywwQkFFcEMsR0FBb0IsY0FBaEJmLEVBQTZCLENBQy9CNkIsRUFBYUUsVUFBVUMsSUFBSSxVQUMzQkYsRUFBS0MsVUFBVUMsSUFBSSxVQUNuQixNQUFNckMsRUFBY2IsRUFBS21ELFNBQVN2QyxHQUVsQyxJQUFLLElBQUlKLEVBQUksRUFBR0EsRUFBSUssRUFBWUMsT0FBUU4sR0FBSyxFQUFHLENBQzlDLE1BQU1DLEVBQVFULEVBQUtvRCxTQUFTdkMsRUFBYUwsR0FFekNxQyxFQUFVQyxXQUFhLGdIQUdzQnJDLDBFQUE4RUQsZ0RBQWdEQSx3Q0FDakpLLEVBQVlMLEdBQUdQLGdLQUlRTyxrRUFDR0Msd0lBRVFBLDJEQUErREksRUFBWUwsR0FBR04sdUZBQzlFTyx3REFBNERJLEVBQVlMLEdBQUdMLG1GQUMzRU0sd0RBQTRESSxFQUFZTCxHQUFHSixxS0FPcEksQ0FDTDJDLEVBQWFFLFVBQVVJLE9BQU8sVUFDOUJMLEVBQUtDLFVBQVVJLE9BQU8sVUFFdEJSLEVBQVVDLFVBQVksR0FDdEIsSUFBSyxJQUFJdEMsRUFBSSxFQUFHQSxFQUFJUyxFQUFTSCxPQUFRTixHQUFLLEVBQUcsQ0FDM0MsTUFBTUMsRUFBUVQsRUFBS29ELFNBQVNuQyxFQUFVVCxHQUV0Q3FDLEVBQVVDLFdBQWEsdUZBR2NyQywwRUFBOEVELGdEQUFnREEsZ0NBQ2pKUyxFQUFTVCxHQUFHUCxvSUFJV08sMERBQ0dDLHlIQUVRQSwyREFBK0RRLEVBQVNULEdBQUdOLCtFQUMzRU8sd0RBQTREUSxFQUFTVCxHQUFHTCwyRUFDeEVNLHdEQUE0RFEsRUFBU1QsR0FBR0oscVJBTXZFSixFQUFLc0QsWUFBWTdDLEdBQU8sZ0ZBQWdGRCwyREFBMkRBLHVPQUlySVIsRUFBS3NELFlBQVk3QyxHQUFPLG1NQUd4QkQsNE1BR2xCQSw4SkFDZ0NBLHFPQUl6QkEsMktBQ2dDQSw4TkFJdkNBLHlMQUVXQSxvUEFJUEEsZ0lBQ0FBLHUvQkFvQnJFYSxTQUFTWSxjQUFjLG1CQUFtQnpCLEtBQUsrQyxhQUFhLFFBQVN0QyxFQUFTVCxHQUFHUCxPQUNqRm9CLFNBQVNZLGNBQWMsMEJBQTBCekIsS0FBSytDLGFBQWEsUUFBU3RDLEVBQVNULEdBQUdOLGFBQ3hGbUIsU0FBU1ksY0FBYyxtQkFBbUJ6QixLQUFLK0MsYUFBYSxRQUFTdEMsRUFBU1QsR0FBR0wsU0FHbkZILEVBQUt3RCxTQUFTdkMsRUFBVUMsRUFBYU4sRUFBWU8sR0FFakRuQixFQUFLeUQsV0FBV3hDLEVBQVVDLEVBQWFOLEVBQVlPLEtBb0R2RCxNQUFPLENBQ0x1QyxjQWhEcUI5QyxJQUNyQixNQUFNNkIsRUFBYUQsSUFDRm5CLFNBQVNZLGNBQWMsYUFDL0JWLGlCQUFpQixTQUFTLEtBQ2pDLE1BQU1vQyxFQUFZbEIsRUFBV1IsY0FBYyxjQUFjQyxNQUNuRDBCLEVBQW1CbkIsRUFDdEJSLGNBQWMscUJBQ2RDLE1BQ0cyQixFQUFZcEIsRUFBV1IsY0FBYyxjQUFjQyxNQUNuRDRCLEVBQWdCckIsRUFBV1IsY0FBYyxrQkFBa0JDLE1BQzNENkIsRUFBZXRCLEVBQVdSLGNBQWMsaUJBQWlCQyxNQUN6RDhCLEVBQVVwRCxFQUFXcUQsUUFDekI1RCxHQUFXQSxFQUFRSixRQUFVOEQsSUFHL0IsR0FBa0IsS0FBZEosRUFDRixPQUVGLEdBQXlCLEtBQXJCQyxFQUNGLE9BRUYsR0FBa0IsS0FBZEMsRUFDRixPQUVGLEdBQXNCLEtBQWxCQyxFQUNGLE9BSUYsTUFBTUksRUFBVSxJQUFJbEUsRUFDbEIyRCxFQUNBQyxFQUNBQyxFQUNBQyxFQUNBQyxHQUVGQyxFQUFRLEdBQUdoRCxNQUFNRCxLQUFLbUQsR0FFdEJ6QyxhQUFhQyxRQUFRLFdBQVlDLEtBQUtDLFVBQVVoQixJQUVoRDRCLElBR0FyQixFQUFZNEMsRUFBY0MsRUFBUSxHQUFHaEQsTUFBT0osT0FLL0JPLGdCQXZMUyxHQzlGNUIsTUFBTWdELEVBQ0osWUFBWWxFLEdBQ1ZLLEtBQUtMLE1BQVFBLEVBQ2JLLEtBQUtVLE1BQVEsR0FHZixrQkFBa0JvRCxFQUFjeEQsR0FDOUIsTUFBTXlELEVBQWMsSUFBSUYsRUFBUUMsR0FDaEN4RCxFQUFXRyxLQUFLc0QsSUFLYixNQUFNQyxFQUFrQixNQUM3QixNQUFNQyxFQUFjLEtBRWxCLE1BQU1DLEVBQWVuRCxTQUFTcUIsTUFBTSxnQkFNcEMsT0FKQThCLEVBQWFqRCxpQkFBaUIsVUFBV29CLElBQ3ZDQSxFQUFFQyxvQkFHRzRCLEdBZUhDLEVBQXFCN0QsSUFDekIsTUFBTThELEVBQWVyRCxTQUFTWSxjQUFjLGlCQUM1Q3lDLEVBQWE1QixVQUFZLHFIQUl6QixJQUFLLElBQUl0QyxFQUFJLEVBQUdBLEVBQUlJLEVBQVdFLE9BQVFOLEdBQUssRUFDMUNrRSxFQUFhNUIsV0FBYSxpR0FDOERsQyxFQUFXSixHQUFHUCw0QkFvRTFHLE1BQU8sQ0FDTDBFLFdBeENrQi9ELElBQ0VTLFNBQVNZLGNBQWMsZ0JBRS9CVixpQkFBaUIsU0FBUyxLQUVwQ2dELElBckRrQixFQUFDM0QsRUFBWTJELEtBQ2pDLE1BQU1LLEVBQWdCTCxJQUFjdEMsY0FBYyxrQkFBa0JDLE1BQzlDLEtBQWxCMEMsSUFJSlQsRUFBUVUsV0FBV0QsRUFBZWhFLEdBRWxDYSxhQUFhQyxRQUFRLFdBQVlDLEtBQUtDLFVBQVVoQixNQWdEOUNrRSxDQUFjbEUsRUFBWTJELEdBRzFCRSxFQUFrQjdELEdBR2xCUyxTQUFTWSxjQUFjLGlCQUFpQjhDLFlBMEI5QkMsb0JBckJlcEUsSUFDM0IsTUFBTThELEVBQWVyRCxTQUFTWSxjQUFjLGlCQUU1Q3lDLEVBQWFuRCxpQkFBaUIsU0FBVW9CLElBQ3RDLE1BQU1zQyxFQUFldEMsRUFBRXVDLE9BQU9DLFlBQ3hCbkIsRUFBVXBELEVBQVdxRCxRQUFPNUQsR0FBV0EsRUFBUUosUUFBVWdGLElBQ3pEcEUsRUFBY2IsRUFBS21ELFNBQVN2QyxHQXZDYixFQUFDd0UsRUFBT0MsS0FDL0IsTUFBTXJCLEVBQVVvQixFQUFNRixPQUVMLElBQUlHLEVBQVlDLFVBQ3hCQyxTQUFTbEYsSUFDaEJBLEVBQVE0QyxVQUFVSSxPQUFPLGFBRzNCVyxFQUFRZixVQUFVQyxJQUFJLFVBQ0Q3QixTQUFTWSxjQUFjLGlCQUMvQmdCLFVBQVVJLE9BQU8sV0ErQjVCbUMsQ0FBaUI3QyxFQUFHK0IsR0FsREosQ0FBQ3hELElBRW5CLE1BQU02QyxFQUFlMUMsU0FBU1ksY0FBYyxZQUM1QzhCLEVBQWFqQixVQUFZLEdBQ3pCaUIsRUFBYWpCLFdBQWEseUNBQ1E1Qix3RkErQ2hDdUUsQ0FBWVIsR0FFUyxjQUFqQkEsRUFDRjFDLEVBQWFwQixZQUFZOEQsRUFBY3BFLEVBQWFELEdBRXBEMkIsRUFBYXBCLFlBQVk4RCxFQUFjakIsRUFBUSxHQUFHaEQsTUFBT0osT0FNNUI2RCxzQkFyR04sR0NYekJpQixFQUFXL0QsS0FBS2dFLE1BQU1sRSxhQUFhbUUsUUFBUSxjQUFnQixHQU8vRHRCLEVBQWdCRyxrQkFBa0JpQixHQUNsQ3BCLEVBQWdCSyxXQUFXZSxHQUMzQnBCLEVBQWdCVSxvQkFBb0JVLEdBR3BDbkQsRUFBYW1CLGNBQWNnQyxJIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVGFzayB7XG4gIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIHByb2plY3QgPSAnZGVmYXVsdCcpIHtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XG4gICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gIH1cblxuICAvLyBVSSBjb2xvciBsb2dpY1xuICBzdGF0aWMgZ2V0Q29sb3IoYXJyLCBpKSB7XG4gICAgbGV0IGNvbG9yO1xuICAgIGlmIChhcnJbaV0ucHJpb3JpdHkgPT09ICdsb3cnKSB7XG4gICAgICBjb2xvciA9ICdzdWNjZXNzJztcbiAgICB9IGVsc2UgaWYgKGFycltpXS5wcmlvcml0eSA9PT0gJ21lZGl1bScpIHtcbiAgICAgIGNvbG9yID0gJ2luZm8nO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb2xvciA9ICdkYW5nZXInO1xuICAgIH1cbiAgICByZXR1cm4gY29sb3I7XG4gIH1cblxuICBzdGF0aWMgYnV0dG9uQ29sb3IoY29sb3IpIHtcbiAgICBsZXQgYnRuRWRpdDtcbiAgICBsZXQgYnRuRGVsZXRlO1xuICAgIGlmIChjb2xvciA9PT0gJ3N1Y2Nlc3MnIHx8IGNvbG9yID09PSAnaW5mbycpIHtcbiAgICAgIGJ0bkVkaXQgPSAnd2FybmluZyc7XG4gICAgICBidG5EZWxldGUgPSAnZGFuZ2VyJztcbiAgICB9XG4gICAgaWYgKGNvbG9yID09PSAnZGFuZ2VyJykge1xuICAgICAgYnRuRWRpdCA9ICdwcmltYXJ5JztcbiAgICAgIGJ0bkRlbGV0ZSA9ICd3YXJuaW5nJztcbiAgICB9XG4gICAgcmV0dXJuIFtidG5FZGl0LCBidG5EZWxldGVdO1xuICB9XG5cbiAgc3RhdGljIGFsbFRhc2tzKHByb2plY3RBcnIpIHtcbiAgICBjb25zdCBhbGxQcm9qZWN0cyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9qZWN0QXJyLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBhbGxQcm9qZWN0cy5wdXNoKC4uLnByb2plY3RBcnJbaV0udGFza3MpO1xuICAgIH1cbiAgICByZXR1cm4gYWxsUHJvamVjdHM7XG4gIH1cblxuICAvLyBidXR0b24gbG9naWMgZm9yIHRhc2tzIGVkaXQvZGVsZXRlXG5cbiAgLy8gRGVsZXRlIFRhc2tzXG4gIHN0YXRpYyBkZWxldGVUYXNrKHRhc2tzQXJyLCBwcm9qZWN0TmFtZSwgcHJvamVjdEFyciwgcmVuZGVyVGFza3MpIHtcbiAgICBjb25zdCBERUxFVEVfQlROID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2RlbGV0ZS1idG4nKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IERFTEVURV9CVE4ubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIERFTEVURV9CVE5baV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRhc2tzQXJyLnNwbGljZShpLCAxKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Byb2plY3RzJywgSlNPTi5zdHJpbmdpZnkocHJvamVjdEFycikpO1xuICAgICAgICByZW5kZXJUYXNrcyhwcm9qZWN0TmFtZSwgdGFza3NBcnIpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gRWRpdCB0YXNrc1xuICBzdGF0aWMgZWRpdFRhc2socHJvamVjdFRhc2tzLCB0YXNrUHJvamVjdCwgcHJvamVjdEFyciwgcmVuZGVyVGFza3MpIHtcbiAgICBjb25zdCBFRElUX0JUTiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNlZGl0LWJ0bicpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBFRElUX0JUTi5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgRURJVF9CVE5baV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IEVESVRfVEFTS19OQU1FID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2VkaXQtdGFzay1uYW1lLSR7aX1gKS52YWx1ZTtcbiAgICAgICAgY29uc3QgRURJVF9UQVNLX0RFU0NSSVBUSU9OID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2VkaXQtdGFzay1kZXNjcmlwdGlvbi0ke2l9YCkudmFsdWU7XG4gICAgICAgIGNvbnN0IEVESVRfVEFTS19EQVRFID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2VkaXQtdGFzay1kYXRlLSR7aX1gKS52YWx1ZTtcbiAgICAgICAgY29uc3QgRURJVF9UQVNLX1BSSU9SSVRZID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2VkaXQtdGFzay1wcmlvcml0eS0ke2l9YCkudmFsdWU7XG5cbiAgICAgICAgaWYgKEVESVRfVEFTS19OQU1FID09PSAnJykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoRURJVF9UQVNLX0RFU0NSSVBUSU9OID09PSAnJykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoRURJVF9UQVNLX0RBVEUgPT09ICcnKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChFRElUX1RBU0tfUFJJT1JJVFkgPT09ICcnKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvamVjdFRhc2tzW2ldLnRpdGxlID0gRURJVF9UQVNLX05BTUU7XG4gICAgICAgIHByb2plY3RUYXNrc1tpXS5kZXNjcmlwdGlvbiA9IEVESVRfVEFTS19ERVNDUklQVElPTjtcbiAgICAgICAgcHJvamVjdFRhc2tzW2ldLmRhdGUgPSBFRElUX1RBU0tfREFURTtcbiAgICAgICAgcHJvamVjdFRhc2tzW2ldLnByaW9yaXR5ID0gRURJVF9UQVNLX1BSSU9SSVRZO1xuXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KHByb2plY3RBcnIpKTtcbiAgICAgICAgcmVuZGVyVGFza3ModGFza1Byb2plY3QsIHByb2plY3RUYXNrcyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuLy8gVGFzayBDcmVhdGlvbiBNb2R1bGUgKElJRkUpO1xuZXhwb3J0IGNvbnN0IHRhc2tDcmVhdGlvbiA9ICgoKSA9PiB7XG4gIC8vIFRhc2sgRm9ybVxuICBjb25zdCB0YXNrRm9ybSA9ICgpID0+IHtcbiAgICAvLyBUYXNrcyBGb3JtIEluZm9ybWF0aW9uXG4gICAgY29uc3QgVEFTS1NfRk9STSA9IGRvY3VtZW50LmZvcm1zWyd0YXNrcy1mb3JtJ107XG5cbiAgICAvLyBwcmV2ZW50IGZvcm0gZGVmYXVsdCBiZWhhdmlvdXJcbiAgICBUQVNLU19GT1JNLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gVEFTS1NfRk9STTtcbiAgfTtcblxuICAvLyBSZW5kZXIgdGFza3Mgb24gdGhlIFVJXG4gIGNvbnN0IHJlbmRlclRhc2tzID0gKHByb2plY3ROYW1lLCB0YXNrc0FyciwgcHJvamVjdEFycikgPT4ge1xuICAgIGNvbnN0IFRBU0tfTElTVCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0YXNrcy1saXN0Jyk7XG4gICAgVEFTS19MSVNULmlubmVySFRNTCA9ICcnO1xuICAgIGNvbnN0IEFERF9UQVNLX0JUTiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGQtdGFzaycpO1xuICAgIGNvbnN0IEZPUk0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbXVsdGlDb2xsYXBzZUV4YW1wbGUyJyk7XG5cbiAgICBpZiAocHJvamVjdE5hbWUgPT09ICdBbGwgVGFza3MnKSB7XG4gICAgICBBRERfVEFTS19CVE4uY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XG4gICAgICBGT1JNLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xuICAgICAgY29uc3QgYWxsUHJvamVjdHMgPSBUYXNrLmFsbFRhc2tzKHByb2plY3RBcnIpO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbFByb2plY3RzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gVGFzay5nZXRDb2xvcihhbGxQcm9qZWN0cywgaSk7XG4gICAgICAgIC8qIGVzbGludCBtYXgtbGVuOiBbXCJlcnJvclwiLCB7IFwiaWdub3JlVGVtcGxhdGVMaXRlcmFsc1wiOiB0cnVlIH1dICovXG4gICAgICAgIFRBU0tfTElTVC5pbm5lckhUTUwgKz0gYFxuICAgICAgICAgICAgPGxpIGNsYXNzPVwiXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi0ke2NvbG9yfSB3LTEwMFwiIHR5cGU9XCJidXR0b25cIiBkYXRhLWJzLXRvZ2dsZT1cImNvbGxhcHNlXCIgZGF0YS1icy10YXJnZXQ9XCIjdGFzay0ke2l9XCIgYXJpYS1leHBhbmRlZD1cImZhbHNlXCIgYXJpYS1jb250cm9scz1cInRhc2stJHtpfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2FsbFByb2plY3RzW2ldLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sbGFwc2VcIiBpZD1cInRhc2stJHtpfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkIGNhcmQtYm9keSBiZy0ke2NvbG9yfSBtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+RGVzY3JpcHRpb248L3NwYW4+OiAke2FsbFByb2plY3RzW2ldLmRlc2NyaXB0aW9ufTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gYmctJHtjb2xvcn0gdGV4dC13aGl0ZVwiPjxzcGFuIGNsYXNzPVwiZnctYm9sZFwiPkR1ZSBEYXRlPC9zcGFuPjogJHthbGxQcm9qZWN0c1tpXS5kdWVEYXRlfTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gYmctJHtjb2xvcn0gdGV4dC13aGl0ZVwiPjxzcGFuIGNsYXNzPVwiZnctYm9sZFwiPlByaW9yaXR5PC9zcGFuPjogJHthbGxQcm9qZWN0c1tpXS5wcmlvcml0eX08L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgIGA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIEFERF9UQVNLX0JUTi5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcbiAgICAgIEZPUk0uY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XG5cbiAgICAgIFRBU0tfTElTVC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFza3NBcnIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3QgY29sb3IgPSBUYXNrLmdldENvbG9yKHRhc2tzQXJyLCBpKTtcbiAgICAgICAgLyogZXNsaW50IG1heC1sZW46IFtcImVycm9yXCIsIHsgXCJpZ25vcmVUZW1wbGF0ZUxpdGVyYWxzXCI6IHRydWUgfV0gKi9cbiAgICAgICAgVEFTS19MSVNULmlubmVySFRNTCArPSBgXG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLSR7Y29sb3J9IHctMTAwXCIgdHlwZT1cImJ1dHRvblwiIGRhdGEtYnMtdG9nZ2xlPVwiY29sbGFwc2VcIiBkYXRhLWJzLXRhcmdldD1cIiN0YXNrLSR7aX1cIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIiBhcmlhLWNvbnRyb2xzPVwidGFzay0ke2l9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAke3Rhc2tzQXJyW2ldLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2xsYXBzZVwiIGlkPVwidGFzay0ke2l9XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkIGNhcmQtYm9keSBiZy0ke2NvbG9yfSBtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJsaXN0LWdyb3VwIFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+RGVzY3JpcHRpb248L3NwYW4+OiAke3Rhc2tzQXJyW2ldLmRlc2NyaXB0aW9ufTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5EdWUgRGF0ZTwvc3Bhbj46ICR7dGFza3NBcnJbaV0uZHVlRGF0ZX08L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+UHJpb3JpdHk8L3NwYW4+OiAke3Rhc2tzQXJyW2ldLnByaW9yaXR5fTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggbXQtMyBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tJHtUYXNrLmJ1dHRvbkNvbG9yKGNvbG9yKVswXX1cIiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1icy10b2dnbGU9XCJjb2xsYXBzZVwiIGRhdGEtYnMtdGFyZ2V0PVwiI2NvbGxhcHNlRXhhbXBsZS0ke2l9XCIgYXJpYS1leHBhbmRlZD1cImZhbHNlXCIgYXJpYS1jb250cm9scz1cImNvbGxhcHNlRXhhbXBsZS0ke2l9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRWRpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJkZWxldGUtYnRuXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi0ke1Rhc2suYnV0dG9uQ29sb3IoY29sb3IpWzFdfVwiPk1hcmsgYXMgY29tcGxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbGxhcHNlIG11bHRpLWNvbGxhcHNlXCIgaWQ9XCJjb2xsYXBzZUV4YW1wbGUtJHtpfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZvcm0gaWQ9XCJlZGl0LXRhc2tzLWZvcm1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZWRpdC10YXNrLW5hbWUtJHtpfVwiIGNsYXNzPVwiZm9ybS1sYWJlbCB0ZXh0LWluZm9cIj5UYXNrIFRpdGxlPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cImVkaXQtdGFzay1uYW1lLSR7aX1cIiByZXF1aXJlZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJlZGl0LXRhc2stZGVzY3JpcHRpb24tJHtpfVwiIGNsYXNzPVwiZm9ybS1sYWJlbCB0ZXh0LWluZm9cIj5UYXNrIERlc2NyaXB0aW9uPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cImVkaXQtdGFzay1kZXNjcmlwdGlvbi0ke2l9XCIgcmVxdWlyZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZWRpdC10YXNrLWRhdGUtJHtpfVwiIGNsYXNzPVwiZm9ybS1sYWJlbCB0ZXh0LWluZm9cIj5EdWUgRGF0ZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxicj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJkYXRlXCIgaWQ9XCJlZGl0LXRhc2stZGF0ZS0ke2l9XCIgbmFtZT1cInRyaXAtc3RhcnRcIiByZXF1aXJlZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJlZGl0LXRhc2stcHJpb3JpdHktJHtpfVwiIGNsYXNzPVwiZm9ybS1sYWJlbCB0ZXh0LWluZm9cIj5Qcmlvcml0eTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9XCJlZGl0LXRhc2stcHJpb3JpdHktJHtpfVwiIGNsYXNzPVwiZm9ybS1zZWxlY3RcIiBhcmlhLWxhYmVsPVwiRGVmYXVsdCBzZWxlY3QgZXhhbXBsZVwiIHJlcXVpcmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBzZWxlY3RlZD5TZWxlY3QgUHJpb3JpdHk8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJsb3dcIj5Mb3c8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJtZWRpdW1cIj5NZWRpdW08L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJoaWdoXCI+SGlnaDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiZWRpdC1idG5cIiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJidG4gYnRuLXNlY29uZGFyeVwiPkVkaXQgVGFzazwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgYDtcblxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLW5hbWUtJHtpfWApLnNldEF0dHJpYnV0ZSgndmFsdWUnLCB0YXNrc0FycltpXS50aXRsZSk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNlZGl0LXRhc2stZGVzY3JpcHRpb24tJHtpfWApLnNldEF0dHJpYnV0ZSgndmFsdWUnLCB0YXNrc0FycltpXS5kZXNjcmlwdGlvbik7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNlZGl0LXRhc2stZGF0ZS0ke2l9YCkuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHRhc2tzQXJyW2ldLmR1ZURhdGUpO1xuICAgICAgfVxuXG4gICAgICBUYXNrLmVkaXRUYXNrKHRhc2tzQXJyLCBwcm9qZWN0TmFtZSwgcHJvamVjdEFyciwgcmVuZGVyVGFza3MpO1xuXG4gICAgICBUYXNrLmRlbGV0ZVRhc2sodGFza3NBcnIsIHByb2plY3ROYW1lLCBwcm9qZWN0QXJyLCByZW5kZXJUYXNrcyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIGNyZWF0ZSB0YXNrIGFuZCBkaXNwbGF5IGl0IG9uIHRoZSBVSVxuICBjb25zdCBjcmVhdGVOZXdUYXNrID0gKHByb2plY3RBcnIpID0+IHtcbiAgICBjb25zdCBUQVNLU19GT1JNID0gdGFza0Zvcm0oKTtcbiAgICBjb25zdCBUQVNLX0JUTiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0YXNrLWJ0bicpO1xuICAgIFRBU0tfQlROLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgVEFTS19OQU1FID0gVEFTS1NfRk9STS5xdWVyeVNlbGVjdG9yKCcjdGFzay1uYW1lJykudmFsdWU7XG4gICAgICBjb25zdCBUQVNLX0RFU0NSSVBUSU9OID0gVEFTS1NfRk9STVxuICAgICAgICAucXVlcnlTZWxlY3RvcignI3Rhc2stZGVzY3JpcHRpb24nKVxuICAgICAgICAudmFsdWU7XG4gICAgICBjb25zdCBUQVNLX0RBVEUgPSBUQVNLU19GT1JNLnF1ZXJ5U2VsZWN0b3IoJyN0YXNrLWRhdGUnKS52YWx1ZTtcbiAgICAgIGNvbnN0IFRBU0tfUFJJT1JJVFkgPSBUQVNLU19GT1JNLnF1ZXJ5U2VsZWN0b3IoJyN0YXNrLXByaW9yaXR5JykudmFsdWU7XG4gICAgICBjb25zdCBUQVNLX1BST0pFQ1QgPSBUQVNLU19GT1JNLnF1ZXJ5U2VsZWN0b3IoJyN0YXNrLXByb2plY3QnKS52YWx1ZTtcbiAgICAgIGNvbnN0IFBST0pFQ1QgPSBwcm9qZWN0QXJyLmZpbHRlcihcbiAgICAgICAgcHJvamVjdCA9PiBwcm9qZWN0LnRpdGxlID09PSBUQVNLX1BST0pFQ1QsXG4gICAgICApO1xuXG4gICAgICBpZiAoVEFTS19OQU1FID09PSAnJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoVEFTS19ERVNDUklQVElPTiA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKFRBU0tfREFURSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKFRBU0tfUFJJT1JJVFkgPT09ICcnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gY3JlYXRlIG5ldyB0YXNrIGluc3RhbmNlXG4gICAgICBjb25zdCBuZXdUYXNrID0gbmV3IFRhc2soXG4gICAgICAgIFRBU0tfTkFNRSxcbiAgICAgICAgVEFTS19ERVNDUklQVElPTixcbiAgICAgICAgVEFTS19EQVRFLFxuICAgICAgICBUQVNLX1BSSU9SSVRZLFxuICAgICAgICBUQVNLX1BST0pFQ1QsXG4gICAgICApO1xuICAgICAgUFJPSkVDVFswXS50YXNrcy5wdXNoKG5ld1Rhc2spO1xuXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvamVjdHMnLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0QXJyKSk7XG5cbiAgICAgIHRhc2tGb3JtKCk7XG5cbiAgICAgIC8vIHJlbmRlciB0YXNrIHRvIHRoZSBVSVxuICAgICAgcmVuZGVyVGFza3MoVEFTS19QUk9KRUNULCBQUk9KRUNUWzBdLnRhc2tzLCBwcm9qZWN0QXJyKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGNyZWF0ZU5ld1Rhc2ssIHJlbmRlclRhc2tzLFxuICB9O1xufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgeyB0YXNrQ3JlYXRpb24gfTtcbiIsImltcG9ydCB7IHRhc2tDcmVhdGlvbiwgVGFzayB9IGZyb20gJy4vdGFza0RvbSc7XG5cbmNsYXNzIFByb2plY3Qge1xuICBjb25zdHJ1Y3Rvcih0aXRsZSkge1xuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICB0aGlzLnRhc2tzID0gW107XG4gIH1cblxuICBzdGF0aWMgbmV3UHJvamVjdChwcm9qZWN0VGl0bGUsIHByb2plY3RBcnIpIHtcbiAgICBjb25zdCBORVdfUFJPSkVDVCA9IG5ldyBQcm9qZWN0KHByb2plY3RUaXRsZSk7XG4gICAgcHJvamVjdEFyci5wdXNoKE5FV19QUk9KRUNUKTtcbiAgfVxufVxuXG4vLyBQcm9qZWN0IENyZWF0aW9uIE1vZHVsZSAoSUlGRSk7XG5leHBvcnQgY29uc3QgcHJvamVjdENyZWF0aW9uID0gKCgpID0+IHtcbiAgY29uc3QgcHJvamVjdEZvcm0gPSAoKSA9PiB7XG4gICAgLy8gcHJldmVudCBmb3JtIGRlZmF1bHQgYmVoYXZpb3VyXG4gICAgY29uc3QgUFJPSkVDVF9GT1JNID0gZG9jdW1lbnQuZm9ybXNbJ3Byb2plY3QtZm9ybSddO1xuXG4gICAgUFJPSkVDVF9GT1JNLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gUFJPSkVDVF9GT1JNO1xuICB9O1xuXG4gIC8vIFByb2plY3QgSGVscGVyIG1ldGhvZHNcbiAgY29uc3QgY3JlYXRlUHJvamVjdCA9IChwcm9qZWN0QXJyLCBwcm9qZWN0Rm9ybSkgPT4ge1xuICAgIGNvbnN0IFBST0pFQ1RfVElUTEUgPSBwcm9qZWN0Rm9ybSgpLnF1ZXJ5U2VsZWN0b3IoJyNwcm9qZWN0LXRpdGxlJykudmFsdWU7XG4gICAgaWYgKFBST0pFQ1RfVElUTEUgPT09ICcnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgUHJvamVjdC5uZXdQcm9qZWN0KFBST0pFQ1RfVElUTEUsIHByb2plY3RBcnIpO1xuXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Byb2plY3RzJywgSlNPTi5zdHJpbmdpZnkocHJvamVjdEFycikpO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlclByb2plY3RWaWV3ID0gKHByb2plY3RBcnIpID0+IHtcbiAgICBjb25zdCBQUk9KRUNUX0xJU1QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdC1saXN0Jyk7XG4gICAgUFJPSkVDVF9MSVNULmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBsaXN0LWdyb3VwLWl0ZW0tZGFyayBidG4gbXktMVwiIGlkPVwiYWxsLXByb2plY3RzXCI+QWxsIFRhc2tzPC9saT5cbiAgICAgICAgYDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdEFyci5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgUFJPSkVDVF9MSVNULmlubmVySFRNTCArPSBgXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGxpc3QtZ3JvdXAtaXRlbS1kYXJrIGJ0biBteS0xXCIgaWQ9XCJwcm9qZWN0LWxpc3RcIj4ke3Byb2plY3RBcnJbaV0udGl0bGV9PC9saT5cbiAgICAgICAgICAgIGA7XG4gICAgfVxuICB9O1xuXG4gIC8vIFByb2plY3QncyB0YXNrcyBIZWxwZXIgTWV0aG9kXG4gIGNvbnN0IHRhc2tPcHRpb25zID0gKHByb2plY3ROYW1lKSA9PiB7XG4gICAgLy8gQ3JlYXRlIHNlbGVjdGlvbiBvbiB0YXNrcyBiYXNlZCBvbiBvYmplY3RzXG4gICAgY29uc3QgVEFTS19QUk9KRUNUID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QnKTtcbiAgICBUQVNLX1BST0pFQ1QuaW5uZXJIVE1MID0gJyc7XG4gICAgVEFTS19QUk9KRUNULmlubmVySFRNTCArPSBgXG4gICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgdmFsdWU9XCIke3Byb2plY3ROYW1lfVwiIGlkPVwidGFzay1wcm9qZWN0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBhcmlhLWxhYmVsPVwiRGVmYXVsdCBzZWxlY3QgZXhhbXBsZVwiPlxuICAgIGA7XG4gIH07XG5cbiAgY29uc3QgcHJvamVjdFNlbGVjdGlvbiA9IChldmVudCwgcHJvamVjdExpc3QpID0+IHtcbiAgICBjb25zdCBQUk9KRUNUID0gZXZlbnQudGFyZ2V0O1xuXG4gICAgY29uc3QgY2hpbGRyZW4gPSBbLi4ucHJvamVjdExpc3QuY2hpbGRyZW5dO1xuICAgIGNoaWxkcmVuLmZvckVhY2goKHByb2plY3QpID0+IHtcbiAgICAgIHByb2plY3QuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgfSk7XG5cbiAgICBQUk9KRUNULmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGNvbnN0IFRBU0tfRElTUExBWSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0YXNrLWRpc3BsYXknKTtcbiAgICBUQVNLX0RJU1BMQVkuY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGFuZCBkaXNwbGF5IHByb2plY3QgaW4gdGhlIFVJXG4gIGNvbnN0IGFkZFByb2plY3QgPSAocHJvamVjdEFycikgPT4ge1xuICAgIGNvbnN0IFBST0pFQ1RfQlROID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QtYnRuJyk7XG5cbiAgICBQUk9KRUNUX0JUTi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIC8vIFByZXZlbnQgZGVmYXVsdFxuICAgICAgcHJvamVjdEZvcm0oKTtcblxuICAgICAgLy8gY3JlYXRlIG5ldyBwcm9qZWN0XG4gICAgICBjcmVhdGVQcm9qZWN0KHByb2plY3RBcnIsIHByb2plY3RGb3JtKTtcblxuICAgICAgLy8gUmVuZGVyIHByb2plY3RzIGluIHZpZXdzXG4gICAgICByZW5kZXJQcm9qZWN0Vmlldyhwcm9qZWN0QXJyKTtcblxuICAgICAgLy8gcmVzZXQgcHJvamVjdCBmb3JtXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdC1mb3JtJykucmVzZXQoKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBEaXNwbGF5IHRoZSBwcm9qZWN0J3Mgc3BlY2lmaWMgdGFza3MgaW4gdGhlIFVJXG4gIGNvbnN0IGRpc3BsYXlQcm9qZWN0VGFza3MgPSAocHJvamVjdEFycikgPT4ge1xuICAgIGNvbnN0IFBST0pFQ1RfTElTVCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9qZWN0LWxpc3QnKTtcblxuICAgIFBST0pFQ1RfTElTVC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBQUk9KRUNUX05BTUUgPSBlLnRhcmdldC50ZXh0Q29udGVudDtcbiAgICAgIGNvbnN0IFBST0pFQ1QgPSBwcm9qZWN0QXJyLmZpbHRlcihwcm9qZWN0ID0+IHByb2plY3QudGl0bGUgPT09IFBST0pFQ1RfTkFNRSk7XG4gICAgICBjb25zdCBhbGxQcm9qZWN0cyA9IFRhc2suYWxsVGFza3MocHJvamVjdEFycik7XG5cbiAgICAgIHByb2plY3RTZWxlY3Rpb24oZSwgUFJPSkVDVF9MSVNUKTtcblxuICAgICAgdGFza09wdGlvbnMoUFJPSkVDVF9OQU1FKTtcblxuICAgICAgaWYgKFBST0pFQ1RfTkFNRSA9PT0gJ0FsbCBUYXNrcycpIHtcbiAgICAgICAgdGFza0NyZWF0aW9uLnJlbmRlclRhc2tzKFBST0pFQ1RfTkFNRSwgYWxsUHJvamVjdHMsIHByb2plY3RBcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFza0NyZWF0aW9uLnJlbmRlclRhc2tzKFBST0pFQ1RfTkFNRSwgUFJPSkVDVFswXS50YXNrcywgcHJvamVjdEFycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBhZGRQcm9qZWN0LCBkaXNwbGF5UHJvamVjdFRhc2tzLCByZW5kZXJQcm9qZWN0VmlldyxcbiAgfTtcbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHsgcHJvamVjdENyZWF0aW9uIH07XG4iLCJpbXBvcnQgeyB0YXNrQ3JlYXRpb24gfSBmcm9tICcuL3Rhc2tEb20nO1xuaW1wb3J0IHsgcHJvamVjdENyZWF0aW9uIH0gZnJvbSAnLi9wcm9qZWN0RG9tJztcblxuLy8gT2JqZWN0J3MgYXJyYXlzXG5jb25zdCBwcm9qZWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2plY3RzJykpIHx8IFtdO1xuXG4vLyBDbGFzcyBDb25zdHJ1Y3RvclxuXG4vLyBFeGVjdXRlIHByb2dyYW1cbmNvbnN0IHJ1blNjcmlwdCA9ICgpID0+IHtcbiAgLy8gQ2FsbCBvZiBwcm9qZWN0J3MgZnVuY3Rpb24gd2l0aCBhdHRhY2hlZCBldmVudCBsaXN0ZW5lcnNcbiAgcHJvamVjdENyZWF0aW9uLnJlbmRlclByb2plY3RWaWV3KHByb2plY3RzKTtcbiAgcHJvamVjdENyZWF0aW9uLmFkZFByb2plY3QocHJvamVjdHMpO1xuICBwcm9qZWN0Q3JlYXRpb24uZGlzcGxheVByb2plY3RUYXNrcyhwcm9qZWN0cyk7XG5cbiAgLy8gQ2FsbCB0YXNrcyBmdW5jdGlvbnMgd2l0aCBhdHRhY2hlZCBldmVudCBsaXN0ZW5lcnNcbiAgdGFza0NyZWF0aW9uLmNyZWF0ZU5ld1Rhc2socHJvamVjdHMpO1xufTtcblxuLy8gRXhlY3V0ZSBzY3JpcHRcbnJ1blNjcmlwdChwcm9qZWN0cyk7XG4iXSwic291cmNlUm9vdCI6IiJ9