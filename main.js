(()=>{"use strict";var t={d:(e,s)=>{for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{I:()=>l,i:()=>a});const e=(()=>{const t=()=>{const t=document.forms["tasks-form"];return t.addEventListener("submit",(t=>{t.preventDefault()})),t},s=(t,s,n,i,a)=>{a.addEventListener("click",(a=>{a.target.id===`${t}-delete-btn-${i}`&&(s[i].exists=!1,localStorage.setItem("tasks",JSON.stringify(s)),e.renderTasks(n,s))}))},n=(t,e)=>{const n=document.querySelector("#tasks-list");n.innerHTML="";const i=document.querySelector("#add-task"),l=document.querySelector("#multiCollapseExample2"),o=t.split(" ").join("-");if("All Projects"===t){i.classList.add("d-none"),l.classList.add("d-none");for(let t=0;t<e.length;t+=1){const s=a.getColor(e,t);n.innerHTML+=`\n                    <li class="">\n                        <p>\n                            <button class="btn btn-${s} w-100" type="button" data-bs-toggle="collapse" data-bs-target="#task-${t}" aria-expanded="false" aria-controls="task-${t}">\n                                ${e[t].title}\n                            </button>\n                        </p>\n                        \n                        <div class="collapse" id="task-${t}">\n                            <div class="card card-body bg-${s} mb-4">\n                                <ul class="list-group">\n                                    <li class="list-group-item bg-${s} text-white"><span class="fw-bold">Description</span>: ${e[t].description}</li>\n                                    <li class="list-group-item bg-${s} text-white"><span class="fw-bold">Due Date</span>: ${e[t].dueDate}</li>\n                                    <li class="list-group-item bg-${s} text-white"><span class="fw-bold">Priority</span>: ${e[t].priority}</li>\n                                </ul>\n                            </div>\n                        </div>\n                    </li>\n                `}}else{i.classList.remove("d-none"),l.classList.remove("d-none"),n.innerHTML="";const r=e.filter((e=>e.project===t&&!0===e.exist));for(let i=0;i<r.length;i+=1){const l=a.getColor(r,i);n.innerHTML+=`\n            <li>\n                <p>\n                    <button class="btn btn-${l} w-100" type="button" data-bs-toggle="collapse" data-bs-target="#task-${i}" aria-expanded="false" aria-controls="task-${i}">\n                        ${r[i].title}\n                    </button>\n                </p>\n                    \n                <div class="collapse" id="task-${i}">\n                    <div class="card card-body bg-${l} mb-4">\n                        <ul class="list-group ">\n                            <li class="list-group-item bg-${l} text-white"><span class="fw-bold">Description</span>: ${r[i].description}</li>\n                            <li class="list-group-item bg-${l} text-white"><span class="fw-bold">Due Date</span>: ${r[i].dueDate}</li>\n                            <li class="list-group-item bg-${l} text-white"><span class="fw-bold">Priority</span>: ${r[i].priority}</li>\n                        </ul>\n                    \n                        <div class="d-flex mt-3 justify-content-between">\n                            <div>\n                                <p>\n                                    <button class="btn btn-${a.buttonColor(l)[0]}" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample-${i}" aria-expanded="false" aria-controls="collapseExample-${i}">\n                                        Edit\n                                    </button>\n\n                                    <button id="${o}-delete-btn-${i}" type="button" class="btn btn-${a.buttonColor(l)[1]}">Delete</button>\n                                </p>\n                                \n                                <div class="collapse multi-collapse" id="collapseExample-${i}">\n                                    <form id="edit-tasks-form">\n                                        <div class="mb-3">\n                                            <label for="edit-task-name-${i}" class="form-label text-info">Task Title</label>\n                                            <input type="text" class="form-control" id="edit-task-name-${i}" required>\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-description-${i}" class="form-label text-info">Task Description</label>\n                                            <input type="text" class="form-control" id="edit-task-description-${i}" required>\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-date-${i}" class="form-label text-info">Due Date</label>\n                                            <br>\n                                            <input type="date" id="edit-task-date-${i}" name="trip-start" required>\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-priority-${i}" class="form-label text-info">Priority</label>\n                                            <select id="edit-task-priority-${i}" class="form-select" aria-label="Default select example" required>\n                                                <option selected>Select Priority</option>\n                                                <option value="low">Low</option>\n                                                <option value="medium">Medium</option>\n                                                <option value="high">High</option>\n                                            </select>\n                                        </div>\n                                        \n                                        <div>\n                                            <button id="edit-btn-${i}" type="submit" class="btn btn-secondary">Edit Task</button>\n                                        </div\n                                    </form>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </li>\n            `,document.querySelector(`#edit-task-name-${i}`).setAttribute("value",r[i].title),document.querySelector(`#edit-task-description-${i}`).setAttribute("value",r[i].description),document.querySelector(`#edit-task-date-${i}`).setAttribute("value",r[i].dueDate),s(o,e,t,i,n),console.log(e)}}};return{createNewTask:e=>{const s=t();document.querySelector("#task-btn").addEventListener("click",(()=>{const i=s.querySelector("#task-name").value,l=s.querySelector("#task-description").value,o=s.querySelector("#task-date").value,r=s.querySelector("#task-priority").value,c=s.querySelector("#task-project").value;""!==i&&""!==l&&""!==o&&""!==r&&(a.newTask(e,i,l,o,r,c),localStorage.setItem("tasks",JSON.stringify(e)),t(),n(c,e))}))},renderTasks:n,deleteTask:s}})(),s=(()=>{const t=()=>{const t=document.forms["project-form"];return t.addEventListener("submit",(t=>{t.preventDefault()})),t},s=t=>{const e=document.querySelector("#project-list");e.innerHTML='\n            <li class="list-group-item list-group-item-dark btn my-1" id="all-projects">All Projects</li>\n        ';for(let s=0;s<t.length;s+=1)e.innerHTML+=`\n                <li class="list-group-item list-group-item-dark btn my-1" id="project-list">${t[s].title}</li>\n            `};return{addProject:e=>{document.querySelector("#project-btn").addEventListener("click",(()=>{t(),((t,e)=>{const s=e().querySelector("#project-title").value;""!==s&&(l.newProject(s,t),localStorage.setItem("projects",JSON.stringify(t)))})(e,t),s(e),document.querySelector("#project-form").reset()}))},displayProjectTasks:(t,s)=>{const n=document.querySelector("#project-list");n.addEventListener("click",(i=>{const a=i.target.textContent;((t,e)=>{const s=t.target;[...e.children].forEach((t=>{t.classList.remove("active")})),s.classList.add("active"),document.querySelector("#task-display").classList.remove("d-none")})(i,n),(t=>{const e=document.querySelector("#project");e.innerHTML="",e.innerHTML+=`\n        <input type="hidden" value="${t}" id="task-project" class="form-control" aria-label="Default select example">\n    `})(a),e.renderTasks(a,t,s)}))},renderProjectView:s}})();let n=JSON.parse(localStorage.getItem("projects"))||[];const i=JSON.parse(localStorage.getItem("tasks"))||[];class a{constructor(t,e,s,n,i="default"){this.title=t,this.description=e,this.dueDate=s,this.priority=n,this.project=i,this.exist=!0}static newTask(t,e,s,n,i,l){const o=new a(e,s,n,i,l);t.push(o)}static editTask(t,e,s,n){const i=document.forms["edit-tasks-form"];document.querySelector(`#edit-btn-${s}`).addEventListener("click",(()=>{const a=i.querySelector(`#edit-task-name-${s}`).value,l=i.querySelector(`#edit-task-description-${s}`).value,o=i.querySelector(`#edit-task-date-${s}`).value,r=i.querySelector(`#edit-task-priority-${s}`).value;""!==a&&""!==l&&""!==o&&""!==r&&(t[s].title=a,t[s].description=l,t[s].date=o,t[s].priority=r,n(e,t))}))}static getColor(t,e){let s;return s="low"===t[e].priority?"success":"medium"===t[e].priority?"info":"danger",s}static buttonColor(t){let e,s;return"success"!==t&&"info"!==t||(e="warning",s="danger"),"danger"===t&&(e="primary",s="warning"),[e,s]}}class l{constructor(t){this.title=t}static newProject(t,e){const s=new l(t);e.push(s)}}s.renderProjectView(n),s.addProject(n),s.displayProjectTasks(i),e.createNewTask(i,a)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qcy10b2RvbGlzdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9qcy10b2RvbGlzdC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vanMtdG9kb2xpc3Qvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9qcy10b2RvbGlzdC8uL3NyYy90YXNrRG9tLmpzIiwid2VicGFjazovL2pzLXRvZG9saXN0Ly4vc3JjL21haW4uanMiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJ0YXNrQ3JlYXRpb24iLCJ0YXNrRm9ybSIsIlRBU0tTX0ZPUk0iLCJkb2N1bWVudCIsImZvcm1zIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImRlbGV0ZVRhc2siLCJwcm9qZWN0IiwidGFza3NBcnIiLCJ0YXNrUHJvamVjdCIsImkiLCJUQVNLU19MSVNUIiwidGFyZ2V0IiwiaWQiLCJleGlzdHMiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlbmRlclRhc2tzIiwicHJvamVjdE5hbWUiLCJUQVNLX0xJU1QiLCJxdWVyeVNlbGVjdG9yIiwiaW5uZXJIVE1MIiwiQUREX1RBU0tfQlROIiwiRk9STSIsInNwbGl0Iiwiam9pbiIsImNsYXNzTGlzdCIsImFkZCIsImxlbmd0aCIsImNvbG9yIiwiVGFzayIsImdldENvbG9yIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJwcmlvcml0eSIsInJlbW92ZSIsInByb2plY3RUYXNrcyIsImZpbHRlciIsInRhc2siLCJleGlzdCIsImJ1dHRvbkNvbG9yIiwic2V0QXR0cmlidXRlIiwiY29uc29sZSIsImxvZyIsImNyZWF0ZU5ld1Rhc2siLCJUQVNLX05BTUUiLCJ2YWx1ZSIsIlRBU0tfREVTQ1JJUFRJT04iLCJUQVNLX0RBVEUiLCJUQVNLX1BSSU9SSVRZIiwiVEFTS19QUk9KRUNUIiwibmV3VGFzayIsInByb2plY3RDcmVhdGlvbiIsInByb2plY3RGb3JtIiwiUFJPSkVDVF9GT1JNIiwicmVuZGVyUHJvamVjdFZpZXciLCJwcm9qZWN0QXJyIiwiUFJPSkVDVF9MSVNUIiwiYWRkUHJvamVjdCIsIlBST0pFQ1RfVElUTEUiLCJQcm9qZWN0IiwibmV3UHJvamVjdCIsImNyZWF0ZVByb2plY3QiLCJyZXNldCIsImRpc3BsYXlQcm9qZWN0VGFza3MiLCJQUk9KRUNUX05BTUUiLCJ0ZXh0Q29udGVudCIsImV2ZW50IiwicHJvamVjdExpc3QiLCJQUk9KRUNUIiwiY2hpbGRyZW4iLCJmb3JFYWNoIiwicHJvamVjdFNlbGVjdGlvbiIsInRhc2tPcHRpb25zIiwicHJvamVjdHMiLCJwYXJzZSIsImdldEl0ZW0iLCJ0YXNrcyIsInRoaXMiLCJuYW1lIiwiZGF0ZSIsInB1c2giLCJyZW5kZXJUYXNrIiwiRURJVF9UQVNLX0ZPUk0iLCJFRElUX1RBU0tfTkFNRSIsIkVESVRfVEFTS19ERVNDUklQVElPTiIsIkVESVRfVEFTS19EQVRFIiwiRURJVF9UQVNLX1BSSU9SSVRZIiwiYXJyIiwiYnRuRWRpdCIsImJ0bkRlbGV0ZSIsInByb2plY3RUaXRsZSIsIk5FV19QUk9KRUNUIl0sIm1hcHBpbmdzIjoibUJBQ0EsSUFBSUEsRUFBc0IsQ0NBMUIsRUFBd0IsQ0FBQ0MsRUFBU0MsS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYRixFQUFvQkksRUFBRUYsRUFBWUMsS0FBU0gsRUFBb0JJLEVBQUVILEVBQVNFLElBQzVFRSxPQUFPQyxlQUFlTCxFQUFTRSxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsTUNKM0UsRUFB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aWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiaW1wb3J0IHsgVGFzayB9IGZyb20gXCIuL21haW5cIjtcclxuaW1wb3J0IHsgUHJvamVjdCB9IGZyb20gXCIuL21haW5cIjtcclxuXHJcbi8vIFRhc2sgQ3JlYXRpb24gTW9kdWxlIChJSUZFKTtcclxuZXhwb3J0IGNvbnN0IHRhc2tDcmVhdGlvbiA9ICgoKSA9PiB7XHJcbiAgLy8gVGFzayBGb3JtXHJcbiAgY29uc3QgdGFza0Zvcm0gPSAoKSA9PiB7XHJcbiAgICAvLyBUYXNrcyBGb3JtIEluZm9ybWF0aW9uXHJcbiAgICBjb25zdCBUQVNLU19GT1JNID0gZG9jdW1lbnQuZm9ybXNbJ3Rhc2tzLWZvcm0nXTtcclxuXHJcbi8vIHByZXZlbnQgZm9ybSBkZWZhdWx0IGJlaGF2aW91clxyXG4gICAgVEFTS1NfRk9STS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gVEFTS1NfRk9STTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGRlbGV0ZVRhc2sgPSAocHJvamVjdCwgdGFza3NBcnIsIHRhc2tQcm9qZWN0LCBpLCBUQVNLU19MSVNUKSA9PiB7XHJcbiAgICBUQVNLU19MSVNULmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgaWYgKGUudGFyZ2V0LmlkID09PSBgJHtwcm9qZWN0fS1kZWxldGUtYnRuLSR7aX1gKSB7XHJcbiAgICAgICAgdGFza3NBcnJbaV0uZXhpc3RzID0gZmFsc2U7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rhc2tzJywgSlNPTi5zdHJpbmdpZnkodGFza3NBcnIpKTtcclxuICAgICAgICB0YXNrQ3JlYXRpb24ucmVuZGVyVGFza3ModGFza1Byb2plY3QsIHRhc2tzQXJyKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBSZW5kZXIgdGFza3Mgb24gdGhlIFVJXHJcbiAgY29uc3QgcmVuZGVyVGFza3MgPSAocHJvamVjdE5hbWUsIHRhc2tzQXJyKSA9PiB7XHJcbiAgICBjb25zdCBUQVNLX0xJU1QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGFza3MtbGlzdCcpO1xyXG4gICAgVEFTS19MSVNULmlubmVySFRNTCA9ICcnO1xyXG4gICAgY29uc3QgQUREX1RBU0tfQlROID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZC10YXNrJyk7XHJcbiAgICBjb25zdCBGT1JNID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI211bHRpQ29sbGFwc2VFeGFtcGxlMicpO1xyXG4gICAgY29uc3QgcHJvamVjdCA9IHByb2plY3ROYW1lLnNwbGl0KCcgJykuam9pbignLScpO1xyXG5cclxuICAgIGlmIChwcm9qZWN0TmFtZSA9PT0gJ0FsbCBQcm9qZWN0cycpIHtcclxuICAgICAgQUREX1RBU0tfQlROLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xyXG4gICAgICBGT1JNLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhc2tzQXJyLmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAgICAgY29uc3QgY29sb3IgPSBUYXNrLmdldENvbG9yKHRhc2tzQXJyLCBpKTtcclxuICAgICAgICAvKiBlc2xpbnQgbWF4LWxlbjogW1wiZXJyb3JcIiwgeyBcImlnbm9yZVRlbXBsYXRlTGl0ZXJhbHNcIjogdHJ1ZSB9XSAqL1xyXG4gICAgICAgIFRBU0tfTElTVC5pbm5lckhUTUwgKz0gYFxyXG4gICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cIlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLSR7Y29sb3J9IHctMTAwXCIgdHlwZT1cImJ1dHRvblwiIGRhdGEtYnMtdG9nZ2xlPVwiY29sbGFwc2VcIiBkYXRhLWJzLXRhcmdldD1cIiN0YXNrLSR7aX1cIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIiBhcmlhLWNvbnRyb2xzPVwidGFzay0ke2l9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHt0YXNrc0FycltpXS50aXRsZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sbGFwc2VcIiBpZD1cInRhc2stJHtpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQgY2FyZC1ib2R5IGJnLSR7Y29sb3J9IG1iLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJsaXN0LWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+RGVzY3JpcHRpb248L3NwYW4+OiAke3Rhc2tzQXJyW2ldLmRlc2NyaXB0aW9ufTwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+RHVlIERhdGU8L3NwYW4+OiAke3Rhc2tzQXJyW2ldLmR1ZURhdGV9PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5Qcmlvcml0eTwvc3Bhbj46ICR7dGFza3NBcnJbaV0ucHJpb3JpdHl9PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICBgO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBBRERfVEFTS19CVE4uY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XHJcbiAgICAgIEZPUk0uY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XHJcblxyXG4gICAgICBUQVNLX0xJU1QuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgIGNvbnN0IHByb2plY3RUYXNrcyA9IHRhc2tzQXJyLmZpbHRlcih0YXNrID0+IHRhc2sucHJvamVjdCA9PT0gcHJvamVjdE5hbWUgJiYgdGFzay5leGlzdCA9PT0gdHJ1ZSk7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdFRhc2tzLmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAgICAgY29uc3QgY29sb3IgPSBUYXNrLmdldENvbG9yKHByb2plY3RUYXNrcywgaSk7XHJcbiAgICAgICAgLyogZXNsaW50IG1heC1sZW46IFtcImVycm9yXCIsIHsgXCJpZ25vcmVUZW1wbGF0ZUxpdGVyYWxzXCI6IHRydWUgfV0gKi9cclxuICAgICAgICBUQVNLX0xJU1QuaW5uZXJIVE1MICs9IGBcclxuICAgICAgICAgICAgPGxpPlxyXG4gICAgICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tJHtjb2xvcn0gdy0xMDBcIiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1icy10b2dnbGU9XCJjb2xsYXBzZVwiIGRhdGEtYnMtdGFyZ2V0PVwiI3Rhc2stJHtpfVwiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiIGFyaWEtY29udHJvbHM9XCJ0YXNrLSR7aX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHtwcm9qZWN0VGFza3NbaV0udGl0bGV9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sbGFwc2VcIiBpZD1cInRhc2stJHtpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkIGNhcmQtYm9keSBiZy0ke2NvbG9yfSBtYi00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImxpc3QtZ3JvdXAgXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gYmctJHtjb2xvcn0gdGV4dC13aGl0ZVwiPjxzcGFuIGNsYXNzPVwiZnctYm9sZFwiPkRlc2NyaXB0aW9uPC9zcGFuPjogJHtwcm9qZWN0VGFza3NbaV0uZGVzY3JpcHRpb259PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+RHVlIERhdGU8L3NwYW4+OiAke3Byb2plY3RUYXNrc1tpXS5kdWVEYXRlfTwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gYmctJHtjb2xvcn0gdGV4dC13aGl0ZVwiPjxzcGFuIGNsYXNzPVwiZnctYm9sZFwiPlByaW9yaXR5PC9zcGFuPjogJHtwcm9qZWN0VGFza3NbaV0ucHJpb3JpdHl9PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBtdC0zIGp1c3RpZnktY29udGVudC1iZXR3ZWVuXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi0ke1Rhc2suYnV0dG9uQ29sb3IoY29sb3IpWzBdfVwiIHR5cGU9XCJidXR0b25cIiBkYXRhLWJzLXRvZ2dsZT1cImNvbGxhcHNlXCIgZGF0YS1icy10YXJnZXQ9XCIjY29sbGFwc2VFeGFtcGxlLSR7aX1cIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIiBhcmlhLWNvbnRyb2xzPVwiY29sbGFwc2VFeGFtcGxlLSR7aX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVkaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiJHtwcm9qZWN0fS1kZWxldGUtYnRuLSR7aX1cIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLSR7VGFzay5idXR0b25Db2xvcihjb2xvcilbMV19XCI+RGVsZXRlPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2xsYXBzZSBtdWx0aS1jb2xsYXBzZVwiIGlkPVwiY29sbGFwc2VFeGFtcGxlLSR7aX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZvcm0gaWQ9XCJlZGl0LXRhc2tzLWZvcm1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImVkaXQtdGFzay1uYW1lLSR7aX1cIiBjbGFzcz1cImZvcm0tbGFiZWwgdGV4dC1pbmZvXCI+VGFzayBUaXRsZTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cImVkaXQtdGFzay1uYW1lLSR7aX1cIiByZXF1aXJlZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImVkaXQtdGFzay1kZXNjcmlwdGlvbi0ke2l9XCIgY2xhc3M9XCJmb3JtLWxhYmVsIHRleHQtaW5mb1wiPlRhc2sgRGVzY3JpcHRpb248L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJlZGl0LXRhc2stZGVzY3JpcHRpb24tJHtpfVwiIHJlcXVpcmVkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZWRpdC10YXNrLWRhdGUtJHtpfVwiIGNsYXNzPVwiZm9ybS1sYWJlbCB0ZXh0LWluZm9cIj5EdWUgRGF0ZTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZGF0ZVwiIGlkPVwiZWRpdC10YXNrLWRhdGUtJHtpfVwiIG5hbWU9XCJ0cmlwLXN0YXJ0XCIgcmVxdWlyZWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJlZGl0LXRhc2stcHJpb3JpdHktJHtpfVwiIGNsYXNzPVwiZm9ybS1sYWJlbCB0ZXh0LWluZm9cIj5Qcmlvcml0eTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD1cImVkaXQtdGFzay1wcmlvcml0eS0ke2l9XCIgY2xhc3M9XCJmb3JtLXNlbGVjdFwiIGFyaWEtbGFiZWw9XCJEZWZhdWx0IHNlbGVjdCBleGFtcGxlXCIgcmVxdWlyZWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gc2VsZWN0ZWQ+U2VsZWN0IFByaW9yaXR5PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJsb3dcIj5Mb3c8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm1lZGl1bVwiPk1lZGl1bTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiaGlnaFwiPkhpZ2g8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJlZGl0LWJ0bi0ke2l9XCIgdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiYnRuIGJ0bi1zZWNvbmRhcnlcIj5FZGl0IFRhc2s8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICBgO1xyXG5cclxuXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2VkaXQtdGFzay1uYW1lLSR7aX1gKS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgcHJvamVjdFRhc2tzW2ldLnRpdGxlKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLWRlc2NyaXB0aW9uLSR7aX1gKS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgcHJvamVjdFRhc2tzW2ldLmRlc2NyaXB0aW9uKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLWRhdGUtJHtpfWApLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBwcm9qZWN0VGFza3NbaV0uZHVlRGF0ZSk7XHJcblxyXG4gICAgICAgIGRlbGV0ZVRhc2socHJvamVjdCwgdGFza3NBcnIsIHByb2plY3ROYW1lLCBpLCBUQVNLX0xJU1QpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyh0YXNrc0Fycik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgfTtcclxuXHJcbiAgLy8gY3JlYXRlIHRhc2sgYW5kIGRpc3BsYXkgaXQgb24gdGhlIFVJXHJcbiAgY29uc3QgY3JlYXRlTmV3VGFzayA9ICh0YXNrc0FycikgPT4ge1xyXG4gICAgY29uc3QgVEFTS1NfRk9STSA9IHRhc2tGb3JtKCk7XHJcbiAgICBjb25zdCBUQVNLX0JUTiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0YXNrLWJ0bicpO1xyXG4gICAgVEFTS19CVE4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IFRBU0tfTkFNRSA9IFRBU0tTX0ZPUk0ucXVlcnlTZWxlY3RvcignI3Rhc2stbmFtZScpLnZhbHVlO1xyXG4gICAgICBjb25zdCBUQVNLX0RFU0NSSVBUSU9OID0gVEFTS1NfRk9STVxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKCcjdGFzay1kZXNjcmlwdGlvbicpXHJcbiAgICAgICAgLnZhbHVlO1xyXG4gICAgICBjb25zdCBUQVNLX0RBVEUgPSBUQVNLU19GT1JNLnF1ZXJ5U2VsZWN0b3IoJyN0YXNrLWRhdGUnKS52YWx1ZTtcclxuICAgICAgY29uc3QgVEFTS19QUklPUklUWSA9IFRBU0tTX0ZPUk0ucXVlcnlTZWxlY3RvcignI3Rhc2stcHJpb3JpdHknKS52YWx1ZTtcclxuICAgICAgY29uc3QgVEFTS19QUk9KRUNUID0gVEFTS1NfRk9STS5xdWVyeVNlbGVjdG9yKCcjdGFzay1wcm9qZWN0JykudmFsdWU7XHJcblxyXG4gICAgICBpZiAoVEFTS19OQU1FID09PSAnJykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoVEFTS19ERVNDUklQVElPTiA9PT0gJycpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgaWYgKFRBU0tfREFURSA9PT0gJycpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgaWYgKFRBU0tfUFJJT1JJVFkgPT09ICcnKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBjcmVhdGUgbmV3IHRhc2sgaW5zdGFuY2VcclxuICAgICAgVGFzay5uZXdUYXNrKHRhc2tzQXJyLFxyXG4gICAgICAgIFRBU0tfTkFNRSxcclxuICAgICAgICBUQVNLX0RFU0NSSVBUSU9OLFxyXG4gICAgICAgIFRBU0tfREFURSxcclxuICAgICAgICBUQVNLX1BSSU9SSVRZLFxyXG4gICAgICAgIFRBU0tfUFJPSkVDVCk7XHJcblxyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGFza3MnLCBKU09OLnN0cmluZ2lmeSh0YXNrc0FycikpO1xyXG5cclxuICAgICAgdGFza0Zvcm0oKTtcclxuXHJcbiAgICAgIC8vIHJlbmRlciB0YXNrIHRvIHRoZSBVSVxyXG4gICAgICByZW5kZXJUYXNrcyhUQVNLX1BST0pFQ1QsIHRhc2tzQXJyKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBjcmVhdGVOZXdUYXNrLCByZW5kZXJUYXNrcywgZGVsZXRlVGFza1xyXG4gIH07XHJcbn0pKCk7XHJcblxyXG4vLyBQcm9qZWN0IENyZWF0aW9uIE1vZHVsZSAoSUlGRSk7XHJcbmV4cG9ydCBjb25zdCBwcm9qZWN0Q3JlYXRpb24gPSAoKCkgPT4ge1xyXG4gIGNvbnN0IHByb2plY3RGb3JtID0gKCkgPT4ge1xyXG4gICAgLy8gcHJldmVudCBmb3JtIGRlZmF1bHQgYmVoYXZpb3VyXHJcbiAgICBjb25zdCBQUk9KRUNUX0ZPUk0gPSBkb2N1bWVudC5mb3Jtc1sncHJvamVjdC1mb3JtJ107XHJcblxyXG4gICAgUFJPSkVDVF9GT1JNLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBQUk9KRUNUX0ZPUk07XHJcbiAgfVxyXG5cclxuICAvLyBQcm9qZWN0IEhlbHBlciBtZXRob2RzXHJcbiAgY29uc3QgY3JlYXRlUHJvamVjdCA9IChwcm9qZWN0QXJyLCBwcm9qZWN0Rm9ybSkgPT4ge1xyXG4gICAgY29uc3QgUFJPSkVDVF9USVRMRSA9IHByb2plY3RGb3JtKCkucXVlcnlTZWxlY3RvcignI3Byb2plY3QtdGl0bGUnKS52YWx1ZTtcclxuICAgIGlmIChQUk9KRUNUX1RJVExFID09PSAnJykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgUHJvamVjdC5uZXdQcm9qZWN0KFBST0pFQ1RfVElUTEUsIHByb2plY3RBcnIpO1xyXG5cclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KHByb2plY3RBcnIpKTtcclxuICB9O1xyXG5cclxuICBjb25zdCByZW5kZXJQcm9qZWN0VmlldyA9IChwcm9qZWN0QXJyKSA9PiB7XHJcbiAgICBjb25zdCBQUk9KRUNUX0xJU1QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdC1saXN0Jyk7XHJcbiAgICBQUk9KRUNUX0xJU1QuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gbGlzdC1ncm91cC1pdGVtLWRhcmsgYnRuIG15LTFcIiBpZD1cImFsbC1wcm9qZWN0c1wiPkFsbCBQcm9qZWN0czwvbGk+XHJcbiAgICAgICAgYDtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2plY3RBcnIubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgUFJPSkVDVF9MSVNULmlubmVySFRNTCArPSBgXHJcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gbGlzdC1ncm91cC1pdGVtLWRhcmsgYnRuIG15LTFcIiBpZD1cInByb2plY3QtbGlzdFwiPiR7cHJvamVjdEFycltpXS50aXRsZX08L2xpPlxyXG4gICAgICAgICAgICBgO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIFByb2plY3QncyB0YXNrcyBIZWxwZXIgTWV0aG9kXHJcbiAgY29uc3QgdGFza09wdGlvbnMgPSAocHJvamVjdE5hbWUpID0+IHtcclxuICAgIC8vIENyZWF0ZSBzZWxlY3Rpb24gb24gdGFza3MgYmFzZWQgb24gb2JqZWN0c1xyXG4gICAgY29uc3QgVEFTS19QUk9KRUNUID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QnKTtcclxuICAgIFRBU0tfUFJPSkVDVC5pbm5lckhUTUwgPSAnJztcclxuICAgIFRBU0tfUFJPSkVDVC5pbm5lckhUTUwgKz0gYFxyXG4gICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgdmFsdWU9XCIke3Byb2plY3ROYW1lfVwiIGlkPVwidGFzay1wcm9qZWN0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBhcmlhLWxhYmVsPVwiRGVmYXVsdCBzZWxlY3QgZXhhbXBsZVwiPlxyXG4gICAgYDtcclxuICB9O1xyXG5cclxuICBjb25zdCBwcm9qZWN0U2VsZWN0aW9uID0gKGV2ZW50LCBwcm9qZWN0TGlzdCkgPT4ge1xyXG4gICAgY29uc3QgUFJPSkVDVCA9IGV2ZW50LnRhcmdldDtcclxuXHJcbiAgICBjb25zdCBjaGlsZHJlbiA9IFsuLi5wcm9qZWN0TGlzdC5jaGlsZHJlbl07XHJcbiAgICBjaGlsZHJlbi5mb3JFYWNoKChwcm9qZWN0KSA9PiB7XHJcbiAgICAgIHByb2plY3QuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBQUk9KRUNULmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgY29uc3QgVEFTS19ESVNQTEFZID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Rhc2stZGlzcGxheScpO1xyXG4gICAgVEFTS19ESVNQTEFZLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xyXG4gIH07XHJcblxyXG4gIC8vIENyZWF0ZSBhbmQgZGlzcGxheSBwcm9qZWN0IGluIHRoZSBVSVxyXG4gIGNvbnN0IGFkZFByb2plY3QgPSAocHJvamVjdEFycikgPT4ge1xyXG4gICAgY29uc3QgUFJPSkVDVF9CVE4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdC1idG4nKTtcclxuXHJcbiAgICBQUk9KRUNUX0JUTi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgLy9QcmV2ZW50IGRlZmF1bHRcclxuICAgICAgcHJvamVjdEZvcm0oKTtcclxuXHJcbiAgICAgIC8vIGNyZWF0ZSBuZXcgcHJvamVjdFxyXG4gICAgICBjcmVhdGVQcm9qZWN0KHByb2plY3RBcnIsIHByb2plY3RGb3JtKTtcclxuXHJcbiAgICAgIC8vIFJlbmRlciBwcm9qZWN0cyBpbiB2aWV3c1xyXG4gICAgICByZW5kZXJQcm9qZWN0Vmlldyhwcm9qZWN0QXJyKTtcclxuXHJcbiAgICAgIC8vIHJlc2V0IHByb2plY3QgZm9ybVxyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdC1mb3JtJykucmVzZXQoKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8vIERpc3BsYXkgdGhlIHByb2plY3QncyBzcGVjaWZpYyB0YXNrcyBpbiB0aGUgVUlcclxuICBjb25zdCBkaXNwbGF5UHJvamVjdFRhc2tzID0gKHRhc2tzQXJyLCBnZXRDb2xvcikgPT4ge1xyXG4gICAgY29uc3QgUFJPSkVDVF9MSVNUID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QtbGlzdCcpO1xyXG5cclxuICAgIFBST0pFQ1RfTElTVC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgIGNvbnN0IFBST0pFQ1RfTkFNRSA9IGUudGFyZ2V0LnRleHRDb250ZW50O1xyXG5cclxuICAgICAgcHJvamVjdFNlbGVjdGlvbihlLCBQUk9KRUNUX0xJU1QpO1xyXG5cclxuICAgICAgdGFza09wdGlvbnMoUFJPSkVDVF9OQU1FKTtcclxuXHJcbiAgICAgIHRhc2tDcmVhdGlvbi5yZW5kZXJUYXNrcyhQUk9KRUNUX05BTUUsIHRhc2tzQXJyLCBnZXRDb2xvcik7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgYWRkUHJvamVjdCwgZGlzcGxheVByb2plY3RUYXNrcywgcmVuZGVyUHJvamVjdFZpZXdcclxuICB9O1xyXG59KSgpO1xyXG4iLCJpbXBvcnQgeyBwcm9qZWN0Q3JlYXRpb24sIHRhc2tDcmVhdGlvbiB9IGZyb20gJy4vdGFza0RvbSc7XHJcblxyXG4vLyBPYmplY3QncyBhcnJheXNcclxubGV0IHByb2plY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvamVjdHMnKSkgfHwgW107XHJcblxyXG5jb25zdCB0YXNrcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rhc2tzJykpIHx8XHJcbiAgICBbXTtcclxuXHJcbi8vIENsYXNzIENvbnN0cnVjdG9yXHJcblxyXG5leHBvcnQgY2xhc3MgVGFzayB7XHJcbiAgY29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSwgcHJvamVjdCA9ICdkZWZhdWx0Jykge1xyXG4gICAgdGhpcy50aXRsZSA9IHRpdGxlO1xyXG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xyXG4gICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcclxuICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcclxuICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XHJcbiAgICB0aGlzLmV4aXN0ID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8vIGNyZWF0ZSB0YXNrIG9iamVjdFxyXG4gIHN0YXRpYyBuZXdUYXNrKHRhc2tzQXJyLCBuYW1lLCBkZXNjcmlwdGlvbiwgZGF0ZSwgcHJpb3JpdHksIHByb2plY3QpIHtcclxuICAgIGNvbnN0IG5ld1Rhc2sgPSBuZXcgVGFzayhuYW1lLCBkZXNjcmlwdGlvbiwgZGF0ZSwgcHJpb3JpdHksIHByb2plY3QpO1xyXG4gICAgdGFza3NBcnIucHVzaChuZXdUYXNrKTtcclxuICB9O1xyXG5cclxuICBzdGF0aWMgZWRpdFRhc2socHJvamVjdFRhc2tzLHRhc2tQcm9qZWN0LCBpLCByZW5kZXJUYXNrKSB7XHJcbiAgICBjb25zdCBFRElUX1RBU0tfRk9STSA9IGRvY3VtZW50LmZvcm1zWydlZGl0LXRhc2tzLWZvcm0nXVxyXG5cclxuICAgIGNvbnN0IEVESVRfVEFTS19CVE4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC1idG4tJHtpfWApO1xyXG4gICAgRURJVF9UQVNLX0JUTi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgY29uc3QgRURJVF9UQVNLX05BTUUgPSBFRElUX1RBU0tfRk9STS5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLW5hbWUtJHtpfWApLnZhbHVlO1xyXG4gICAgICBjb25zdCBFRElUX1RBU0tfREVTQ1JJUFRJT04gPSBFRElUX1RBU0tfRk9STS5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLWRlc2NyaXB0aW9uLSR7aX1gKS52YWx1ZTtcclxuICAgICAgY29uc3QgRURJVF9UQVNLX0RBVEUgPSBFRElUX1RBU0tfRk9STS5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLWRhdGUtJHtpfWApLnZhbHVlO1xyXG4gICAgICBjb25zdCBFRElUX1RBU0tfUFJJT1JJVFkgPSBFRElUX1RBU0tfRk9STS5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLXByaW9yaXR5LSR7aX1gKS52YWx1ZTtcclxuXHJcbiAgICAgIGlmIChFRElUX1RBU0tfTkFNRSA9PT0gJycpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgaWYgKEVESVRfVEFTS19ERVNDUklQVElPTiA9PT0gJycpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgaWYgKEVESVRfVEFTS19EQVRFID09PSAnJykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoRURJVF9UQVNLX1BSSU9SSVRZID09PSAnJykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgcHJvamVjdFRhc2tzW2ldLnRpdGxlID0gRURJVF9UQVNLX05BTUU7XHJcbiAgICAgIHByb2plY3RUYXNrc1tpXS5kZXNjcmlwdGlvbiA9IEVESVRfVEFTS19ERVNDUklQVElPTjtcclxuICAgICAgcHJvamVjdFRhc2tzW2ldLmRhdGUgPSBFRElUX1RBU0tfREFURTtcclxuICAgICAgcHJvamVjdFRhc2tzW2ldLnByaW9yaXR5ID0gRURJVF9UQVNLX1BSSU9SSVRZO1xyXG5cclxuICAgICAgcmVuZGVyVGFzayh0YXNrUHJvamVjdCwgcHJvamVjdFRhc2tzKVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBVSSBjb2xvciBsb2dpY1xyXG4gIHN0YXRpYyBnZXRDb2xvcihhcnIsIGkpIHtcclxuICAgIGxldCBjb2xvcjtcclxuICAgIGlmIChhcnJbaV0ucHJpb3JpdHkgPT09ICdsb3cnKSB7XHJcbiAgICAgIGNvbG9yID0gJ3N1Y2Nlc3MnO1xyXG4gICAgfSBlbHNlIGlmIChhcnJbaV0ucHJpb3JpdHkgPT09ICdtZWRpdW0nKSB7XHJcbiAgICAgIGNvbG9yID0gJ2luZm8nO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29sb3IgPSAnZGFuZ2VyJztcclxuICAgIH1cclxuICAgIHJldHVybiBjb2xvcjtcclxuICB9O1xyXG5cclxuICAvLyBidXR0b24gbG9naWMgZm9yIHRhc2tzIGVkaXQvZGVsZXRlXHJcbiAgc3RhdGljIGJ1dHRvbkNvbG9yKGNvbG9yKSB7XHJcbiAgICBsZXQgYnRuRWRpdDtcclxuICAgIGxldCBidG5EZWxldGU7XHJcbiAgICBpZiAoY29sb3IgPT09ICdzdWNjZXNzJyB8fCBjb2xvciA9PT0gJ2luZm8nKSB7XHJcbiAgICAgIGJ0bkVkaXQgPSAnd2FybmluZyc7XHJcbiAgICAgIGJ0bkRlbGV0ZSA9ICdkYW5nZXInO1xyXG4gICAgfVxyXG4gICAgaWYgKGNvbG9yID09PSAnZGFuZ2VyJykge1xyXG4gICAgICBidG5FZGl0ID0gJ3ByaW1hcnknO1xyXG4gICAgICBidG5EZWxldGUgPSAnd2FybmluZyc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gW2J0bkVkaXQsIGJ0bkRlbGV0ZV07XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFByb2plY3Qge1xyXG4gIGNvbnN0cnVjdG9yKHRpdGxlKSB7XHJcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgbmV3UHJvamVjdChwcm9qZWN0VGl0bGUsIHByb2plY3RBcnIpIHtcclxuICAgIGNvbnN0IE5FV19QUk9KRUNUID0gbmV3IFByb2plY3QocHJvamVjdFRpdGxlKTtcclxuICAgIHByb2plY3RBcnIucHVzaChORVdfUFJPSkVDVCk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDYWxsIG9mIHByb2plY3QncyBmdW5jdGlvbiB3aXRoIGF0dGFjaGVkIGV2ZW50IGxpc3RlbmVyc1xyXG5wcm9qZWN0Q3JlYXRpb24ucmVuZGVyUHJvamVjdFZpZXcocHJvamVjdHMpO1xyXG5wcm9qZWN0Q3JlYXRpb24uYWRkUHJvamVjdChwcm9qZWN0cyk7XHJcbnByb2plY3RDcmVhdGlvbi5kaXNwbGF5UHJvamVjdFRhc2tzKHRhc2tzKTtcclxuXHJcbi8vIENhbGwgdGFza3MgZnVuY3Rpb25zIHdpdGggYXR0YWNoZWQgZXZlbnQgbGlzdGVuZXJzXHJcbnRhc2tDcmVhdGlvbi5jcmVhdGVOZXdUYXNrKHRhc2tzLCBUYXNrKTtcclxuXHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9