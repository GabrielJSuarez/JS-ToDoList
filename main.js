(()=>{"use strict";class t{constructor(t){this.title=t}}const e=document.forms["project-form"];e.addEventListener("submit",(t=>{t.preventDefault()}));const n=(()=>{const n=(t,e)=>{const s=document.querySelector("#tasks-list");s.innerHTML="";let l=e.filter((t=>!0===t.exists));const a=document.querySelector("#add-task"),o=document.querySelector("#multiCollapseExample2");if("All Projects"===t){a.classList.add("d-none"),o.classList.add("d-none");for(let t=0;t<l.length;t++){let e=i(l,t);s.innerHTML+=`\n                    <li class="">\n                        <p>\n                            <button class="btn btn-${e} w-100" type="button" data-bs-toggle="collapse" data-bs-target="#task-${t}" aria-expanded="false" aria-controls="task-${t}">\n                                ${l[t].title}\n                            </button>\n                        </p>\n                        \n                        <div class="collapse" id="task-${t}">\n                            <div class="card card-body bg-${e} mb-4">\n                                <ul class="list-group">\n                                    <li class="list-group-item bg-${e} text-white"><span class="fw-bold">Description</span>: ${l[t].description}</li>\n                                    <li class="list-group-item bg-${e} text-white"><span class="fw-bold">Due Date</span>: ${l[t].dueDate}</li>\n                                    <li class="list-group-item bg-${e} text-white"><span class="fw-bold">Priority</span>: ${l[t].priority}</li>\n                                </ul>\n                            </div>\n                        </div>\n                    </li>\n                `}}else{a.classList.remove("d-none"),o.classList.remove("d-none");let l=e.filter((e=>e.project===t&&!0===e.exists));for(let e=0;e<l.length;e++){let a=i(l,e);s.innerHTML+=`\n                    <li>\n                        <p>\n                            <button class="btn btn-${a} w-100" type="button" data-bs-toggle="collapse" data-bs-target="#task-${e}" aria-expanded="false" aria-controls="task-${e}">\n                            ${l[e].title}\n                            </button>\n                        </p>\n                            \n                        <div class="collapse" id="task-${e}">\n                            <div class="card card-body bg-${a} mb-4">\n                                <ul class="list-group ">\n                                    <li class="list-group-item bg-${a} text-white"><span class="fw-bold">Description</span>: ${l[e].description}</li>\n                                    <li class="list-group-item bg-${a} text-white"><span class="fw-bold">Due Date</span>: ${l[e].dueDate}</li>\n                                    <li class="list-group-item bg-${a} text-white"><span class="fw-bold">Priority</span>: ${l[e].priority}</li>\n                                </ul>\n                            \n                                <div class="d-flex mt-3 justify-content-between">\n                                    <div>\n                                        <p>\n                                            <button class="btn btn-${buttonColor(a)[0]}" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample-${e}" aria-expanded="false" aria-controls="collapseExample-${e}">\n                                                Edit\n                                            </button>\n\n                                            <button id="delete-btn-${e}" type="button" class="btn btn-${buttonColor(a)[1]}">Delete</button>\n                                        </p>\n                                        \n                                        <div class="collapse multi-collapse" id="collapseExample-${e}">\n                                            <form id="edit-tasks-form">\n                                                <div class="mb-3">\n                                                    <label for="edit-task-name" class="form-label text-info">Task Title</label>\n                                                    <input type="text" class="form-control" id="edit-task-name-${e}">\n                                                </div>\n                                \n                                                <div class="mb-3">\n                                                    <label for="edit-task-description" class="form-label text-info">Task Description</label>\n                                                    <input type="text" class="form-control" id="edit-task-description-${e}">\n                                                </div>\n                                \n                                                <div class="mb-3">\n                                                    <label for="edit-task-date" class="form-label text-info">Due Date</label>\n                                                    <br>\n                                                    <input type="date" id="edit-task-date-${e}" name="trip-start">\n                                                </div>\n                                \n                                                <div class="mb-3">\n                                                    <label for="edit-task-priority" class="form-label text-info">Priority</label>\n                                                    <select id="edit-task-priority-${e}" class="form-select" aria-label="Default select example">\n                                                        <option selected>Select Priority</option>\n                                                        <option value="low">Low</option>\n                                                        <option value="medium">Medium</option>\n                                                        <option value="high">High</option>\n                                                    </select>\n                                                </div>\n                                                <div>\n                                                    <button id="edit-btn-${e}" type="submit" class="btn btn-secondary">Edit Task</button>\n                                                </div\n                                            </form>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </li>\n                `,document.querySelector("#delete-task").onclick=()=>{l[e].exists=!1,n(t,l)}}}},i=(t,e)=>{let n;return n="low"===t[e].priority?"success":"medium"===t[e].priority?"info":"danger",n};return{addProject:n=>{document.querySelector("#project-btn").addEventListener("click",(()=>{(n=>{const i=e.querySelector("#project-title").value;if(""===i)return;const s=new t(i);n.push(s)})(n),(t=>{const e=document.querySelector("#project-list");e.innerHTML='\n            <li class="list-group-item list-group-item-dark btn my-1" id="project-list">All Projects</li>\n        ';for(let n=0;n<t.length;n++)e.innerHTML+=`\n                <li class="list-group-item list-group-item-dark btn my-1" id="project-list">${t[n].title}</li>\n            `})(n),document.querySelector("#project-form")}))},displayProjectTasks:t=>{const e=document.querySelector("#project-list");e.addEventListener("click",(i=>{const s=i.target.textContent;((t,e)=>{const n=t.target;[...e.children].forEach((function(t){t.classList.remove("active")})),n.classList.add("active"),document.querySelector("#task-display").classList.remove("d-none")})(i,e),(t=>{const e=document.querySelector("#project");e.innerHTML="",e.innerHTML+=`\n        <input type="hidden" value="${t}" id="task-project" class="form-control" aria-label="Default select example">\n    `})(s),n(s,t)}))}}})();class i{constructor(t,e,n,i,s="default"){this.title=t,this.description=e,this.dueDate=n,this.priority=i,this.project=s,this.exists=!0}}const s=document.forms["tasks-form"];s.addEventListener("submit",(t=>{t.preventDefault()}));const l=(()=>{const t=(t,i)=>{const s=document.querySelector("#tasks-list");s.innerHTML="";let o=i.filter((e=>e.project===t&&!0===e.exists));for(let i=0;i<o.length;i++){let r=e(o,i);s.innerHTML+=`\n            <li>\n                <p>\n                    <button class="btn btn-${r} w-100" type="button" data-bs-toggle="collapse" data-bs-target="#task-${i}" aria-expanded="false" aria-controls="task-${i}">\n                        ${o[i].title}\n                    </button>\n                </p>\n                    \n                <div class="collapse" id="task-${i}">\n                    <div class="card card-body bg-${r} mb-4">\n                        <ul class="list-group ">\n                            <li class="list-group-item bg-${r} text-white"><span class="fw-bold">Description</span>: ${o[i].description}</li>\n                            <li class="list-group-item bg-${r} text-white"><span class="fw-bold">Due Date</span>: ${o[i].dueDate}</li>\n                            <li class="list-group-item bg-${r} text-white"><span class="fw-bold">Priority</span>: ${o[i].priority}</li>\n                        </ul>\n                    \n                        <div class="d-flex mt-3 justify-content-between">\n                            <div>\n                                <p>\n                                    <button class="btn btn-${n(r)[0]}" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample-${i}" aria-expanded="false" aria-controls="collapseExample-${i}">\n                                        Edit\n                                    </button>\n\n                                    <button id="delete-btn-${i}" type="button" class="btn btn-${n(r)[1]}">Delete</button>\n                                </p>\n\n                                <div class="collapse multi-collapse" id="collapseExample-${i}">\n                                    <form id="edit-tasks-form">\n                                        <div class="mb-3">\n                                            <label for="edit-task-name" class="form-label text-info">Task Title</label>\n                                            <input type="text" class="form-control" id="edit-task-name-${i}">\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-description" class="form-label text-info">Task Description</label>\n                                            <input type="text" class="form-control" id="edit-task-description-${i}">\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-date" class="form-label text-info">Due Date</label>\n                                            <br>\n                                            <input type="date" id="edit-task-date-${i}" name="trip-start">\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-priority" class="form-label text-info">Priority</label>\n                                            <select id="edit-task-priority-${i}" class="form-select" aria-label="Default select example">\n                                                <option selected>Select Priority</option>\n                                                <option value="low">Low</option>\n                                                <option value="medium">Medium</option>\n                                                <option value="high">High</option>\n                                            </select>\n                                        </div>\n                                        <div>\n                                            <button id="edit-btn-${i}" type="submit" class="btn btn-secondary">Edit Task</button>\n                                        </div\n                                    </form>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </li>\n            `,document.querySelector(`#edit-task-name-${i}`).setAttribute("value",o[i].title),document.querySelector(`#edit-task-description-${i}`).setAttribute("value",o[i].description),document.querySelector(`#edit-task-date-${i}`).setAttribute("value",o[i].dueDate),document.querySelector(`#edit-task-priority-${i}`).setAttribute("value",o[i].priority),l(o,t,i,s),a(o,t,i,s)}},e=(t,e)=>{let n;return n="low"===t[e].priority?"success":"medium"===t[e].priority?"info":"danger",n},n=t=>{let e,n;return e="warning",n="danger","danger"===t&&(e="primary",n="warning"),[e,n]},l=(e,n,i,s)=>{s.addEventListener("click",(s=>{s.target.id===`delete-btn-${i}`&&(e[i].exists=!1,t(n,e))}))},a=(e,n,i,s)=>{s.addEventListener("click",(s=>{if(s.target.id===`edit-btn-${i}`){const s=document.querySelector(`#edit-task-name-${i}`).value,l=document.querySelector(`#edit-task-description-${i}`).value,a=document.querySelector(`#edit-task-date-${i}`).value,o=document.querySelector(`#edit-task-priority-${i}`).value;if(""===s)return;if(""===l)return;if(""===a)return;if(""===o)return;e[i].title=s,e[i].description=l,e[i].dueDate=a,e[i].priority=o,t(n,e)}}))};return{createNewTask:e=>{document.querySelector("#task-btn").addEventListener("click",(()=>{const n=s.querySelector("#task-name").value,l=s.querySelector("#task-description").value,a=s.querySelector("#task-date").value,o=s.querySelector("#task-priority").value,r=s.querySelector("#task-project").value;""!==n&&""!==l&&""!==a&&""!==o&&(((t,e,n,s,l,a)=>{const o=new i(e,n,s,l,a);t.push(o)})(e,n,l,a,o,r),t(r,e),document.querySelector("#tasks-form"))}))},deleteTask:l,editTask:a}})(),a=[{title:"Task 1",description:"Description 1",dueDate:"2021-06-10",priority:"low",project:"Project 1",exists:!0},{title:"Task 2",description:"Description 2",dueDate:"2021-06-10",priority:"medium",project:"Project 2",exists:!0},{title:"Task 3",description:"Description 3",dueDate:"2021-06-10",priority:"high",project:"Project 3",exists:!0}];n.addProject([],a),n.displayProjectTasks(a),l.createNewTask(a)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qcy10b2RvbGlzdC8uL3NyYy9wcm9qZWN0LmpzIiwid2VicGFjazovL2pzLXRvZG9saXN0Ly4vc3JjL3Rhc2suanMiLCJ3ZWJwYWNrOi8vanMtdG9kb2xpc3QvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiUHJvamVjdCIsInRpdGxlIiwidGhpcyIsIlBST0pFQ1RfRk9STSIsImRvY3VtZW50IiwiZm9ybXMiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwicHJvamVjdENyZWF0aW9uIiwicmVuZGVyVGFza3MiLCJwcm9qZWN0TmFtZSIsInRhc2tzQXJyIiwiVEFTS19MSVNUIiwicXVlcnlTZWxlY3RvciIsImlubmVySFRNTCIsImFsbFRhc2tzIiwiZmlsdGVyIiwidGFzayIsImV4aXN0cyIsIkFERF9UQVNLX0JUTiIsIkZPUk0iLCJjbGFzc0xpc3QiLCJhZGQiLCJpIiwibGVuZ3RoIiwiY29sb3IiLCJnZXRDb2xvciIsImRlc2NyaXB0aW9uIiwiZHVlRGF0ZSIsInByaW9yaXR5IiwicmVtb3ZlIiwicHJvamVjdFRhc2tzIiwicHJvamVjdCIsImJ1dHRvbkNvbG9yIiwib25jbGljayIsImFyciIsImFkZFByb2plY3QiLCJwcm9qZWN0QXJyIiwiUFJPSkVDVF9USVRMRSIsInZhbHVlIiwiTkVXX1BST0pFQ1QiLCJwdXNoIiwiY3JlYXRlUHJvamVjdCIsIlBST0pFQ1RfTElTVCIsInJlbmRlclByb2plY3RWaWV3IiwiZGlzcGxheVByb2plY3RUYXNrcyIsIlBST0pFQ1RfTkFNRSIsInRhcmdldCIsInRleHRDb250ZW50IiwiZXZlbnQiLCJwcm9qZWN0TGlzdCIsIlBST0pFQ1QiLCJjaGlsZHJlbiIsImZvckVhY2giLCJwcm9qZWN0U2VsZWN0aW9uIiwiVEFTS19QUk9KRUNUIiwidGFza09wdGlvbnMiLCJUYXNrIiwiVEFTS1NfRk9STSIsInRhc2tDcmVhdGlvbiIsInJlbmRlclRhc2siLCJ0YXNrUHJvamVjdCIsIlRBU0tTX0xJU1QiLCJzZXRBdHRyaWJ1dGUiLCJkZWxldGVUYXNrIiwiZWRpdFRhc2siLCJidG5FZGl0IiwiYnRuRGVsZXRlIiwiaWQiLCJFRElUX05BTUUiLCJFRElUX0RFU0MiLCJFRElUX0RBVEUiLCJFRElUX1BSSU9SIiwiY3JlYXRlTmV3VGFzayIsIlRBU0tfTkFNRSIsIlRBU0tfREVTQ1JJUFRJT04iLCJUQVNLX0RBVEUiLCJUQVNLX1BSSU9SSVRZIiwibmFtZSIsImRhdGUiLCJuZXdUYXNrIiwidGFza3MiXSwibWFwcGluZ3MiOiJtQkFBQSxNQUFNQSxFQUNGLFlBQVlDLEdBQ1JDLEtBQUtELE1BQVFBLEdBS3JCLE1BQU1FLEVBQWVDLFNBQVNDLE1BQU0sZ0JBR3BDRixFQUFhRyxpQkFBaUIsVUFBV0MsSUFDckNBLEVBQUVDLG9CQUlDLE1BQU1DLEVBQWtCLE1BRzNCLE1BNkVNQyxFQUFjLENBQUNDLEVBQWFDLEtBQzlCLE1BQU1DLEVBQVlULFNBQVNVLGNBQWMsZUFDekNELEVBQVVFLFVBQVksR0FDdEIsSUFBSUMsRUFBV0osRUFBU0ssUUFBT0MsSUFBeUIsSUFBaEJBLEVBQUtDLFNBQzdDLE1BQU1DLEVBQWVoQixTQUFTVSxjQUFjLGFBQ3RDTyxFQUFPakIsU0FBU1UsY0FBYywwQkFFcEMsR0FBb0IsaUJBQWhCSCxFQUFnQyxDQUNoQ1MsRUFBYUUsVUFBVUMsSUFBSSxVQUMzQkYsRUFBS0MsVUFBVUMsSUFBSSxVQUNuQixJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSVIsRUFBU1MsT0FBUUQsSUFBSyxDQUN0QyxJQUFJRSxFQUFRQyxFQUFTWCxFQUFVUSxHQUMvQlgsRUFBVUUsV0FBYSx3SEFHY1csMEVBQThFRixnREFBZ0RBLHdDQUNqSlIsRUFBU1EsR0FBR3ZCLGdLQUlXdUIsa0VBQ0dFLHdJQUVRQSwyREFBK0RWLEVBQVNRLEdBQUdJLHVGQUMzRUYsd0RBQTREVixFQUFTUSxHQUFHSyxtRkFDeEVILHdEQUE0RFYsRUFBU1EsR0FBR00sNktBUTdILENBQ0hWLEVBQWFFLFVBQVVTLE9B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QUFjLGtCQUFrQjBCLE1BQzNEZ0IsRUFBZUcsRUFBVzdDLGNBQWMsaUJBQWlCMEIsTUFFN0MsS0FBZG1DLEdBR3FCLEtBQXJCQyxHQUdjLEtBQWRDLEdBR2tCLEtBQWxCQyxJQWVJLEVBQUNsRSxFQUFVbUUsRUFBTW5ELEVBQWFvRCxFQUFNbEQsRUFBVUcsS0FDMUQsTUFBTWdELEVBQVUsSUFBSXZCLEVBQUtxQixFQUFNbkQsRUFBYW9ELEVBQU1sRCxFQUFVRyxHQUM1RHJCLEVBQVM4QixLQUFLdUMsSUFaVkEsQ0FBUXJFLEVBQVUrRCxFQUFXQyxFQUFrQkMsRUFBV0MsRUFBZXRCLEdBR3pFSyxFQUFXTCxFQUFjNUMsR0FFekJSLFNBQVNVLGNBQWMsb0JBbUtabUQsYUFBWUMsYUFqTVAsR0NidEJnQixFQUFRLENBQ1YsQ0FDRWpGLE1BQU8sU0FDUDJCLFlBQWEsZ0JBQ2JDLFFBQVMsYUFDVEMsU0FBVSxNQUNWRyxRQUFTLFlBQ1RkLFFBQVEsR0FFVixDQUNFbEIsTUFBTyxTQUNQMkIsWUFBYSxnQkFDYkMsUUFBUyxhQUNUQyxTQUFVLFNBQ1ZHLFFBQVMsWUFDVGQsUUFBUSxHQUVWLENBQ0VsQixNQUFPLFNBQ1AyQixZQUFhLGdCQUNiQyxRQUFTLGFBQ1RDLFNBQVUsT0FDVkcsUUFBUyxZQUNUZCxRQUFRLElBS2RWLEVBQWdCNEIsV0E5QkMsR0E4Qm9CNkMsR0FDckN6RSxFQUFnQnFDLG9CQUFvQm9DLEdBR3BDdEIsRUFBYWMsY0FBY1EsSSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgUHJvamVjdCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSkge1xyXG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gUHJvamVjdCBGb3JtIEluZm9ybWF0aW9uXHJcbmNvbnN0IFBST0pFQ1RfRk9STSA9IGRvY3VtZW50LmZvcm1zWydwcm9qZWN0LWZvcm0nXTtcclxuXHJcbi8vIHByZXZlbnQgZm9ybSBkZWZhdWx0IGJlaGF2aW91clxyXG5QUk9KRUNUX0ZPUk0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxufSlcclxuXHJcbi8vIFByb2plY3QgQ3JlYXRpb24gTW9kdWxlIChJSUZFKTtcclxuZXhwb3J0IGNvbnN0IHByb2plY3RDcmVhdGlvbiA9ICgoKSA9PiB7XHJcblxyXG4gICAgLy8gQ3JlYXRlIGFuZCBkaXNwbGF5IHByb2plY3QgaW4gdGhlIFVJXHJcbiAgICBjb25zdCBhZGRQcm9qZWN0ID0gKHByb2plY3RBcnIpID0+IHtcclxuICAgICAgICBjb25zdCBQUk9KRUNUX0JUTiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9qZWN0LWJ0bicpO1xyXG5cclxuICAgICAgICBQUk9KRUNUX0JUTi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gY3JlYXRlIG5ldyBwcm9qZWN0XHJcbiAgICAgICAgICAgIGNyZWF0ZVByb2plY3QocHJvamVjdEFycik7XHJcblxyXG4gICAgICAgICAgICAvLyBSZW5kZXIgcHJvamVjdHMgaW4gdmlld3NcclxuICAgICAgICAgICAgcmVuZGVyUHJvamVjdFZpZXcocHJvamVjdEFycik7XHJcblxyXG4gICAgICAgICAgICAvLyByZXNldCBwcm9qZWN0IGZvcm1cclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QtZm9ybScpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFByb2plY3QgSGVscGVyIG1ldGhvZHNcclxuICAgIGNvbnN0IGNyZWF0ZVByb2plY3QgPSAocHJvamVjdEFycikgPT4ge1xyXG4gICAgICAgIGNvbnN0IFBST0pFQ1RfVElUTEUgPSBQUk9KRUNUX0ZPUk0ucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0LXRpdGxlXCIpLnZhbHVlO1xyXG4gICAgICAgIGlmIChQUk9KRUNUX1RJVExFID09PSAnJykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBORVdfUFJPSkVDVCA9IG5ldyBQcm9qZWN0KFBST0pFQ1RfVElUTEUpO1xyXG4gICAgICAgIHByb2plY3RBcnIucHVzaChORVdfUFJPSkVDVCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVuZGVyUHJvamVjdFZpZXcgPSAocHJvamVjdEFycikgPT4ge1xyXG4gICAgICAgIGNvbnN0IFBST0pFQ1RfTElTVCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdC1saXN0XCIpO1xyXG4gICAgICAgIFBST0pFQ1RfTElTVC5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBsaXN0LWdyb3VwLWl0ZW0tZGFyayBidG4gbXktMVwiIGlkPVwicHJvamVjdC1saXN0XCI+QWxsIFByb2plY3RzPC9saT5cclxuICAgICAgICBgO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2plY3RBcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgUFJPSkVDVF9MSVNULmlubmVySFRNTCArPSBgXHJcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gbGlzdC1ncm91cC1pdGVtLWRhcmsgYnRuIG15LTFcIiBpZD1cInByb2plY3QtbGlzdFwiPiR7cHJvamVjdEFycltpXS50aXRsZX08L2xpPlxyXG4gICAgICAgICAgICBgO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBEaXNwbGF5IHRoZSBwcm9qZWN0J3Mgc3BlY2lmaWMgdGFza3MgaW4gdGhlIFVJXHJcbiAgICBjb25zdCBkaXNwbGF5UHJvamVjdFRhc2tzID0gKHRhc2tzQXJyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgUFJPSkVDVF9MSVNUID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QtbGlzdCcpO1xyXG5cclxuICAgICAgICBQUk9KRUNUX0xJU1QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBQUk9KRUNUX05BTUUgPSBlLnRhcmdldC50ZXh0Q29udGVudDtcclxuXHJcbiAgICAgICAgICAgIHByb2plY3RTZWxlY3Rpb24oZSwgUFJPSkVDVF9MSVNUKTtcclxuXHJcbiAgICAgICAgICAgIHRhc2tPcHRpb25zKFBST0pFQ1RfTkFNRSk7XHJcblxyXG4gICAgICAgICAgICByZW5kZXJUYXNrcyhQUk9KRUNUX05BTUUsIHRhc2tzQXJyKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQcm9qZWN0J3MgdGFza3MgSGVscGVyIE1ldGhvZFxyXG4gICAgY29uc3QgdGFza09wdGlvbnMgPSAocHJvamVjdE5hbWUpID0+IHtcclxuICAgICAgICAvLyBDcmVhdGUgc2VsZWN0aW9uIG9uIHRhc2tzIGJhc2VkIG9uIG9iamVjdHNcclxuICAgICAgICBjb25zdCBUQVNLX1BST0pFQ1QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdCcpO1xyXG4gICAgICAgIFRBU0tfUFJPSkVDVC5pbm5lckhUTUwgPSBgYDtcclxuICAgICAgICBUQVNLX1BST0pFQ1QuaW5uZXJIVE1MICs9IGBcclxuICAgICAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIHZhbHVlPVwiJHtwcm9qZWN0TmFtZX1cIiBpZD1cInRhc2stcHJvamVjdFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgYXJpYS1sYWJlbD1cIkRlZmF1bHQgc2VsZWN0IGV4YW1wbGVcIj5cclxuICAgIGA7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcHJvamVjdFNlbGVjdGlvbiA9IChldmVudCwgcHJvamVjdExpc3QpID0+IHtcclxuICAgICAgICBjb25zdCAgUFJPSkVDVCA9IGV2ZW50LnRhcmdldDtcclxuXHJcbiAgICAgICAgbGV0IGNoaWxkcmVuID0gWy4uLnByb2plY3RMaXN0LmNoaWxkcmVuXTtcclxuICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKHByb2plY3Qpe1xyXG4gICAgICAgICAgICBwcm9qZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBQUk9KRUNULmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgIGNvbnN0IFRBU0tfRElTUExBWSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0YXNrLWRpc3BsYXknKTtcclxuICAgICAgICBUQVNLX0RJU1BMQVkuY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVuZGVyVGFza3MgPSAocHJvamVjdE5hbWUsIHRhc2tzQXJyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgVEFTS19MSVNUID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrcy1saXN0XCIpO1xyXG4gICAgICAgIFRBU0tfTElTVC5pbm5lckhUTUwgPSBgYDtcclxuICAgICAgICBsZXQgYWxsVGFza3MgPSB0YXNrc0Fyci5maWx0ZXIodGFzayAgPT4gdGFzay5leGlzdHMgPT09IHRydWUpO1xyXG4gICAgICAgIGNvbnN0IEFERF9UQVNLX0JUTiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGQtdGFzaycpO1xyXG4gICAgICAgIGNvbnN0IEZPUk0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbXVsdGlDb2xsYXBzZUV4YW1wbGUyJyk7XHJcblxyXG4gICAgICAgIGlmIChwcm9qZWN0TmFtZSA9PT0gXCJBbGwgUHJvamVjdHNcIikge1xyXG4gICAgICAgICAgICBBRERfVEFTS19CVE4uY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XHJcbiAgICAgICAgICAgIEZPUk0uY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsVGFza3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBjb2xvciA9IGdldENvbG9yKGFsbFRhc2tzLCBpKTtcclxuICAgICAgICAgICAgICAgIFRBU0tfTElTVC5pbm5lckhUTUwgKz0gYFxyXG4gICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cIlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLSR7Y29sb3J9IHctMTAwXCIgdHlwZT1cImJ1dHRvblwiIGRhdGEtYnMtdG9nZ2xlPVwiY29sbGFwc2VcIiBkYXRhLWJzLXRhcmdldD1cIiN0YXNrLSR7aX1cIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIiBhcmlhLWNvbnRyb2xzPVwidGFzay0ke2l9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHthbGxUYXNrc1tpXS50aXRsZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sbGFwc2VcIiBpZD1cInRhc2stJHtpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQgY2FyZC1ib2R5IGJnLSR7Y29sb3J9IG1iLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJsaXN0LWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+RGVzY3JpcHRpb248L3NwYW4+OiAke2FsbFRhc2tzW2ldLmRlc2NyaXB0aW9ufTwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+RHVlIERhdGU8L3NwYW4+OiAke2FsbFRhc2tzW2ldLmR1ZURhdGV9PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5Qcmlvcml0eTwvc3Bhbj46ICR7YWxsVGFza3NbaV0ucHJpb3JpdHl9PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIEFERF9UQVNLX0JUTi5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgRk9STS5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgbGV0IHByb2plY3RUYXNrcyA9IHRhc2tzQXJyLmZpbHRlcih0YXNrID0+IHRhc2sucHJvamVjdCA9PT0gcHJvamVjdE5hbWUgJiYgdGFzay5leGlzdHMgPT09IHRydWUpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2plY3RUYXNrcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbG9yID0gZ2V0Q29sb3IocHJvamVjdFRhc2tzLCBpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBUQVNLX0xJU1QuaW5uZXJIVE1MICs9IGBcclxuICAgICAgICAgICAgICAgICAgICA8bGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tJHtjb2xvcn0gdy0xMDBcIiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1icy10b2dnbGU9XCJjb2xsYXBzZVwiIGRhdGEtYnMtdGFyZ2V0PVwiI3Rhc2stJHtpfVwiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiIGFyaWEtY29udHJvbHM9XCJ0YXNrLSR7aX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7cHJvamVjdFRhc2tzW2ldLnRpdGxlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sbGFwc2VcIiBpZD1cInRhc2stJHtpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQgY2FyZC1ib2R5IGJnLSR7Y29sb3J9IG1iLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJsaXN0LWdyb3VwIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gYmctJHtjb2xvcn0gdGV4dC13aGl0ZVwiPjxzcGFuIGNsYXNzPVwiZnctYm9sZFwiPkRlc2NyaXB0aW9uPC9zcGFuPjogJHtwcm9qZWN0VGFza3NbaV0uZGVzY3JpcHRpb259PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5EdWUgRGF0ZTwvc3Bhbj46ICR7cHJvamVjdFRhc2tzW2ldLmR1ZURhdGV9PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5Qcmlvcml0eTwvc3Bhbj46ICR7cHJvamVjdFRhc2tzW2ldLnByaW9yaXR5fTwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggbXQtMyBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tJHtidXR0b25Db2xvcihjb2xvcilbMF19XCIgdHlwZT1cImJ1dHRvblwiIGRhdGEtYnMtdG9nZ2xlPVwiY29sbGFwc2VcIiBkYXRhLWJzLXRhcmdldD1cIiNjb2xsYXBzZUV4YW1wbGUtJHtpfVwiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiIGFyaWEtY29udHJvbHM9XCJjb2xsYXBzZUV4YW1wbGUtJHtpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFZGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJkZWxldGUtYnRuLSR7aX1cIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLSR7YnV0dG9uQ29sb3IoY29sb3IpWzFdfVwiPkRlbGV0ZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sbGFwc2UgbXVsdGktY29sbGFwc2VcIiBpZD1cImNvbGxhcHNlRXhhbXBsZS0ke2l9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZvcm0gaWQ9XCJlZGl0LXRhc2tzLWZvcm1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJlZGl0LXRhc2stbmFtZVwiIGNsYXNzPVwiZm9ybS1sYWJlbCB0ZXh0LWluZm9cIj5UYXNrIFRpdGxlPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJlZGl0LXRhc2stbmFtZS0ke2l9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImVkaXQtdGFzay1kZXNjcmlwdGlvblwiIGNsYXNzPVwiZm9ybS1sYWJlbCB0ZXh0LWluZm9cIj5UYXNrIERlc2NyaXB0aW9uPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJlZGl0LXRhc2stZGVzY3JpcHRpb24tJHtpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJlZGl0LXRhc2stZGF0ZVwiIGNsYXNzPVwiZm9ybS1sYWJlbCB0ZXh0LWluZm9cIj5EdWUgRGF0ZTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGVcIiBpZD1cImVkaXQtdGFzay1kYXRlLSR7aX1cIiBuYW1lPVwidHJpcC1zdGFydFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJlZGl0LXRhc2stcHJpb3JpdHlcIiBjbGFzcz1cImZvcm0tbGFiZWwgdGV4dC1pbmZvXCI+UHJpb3JpdHk8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD1cImVkaXQtdGFzay1wcmlvcml0eS0ke2l9XCIgY2xhc3M9XCJmb3JtLXNlbGVjdFwiIGFyaWEtbGFiZWw9XCJEZWZhdWx0IHNlbGVjdCBleGFtcGxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBzZWxlY3RlZD5TZWxlY3QgUHJpb3JpdHk8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibG93XCI+TG93PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm1lZGl1bVwiPk1lZGl1bTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJoaWdoXCI+SGlnaDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImVkaXQtYnRuLSR7aX1cIiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJidG4gYnRuLXNlY29uZGFyeVwiPkVkaXQgVGFzazwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2RpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgYDtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBERUxFVEUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGVsZXRlLXRhc2snKTtcclxuICAgICAgICAgICAgICAgIERFTEVURS5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RUYXNrc1tpXS5leGlzdHMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJUYXNrcyhwcm9qZWN0TmFtZSwgcHJvamVjdFRhc2tzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBnZXRDb2xvciA9IChhcnIsIGkpID0+IHtcclxuICAgICAgICBsZXQgY29sb3I7XHJcbiAgICAgICAgaWYgKGFycltpXS5wcmlvcml0eSA9PT0gJ2xvdycpIHtcclxuICAgICAgICAgICAgY29sb3IgPSAnc3VjY2Vzcyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChhcnJbaV0ucHJpb3JpdHkgPT09ICdtZWRpdW0nKSB7XHJcbiAgICAgICAgICAgIGNvbG9yID0gJ2luZm8nO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbG9yID0gJ2Rhbmdlcic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb2xvcjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGFkZFByb2plY3QsIGRpc3BsYXlQcm9qZWN0VGFza3NcclxuICAgIH1cclxufSkoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHsgcHJvamVjdENyZWF0aW9uIH07IiwiY2xhc3MgVGFzayB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBwcm9qZWN0ID0gXCJkZWZhdWx0XCIpIHtcclxuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xyXG4gICAgICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XHJcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xyXG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XHJcbiAgICAgICAgdGhpcy5leGlzdHMgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBUYXNrcyBGb3JtIEluZm9ybWF0aW9uXHJcbmNvbnN0IFRBU0tTX0ZPUk0gPSBkb2N1bWVudC5mb3Jtc1sndGFza3MtZm9ybSddO1xyXG5cclxuLy8gcHJldmVudCBmb3JtIGRlZmF1bHQgYmVoYXZpb3VyXHJcblRBU0tTX0ZPUk0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxufSk7XHJcblxyXG4vLyBUYXNrIENyZWF0aW9uIE1vZHVsZSAoSUlGRSk7XHJcbmV4cG9ydCBjb25zdCB0YXNrQ3JlYXRpb24gPSAoKCkgPT4ge1xyXG4gICAgLy8gY3JlYXRlIHRhc2sgYW5kIGRpc3BsYXkgaXQgb24gdGhlIFVJXHJcbiAgICBjb25zdCBjcmVhdGVOZXdUYXNrID0gKHRhc2tzQXJyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgVEFTS19CVE4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stYnRuXCIpO1xyXG4gICAgICAgIFRBU0tfQlROLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBUQVNLX05BTUUgPSBUQVNLU19GT1JNLnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay1uYW1lXCIpLnZhbHVlO1xyXG4gICAgICAgICAgICBjb25zdCBUQVNLX0RFU0NSSVBUSU9OID0gVEFTS1NfRk9STS5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stZGVzY3JpcHRpb25cIikudmFsdWU7XHJcbiAgICAgICAgICAgIGNvbnN0IFRBU0tfREFURSA9IFRBU0tTX0ZPUk0ucXVlcnlTZWxlY3RvcihcIiN0YXNrLWRhdGVcIikudmFsdWU7XHJcbiAgICAgICAgICAgIGNvbnN0IFRBU0tfUFJJT1JJVFkgPSBUQVNLU19GT1JNLnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay1wcmlvcml0eVwiKS52YWx1ZTtcclxuICAgICAgICAgICAgY29uc3QgVEFTS19QUk9KRUNUID0gVEFTS1NfRk9STS5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stcHJvamVjdFwiKS52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChUQVNLX05BTUUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIGlmIChUQVNLX0RFU0NSSVBUSU9OID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChUQVNLX0RBVEUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKFRBU0tfUFJJT1JJVFkgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBuZXcgdGFzayBpbnN0YW5jZVxyXG4gICAgICAgICAgICBuZXdUYXNrKHRhc2tzQXJyLCBUQVNLX05BTUUsIFRBU0tfREVTQ1JJUFRJT04sIFRBU0tfREFURSwgVEFTS19QUklPUklUWSwgVEFTS19QUk9KRUNUKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlbmRlciB0YXNrIHRvIHRoZSBVSVxyXG4gICAgICAgICAgICByZW5kZXJUYXNrKFRBU0tfUFJPSkVDVCwgdGFza3NBcnIpO1xyXG5cclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Rhc2tzLWZvcm0nKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNyZWF0ZSB0YXNrIG9iamVjdFxyXG4gICAgY29uc3QgbmV3VGFzayA9ICh0YXNrc0FyciwgbmFtZSwgZGVzY3JpcHRpb24sIGRhdGUsIHByaW9yaXR5LCBwcm9qZWN0KSA9PiB7XHJcbiAgICAgICAgY29uc3QgbmV3VGFzayA9IG5ldyBUYXNrKG5hbWUsIGRlc2NyaXB0aW9uLCBkYXRlLCBwcmlvcml0eSwgcHJvamVjdCk7XHJcbiAgICAgICAgdGFza3NBcnIucHVzaChuZXdUYXNrKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyByZW5kZXIgdGFza3MgaW4gdGhlIFVJXHJcbiAgICBjb25zdCByZW5kZXJUYXNrID0gKHRhc2tQcm9qZWN0LCB0YXNrc0FycikgPT4ge1xyXG4gICAgICAgIGNvbnN0IFRBU0tTX0xJU1QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2tzLWxpc3RcIik7XHJcblxyXG4gICAgICAgIFRBU0tTX0xJU1QuaW5uZXJIVE1MID0gYGA7XHJcbiAgICAgICAgbGV0IHByb2plY3RUYXNrcyA9IHRhc2tzQXJyLmZpbHRlcih0YXNrICA9PiB0YXNrLnByb2plY3QgPT09IHRhc2tQcm9qZWN0ICYmIHRhc2suZXhpc3RzID09PSB0cnVlKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9qZWN0VGFza3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGNvbG9yID0gZ2V0Q29sb3IocHJvamVjdFRhc2tzLCBpKTtcclxuICAgICAgICAgICAgVEFTS1NfTElTVC5pbm5lckhUTUwgKz0gYFxyXG4gICAgICAgICAgICA8bGk+XHJcbiAgICAgICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi0ke2NvbG9yfSB3LTEwMFwiIHR5cGU9XCJidXR0b25cIiBkYXRhLWJzLXRvZ2dsZT1cImNvbGxhcHNlXCIgZGF0YS1icy10YXJnZXQ9XCIjdGFzay0ke2l9XCIgYXJpYS1leHBhbmRlZD1cImZhbHNlXCIgYXJpYS1jb250cm9scz1cInRhc2stJHtpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAke3Byb2plY3RUYXNrc1tpXS50aXRsZX1cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2xsYXBzZVwiIGlkPVwidGFzay0ke2l9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQgY2FyZC1ib2R5IGJnLSR7Y29sb3J9IG1iLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwibGlzdC1ncm91cCBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+RGVzY3JpcHRpb248L3NwYW4+OiAke3Byb2plY3RUYXNrc1tpXS5kZXNjcmlwdGlvbn08L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5EdWUgRGF0ZTwvc3Bhbj46ICR7cHJvamVjdFRhc2tzW2ldLmR1ZURhdGV9PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+UHJpb3JpdHk8L3NwYW4+OiAke3Byb2plY3RUYXNrc1tpXS5wcmlvcml0eX08L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IG10LTMganVzdGlmeS1jb250ZW50LWJldHdlZW5cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLSR7YnV0dG9uQ29sb3IoY29sb3IpWzBdfVwiIHR5cGU9XCJidXR0b25cIiBkYXRhLWJzLXRvZ2dsZT1cImNvbGxhcHNlXCIgZGF0YS1icy10YXJnZXQ9XCIjY29sbGFwc2VFeGFtcGxlLSR7aX1cIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIiBhcmlhLWNvbnRyb2xzPVwiY29sbGFwc2VFeGFtcGxlLSR7aX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVkaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiZGVsZXRlLWJ0bi0ke2l9XCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi0ke2J1dHRvbkNvbG9yKGNvbG9yKVsxXX1cIj5EZWxldGU8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2xsYXBzZSBtdWx0aS1jb2xsYXBzZVwiIGlkPVwiY29sbGFwc2VFeGFtcGxlLSR7aX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZvcm0gaWQ9XCJlZGl0LXRhc2tzLWZvcm1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImVkaXQtdGFzay1uYW1lXCIgY2xhc3M9XCJmb3JtLWxhYmVsIHRleHQtaW5mb1wiPlRhc2sgVGl0bGU8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJlZGl0LXRhc2stbmFtZS0ke2l9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJlZGl0LXRhc2stZGVzY3JpcHRpb25cIiBjbGFzcz1cImZvcm0tbGFiZWwgdGV4dC1pbmZvXCI+VGFzayBEZXNjcmlwdGlvbjwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cImVkaXQtdGFzay1kZXNjcmlwdGlvbi0ke2l9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJlZGl0LXRhc2stZGF0ZVwiIGNsYXNzPVwiZm9ybS1sYWJlbCB0ZXh0LWluZm9cIj5EdWUgRGF0ZTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZGF0ZVwiIGlkPVwiZWRpdC10YXNrLWRhdGUtJHtpfVwiIG5hbWU9XCJ0cmlwLXN0YXJ0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJlZGl0LXRhc2stcHJpb3JpdHlcIiBjbGFzcz1cImZvcm0tbGFiZWwgdGV4dC1pbmZvXCI+UHJpb3JpdHk8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9XCJlZGl0LXRhc2stcHJpb3JpdHktJHtpfVwiIGNsYXNzPVwiZm9ybS1zZWxlY3RcIiBhcmlhLWxhYmVsPVwiRGVmYXVsdCBzZWxlY3QgZXhhbXBsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHNlbGVjdGVkPlNlbGVjdCBQcmlvcml0eTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibG93XCI+TG93PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJtZWRpdW1cIj5NZWRpdW08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImhpZ2hcIj5IaWdoPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImVkaXQtYnRuLSR7aX1cIiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJidG4gYnRuLXNlY29uZGFyeVwiPkVkaXQgVGFzazwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgIGA7XHJcblxyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLW5hbWUtJHtpfWApLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBwcm9qZWN0VGFza3NbaV0udGl0bGUpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLWRlc2NyaXB0aW9uLSR7aX1gKS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgcHJvamVjdFRhc2tzW2ldLmRlc2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2VkaXQtdGFzay1kYXRlLSR7aX1gKS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgcHJvamVjdFRhc2tzW2ldLmR1ZURhdGUpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLXByaW9yaXR5LSR7aX1gKS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgcHJvamVjdFRhc2tzW2ldLnByaW9yaXR5KTtcclxuXHJcbiAgICAgICAgICAgIGRlbGV0ZVRhc2socHJvamVjdFRhc2tzLCB0YXNrUHJvamVjdCwgaSwgVEFTS1NfTElTVCk7XHJcbiAgICAgICAgICAgIGVkaXRUYXNrKHByb2plY3RUYXNrcywgdGFza1Byb2plY3QsIGksIFRBU0tTX0xJU1QpXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZ2V0Q29sb3IgPSAoYXJyLCBpKSA9PiB7XHJcbiAgICAgICAgbGV0IGNvbG9yO1xyXG4gICAgICAgIGlmIChhcnJbaV0ucHJpb3JpdHkgPT09ICdsb3cnKSB7XHJcbiAgICAgICAgICAgIGNvbG9yID0gJ3N1Y2Nlc3MnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYXJyW2ldLnByaW9yaXR5ID09PSAnbWVkaXVtJykge1xyXG4gICAgICAgICAgICBjb2xvciA9ICdpbmZvJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb2xvciA9ICdkYW5nZXInO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYnV0dG9uQ29sb3IgPSAoY29sb3IpID0+IHtcclxuICAgICAgICBsZXQgYnRuRWRpdDtcclxuICAgICAgICBsZXQgYnRuRGVsZXRlO1xyXG4gICAgICAgIGlmIChjb2xvciA9PT0gXCJzdWNjZXNzXCIgfHwgXCJpbmZvXCIpIHtcclxuICAgICAgICAgICAgYnRuRWRpdCA9IFwid2FybmluZ1wiO1xyXG4gICAgICAgICAgICBidG5EZWxldGUgPSBcImRhbmdlclwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29sb3IgPT09IFwiZGFuZ2VyXCIpIHtcclxuICAgICAgICAgICAgYnRuRWRpdCA9IFwicHJpbWFyeVwiO1xyXG4gICAgICAgICAgICBidG5EZWxldGUgPSBcIndhcm5pbmdcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtidG5FZGl0LCBidG5EZWxldGVdO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRlbGV0ZVRhc2sgPSAocHJvamVjdFRhc2tzLCB0YXNrUHJvamVjdCwgaSwgVEFTS1NfTElTVCkgPT4ge1xyXG4gICAgICAgIFRBU0tTX0xJU1QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZS50YXJnZXQuaWQgPT09IGBkZWxldGUtYnRuLSR7aX1gKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9qZWN0VGFza3NbaV0uZXhpc3RzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICByZW5kZXJUYXNrKHRhc2tQcm9qZWN0LCBwcm9qZWN0VGFza3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBlZGl0VGFzayA9IChwcm9qZWN0VGFza3MsIHRhc2tQcm9qZWN0LCBpLCBUQVNLU19MSVNUKSA9PiB7XHJcbiAgICAgICAgVEFTS1NfTElTVC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC5pZCA9PT0gYGVkaXQtYnRuLSR7aX1gKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBFRElUX05BTUUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLW5hbWUtJHtpfWApLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgRURJVF9ERVNDID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2VkaXQtdGFzay1kZXNjcmlwdGlvbi0ke2l9YCkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBFRElUX0RBVEUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLWRhdGUtJHtpfWApLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgRURJVF9QUklPUiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNlZGl0LXRhc2stcHJpb3JpdHktJHtpfWApLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChFRElUX05BTUUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKEVESVRfREVTQyA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoRURJVF9EQVRFID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChFRElUX1BSSU9SID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBwcm9qZWN0VGFza3NbaV0udGl0bGUgPSBFRElUX05BTUU7XHJcbiAgICAgICAgICAgICAgICBwcm9qZWN0VGFza3NbaV0uZGVzY3JpcHRpb24gPSBFRElUX0RFU0M7XHJcbiAgICAgICAgICAgICAgICBwcm9qZWN0VGFza3NbaV0uZHVlRGF0ZSA9IEVESVRfREFURTtcclxuICAgICAgICAgICAgICAgIHByb2plY3RUYXNrc1tpXS5wcmlvcml0eSA9IEVESVRfUFJJT1I7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVuZGVyVGFzayh0YXNrUHJvamVjdCwgcHJvamVjdFRhc2tzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBjcmVhdGVOZXdUYXNrLCBkZWxldGVUYXNrLCBlZGl0VGFza1xyXG4gICAgfVxyXG59KSgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgeyB0YXNrQ3JlYXRpb24gfTsiLCIvLyBNZXRob2QgaW1wb3J0c1xyXG5pbXBvcnQgeyBwcm9qZWN0Q3JlYXRpb24gfSBmcm9tIFwiLi9wcm9qZWN0XCI7XHJcbmltcG9ydCB7IHRhc2tDcmVhdGlvbiB9IGZyb20gXCIuL3Rhc2tcIjtcclxuXHJcbi8vIE9iamVjdCdzIGFycmF5c1xyXG5jb25zdCBwcm9qZWN0cyA9IFtdO1xyXG5cclxuY29uc3QgdGFza3MgPSBbXHJcbiAgICB7XHJcbiAgICAgIHRpdGxlOiBcIlRhc2sgMVwiLFxyXG4gICAgICBkZXNjcmlwdGlvbjogXCJEZXNjcmlwdGlvbiAxXCIsXHJcbiAgICAgIGR1ZURhdGU6IFwiMjAyMS0wNi0xMFwiLFxyXG4gICAgICBwcmlvcml0eTogXCJsb3dcIixcclxuICAgICAgcHJvamVjdDogXCJQcm9qZWN0IDFcIixcclxuICAgICAgZXhpc3RzOiB0cnVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0aXRsZTogXCJUYXNrIDJcIixcclxuICAgICAgZGVzY3JpcHRpb246IFwiRGVzY3JpcHRpb24gMlwiLFxyXG4gICAgICBkdWVEYXRlOiBcIjIwMjEtMDYtMTBcIixcclxuICAgICAgcHJpb3JpdHk6IFwibWVkaXVtXCIsXHJcbiAgICAgIHByb2plY3Q6IFwiUHJvamVjdCAyXCIsXHJcbiAgICAgIGV4aXN0czogdHJ1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdGl0bGU6IFwiVGFzayAzXCIsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkRlc2NyaXB0aW9uIDNcIixcclxuICAgICAgZHVlRGF0ZTogXCIyMDIxLTA2LTEwXCIsXHJcbiAgICAgIHByaW9yaXR5OiBcImhpZ2hcIixcclxuICAgICAgcHJvamVjdDogXCJQcm9qZWN0IDNcIixcclxuICAgICAgZXhpc3RzOiB0cnVlXHJcbiAgICB9XHJcbiAgXTtcclxuXHJcbi8vIENhbGwgb2YgcHJvamVjdCdzIGZ1bmN0aW9uIHdpdGggYXR0YWNoZWQgZXZlbnQgbGlzdGVuZXJzXHJcbnByb2plY3RDcmVhdGlvbi5hZGRQcm9qZWN0KHByb2plY3RzLCB0YXNrcyk7XHJcbnByb2plY3RDcmVhdGlvbi5kaXNwbGF5UHJvamVjdFRhc2tzKHRhc2tzKTtcclxuXHJcbi8vIENhbGwgdGFza3MgZnVuY3Rpb25zIHdpdGggYXR0YWNoZWQgZXZlbnQgbGlzdGVuZXJzXHJcbnRhc2tDcmVhdGlvbi5jcmVhdGVOZXdUYXNrKHRhc2tzKTtcclxuXHJcblxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==