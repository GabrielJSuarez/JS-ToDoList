(()=>{"use strict";class t{constructor(t){this.title=t}}const e=document.forms["project-form"];e.addEventListener("submit",(t=>{t.preventDefault()}));const s=(()=>{const s=(t,e)=>{let s;return s="low"===t[e].priority?"success":"medium"===t[e].priority?"info":"danger",s},n=(t,e)=>{const i=document.querySelector("#tasks-list");i.innerHTML="";const l=e.filter((t=>!0===t.exists)),a=document.querySelector("#add-task"),r=document.querySelector("#multiCollapseExample2");if("All Projects"===t){a.classList.add("d-none"),r.classList.add("d-none");for(let t=0;t<l.length;t+=1){const e=s(l,t);i.innerHTML+=`\n                    <li class="">\n                        <p>\n                            <button class="btn btn-${e} w-100" type="button" data-bs-toggle="collapse" data-bs-target="#task-${t}" aria-expanded="false" aria-controls="task-${t}">\n                                ${l[t].title}\n                            </button>\n                        </p>\n                        \n                        <div class="collapse" id="task-${t}">\n                            <div class="card card-body bg-${e} mb-4">\n                                <ul class="list-group">\n                                    <li class="list-group-item bg-${e} text-white"><span class="fw-bold">Description</span>: ${l[t].description}</li>\n                                    <li class="list-group-item bg-${e} text-white"><span class="fw-bold">Due Date</span>: ${l[t].dueDate}</li>\n                                    <li class="list-group-item bg-${e} text-white"><span class="fw-bold">Priority</span>: ${l[t].priority}</li>\n                                </ul>\n                            </div>\n                        </div>\n                    </li>\n                `}}else{a.classList.remove("d-none"),r.classList.remove("d-none");const l=e.filter((e=>e.project===t&&!0===e.exists));for(let e=0;e<l.length;e+=1){const a=s(l,e);i.innerHTML+=`\n                    <li class="">\n                        <p>\n                            <button class="btn btn-${a} w-100" type="button" data-bs-toggle="collapse" data-bs-target="#task-${e}" aria-expanded="false" aria-controls="task-${e}">\n                                ${l[e].title}\n                            </button>\n                        </p>\n                        \n                        <div class="collapse" id="task-${e}">\n                            <div class="card card-body bg-${a} mb-4">\n                                <ul class="list-group ">\n                                    <li class="list-group-item bg-${a} text-white"><span class="fw-bold">Description</span>: ${l[e].description}</li>\n                                    <li class="list-group-item bg-${a} text-white"><span class="fw-bold">Due Date</span>: ${l[e].dueDate}</li>\n                                    <li class="list-group-item bg-${a} text-white"><span class="fw-bold">Priority</span>: ${l[e].priority}</li>\n                                </ul>\n                                \n                                <div class="d-flex mt-3">\n                                    <button type="button" class="btn btn-outline-dark mx-3">Edit</button>\n                                    <button id="delete-task" type="button" class="btn btn-outline-warning">Delete</button>\n                                </div>\n                                \n                            </div>\n                        </div>\n                    </li>\n                `,document.querySelector("#delete-task").onclick=()=>{l[e].exists=!1,n(t,l)}}}};return{addProject:s=>{document.querySelector("#project-btn").addEventListener("click",(()=>{(s=>{const n=e.querySelector("#project-title").value;if(""===n)return;const i=new t(n);s.push(i)})(s),(t=>{const e=document.querySelector("#project-list");e.innerHTML='\n            <li class="list-group-item list-group-item-dark btn my-1" id="project-list">All Projects</li>\n        ';for(let s=0;s<t.length;s+=1)e.innerHTML+=`\n                <li class="list-group-item list-group-item-dark btn my-1" id="project-list">${t[s].title}</li>\n            `})(s),document.querySelector("#project-form")}))},displayProjectTasks:t=>{const e=document.querySelector("#project-list");e.addEventListener("click",(s=>{const i=s.target.textContent;((t,e)=>{const s=t.target;[...e.children].forEach((t=>{t.classList.remove("active")})),s.classList.add("active"),document.querySelector("#task-display").classList.remove("d-none")})(s,e),(t=>{const e=document.querySelector("#project");e.innerHTML="",e.innerHTML+=`\n        <input type="hidden" value="${t}" id="task-project" class="form-control" aria-label="Default select example">\n    `})(i),n(i,t)}))}}})();class n{constructor(t,e,s,n,i="default"){this.title=t,this.description=e,this.dueDate=s,this.priority=n,this.project=i,this.exists=!0}static deleteTask(t,e,s,n,i){n.addEventListener("click",(n=>{n.target.id===`delete-btn-${s}`&&(t[s].exists=!1,i(e,t))}))}static editTask(t,e,s,n,i){n.addEventListener("click",(n=>{if(n.target.id===`edit-btn-${s}`){const n=document.querySelector(`#edit-task-name-${s}`).value,l=document.querySelector(`#edit-task-description-${s}`).value,a=document.querySelector(`#edit-task-date-${s}`).value,r=document.querySelector(`#edit-task-priority-${s}`).value;if(""===n)return;if(""===l)return;if(""===a)return;if(""===r)return;t[s].title=n,t[s].description=l,t[s].dueDate=a,t[s].priority=r,i(e,t)}}))}}const i=document.forms["tasks-form"];i.addEventListener("submit",(t=>{t.preventDefault()}));const l=(()=>{const t=(t,e)=>{let s;return s="low"===t[e].priority?"success":"medium"===t[e].priority?"info":"danger",s},e=t=>{let e,s;return"success"!==t&&"info"!==t||(e="warning",s="danger"),"danger"===t&&(e="primary",s="warning"),[e,s]},s=(s,i)=>{const a=document.querySelector("#tasks-list");a.innerHTML="";const r=i.filter((t=>t.project===s&&!0===t.exists));for(let i=0;i<r.length;i+=1){const o=t(r,i);a.innerHTML+=`\n            <li>\n                <p>\n                    <button class="btn btn-${o} w-100" type="button" data-bs-toggle="collapse" data-bs-target="#task-${i}" aria-expanded="false" aria-controls="task-${i}">\n                        ${r[i].title}\n                    </button>\n                </p>\n                    \n                <div class="collapse" id="task-${i}">\n                    <div class="card card-body bg-${o} mb-4">\n                        <ul class="list-group ">\n                            <li class="list-group-item bg-${o} text-white"><span class="fw-bold">Description</span>: ${r[i].description}</li>\n                            <li class="list-group-item bg-${o} text-white"><span class="fw-bold">Due Date</span>: ${r[i].dueDate}</li>\n                            <li class="list-group-item bg-${o} text-white"><span class="fw-bold">Priority</span>: ${r[i].priority}</li>\n                        </ul>\n                    \n                        <div class="d-flex mt-3 justify-content-between">\n                            <div>\n                                <p>\n                                    <button class="btn btn-${e(o)[0]}" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample-${i}" aria-expanded="false" aria-controls="collapseExample-${i}">\n                                        Edit\n                                    </button>\n\n                                    <button id="delete-btn-${i}" type="button" class="btn btn-${e(o)[1]}">Delete</button>\n                                </p>\n\n                                <div class="collapse multi-collapse" id="collapseExample-${i}">\n                                    <form id="edit-tasks-form">\n                                        <div class="mb-3">\n                                            <label for="edit-task-name" class="form-label text-info">Task Title</label>\n                                            <input type="text" class="form-control" id="edit-task-name-${i}">\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-description" class="form-label text-info">Task Description</label>\n                                            <input type="text" class="form-control" id="edit-task-description-${i}">\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-date" class="form-label text-info">Due Date</label>\n                                            <br>\n                                            <input type="date" id="edit-task-date-${i}" name="trip-start">\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-priority" class="form-label text-info">Priority</label>\n                                            <select id="edit-task-priority-${i}" class="form-select" aria-label="Default select example">\n                                                <option selected>Select Priority</option>\n                                                <option value="low">Low</option>\n                                                <option value="medium">Medium</option>\n                                                <option value="high">High</option>\n                                            </select>\n                                        </div>\n                                        <div>\n                                            <button id="edit-btn-${i}" type="submit" class="btn btn-secondary">Edit Task</button>\n                                        </div\n                                    </form>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </li>\n            `,document.querySelector(`#edit-task-name-${i}`).setAttribute("value",r[i].title),document.querySelector(`#edit-task-description-${i}`).setAttribute("value",r[i].description),document.querySelector(`#edit-task-date-${i}`).setAttribute("value",r[i].dueDate),document.querySelector(`#edit-task-priority-${i}`).setAttribute("value",r[i].priority),n.deleteTask(r,s,i,a,l.renderTask),n.editTask(r,s,i,a,l.renderTask)}};return{createNewTask:t=>{document.querySelector("#task-btn").addEventListener("click",(()=>{const e=i.querySelector("#task-name").value,l=i.querySelector("#task-description").value,a=i.querySelector("#task-date").value,r=i.querySelector("#task-priority").value,o=i.querySelector("#task-project").value;""!==e&&""!==l&&""!==a&&""!==r&&(((t,e,s,i,l,a)=>{const r=new n(e,s,i,l,a);t.push(r)})(t,e,l,a,r,o),s(o,t),document.querySelector("#tasks-form"))}))},renderTask:s}})(),a=[{title:"Task 1",description:"Description 1",dueDate:"2021-06-10",priority:"low",project:"Project 1",exists:!0},{title:"Task 2",description:"Description 2",dueDate:"2021-06-10",priority:"medium",project:"Project 2",exists:!0},{title:"Task 3",description:"Description 3",dueDate:"2021-06-10",priority:"high",project:"Project 3",exists:!0}];s.addProject([],a),s.displayProjectTasks(a),l.createNewTask(a,l.renderTask)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qcy10b2RvbGlzdC8uL3NyYy9wcm9qZWN0LmpzIiwid2VicGFjazovL2pzLXRvZG9saXN0Ly4vc3JjL3Rhc2suanMiLCJ3ZWJwYWNrOi8vanMtdG9kb2xpc3QvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiUHJvamVjdCIsInRpdGxlIiwidGhpcyIsIlBST0pFQ1RfRk9STSIsImRvY3VtZW50IiwiZm9ybXMiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwicHJvamVjdENyZWF0aW9uIiwiZ2V0Q29sb3IiLCJhcnIiLCJpIiwiY29sb3IiLCJwcmlvcml0eSIsInJlbmRlclRhc2tzIiwicHJvamVjdE5hbWUiLCJ0YXNrc0FyciIsIlRBU0tfTElTVCIsInF1ZXJ5U2VsZWN0b3IiLCJpbm5lckhUTUwiLCJhbGxUYXNrcyIsImZpbHRlciIsInRhc2siLCJleGlzdHMiLCJBRERfVEFTS19CVE4iLCJGT1JNIiwiY2xhc3NMaXN0IiwiYWRkIiwibGVuZ3RoIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwicmVtb3ZlIiwicHJvamVjdFRhc2tzIiwicHJvamVjdCIsIm9uY2xpY2siLCJhZGRQcm9qZWN0IiwicHJvamVjdEFyciIsIlBST0pFQ1RfVElUTEUiLCJ2YWx1ZSIsIk5FV19QUk9KRUNUIiwicHVzaCIsImNyZWF0ZVByb2plY3QiLCJQUk9KRUNUX0xJU1QiLCJyZW5kZXJQcm9qZWN0VmlldyIsImRpc3BsYXlQcm9qZWN0VGFza3MiLCJQUk9KRUNUX05BTUUiLCJ0YXJnZXQiLCJ0ZXh0Q29udGVudCIsImV2ZW50IiwicHJvamVjdExpc3QiLCJQUk9KRUNUIiwiY2hpbGRyZW4iLCJmb3JFYWNoIiwicHJvamVjdFNlbGVjdGlvbiIsIlRBU0tfUFJPSkVDVCIsInRhc2tPcHRpb25zIiwiVGFzayIsInRhc2tQcm9qZWN0IiwiVEFTS1NfTElTVCIsInJlbmRlclRhc2siLCJpZCIsIkVESVRfTkFNRSIsIkVESVRfREVTQyIsIkVESVRfREFURSIsIkVESVRfUFJJT1IiLCJUQVNLU19GT1JNIiwidGFza0NyZWF0aW9uIiwiYnV0dG9uQ29sb3IiLCJidG5FZGl0IiwiYnRuRGVsZXRlIiwic2V0QXR0cmlidXRlIiwiZGVsZXRlVGFzayIsImVkaXRUYXNrIiwiY3JlYXRlTmV3VGFzayIsIlRBU0tfTkFNRSIsIlRBU0tfREVTQ1JJUFRJT04iLCJUQVNLX0RBVEUiLCJUQVNLX1BSSU9SSVRZIiwibmFtZSIsImRhdGUiLCJuZXdUYXNrIiwidGFza3MiXSwibWFwcGluZ3MiOiJtQkFBQSxNQUFNQSxFQUNKLFlBQVlDLEdBQ1ZDLEtBQUtELE1BQVFBLEdBS2pCLE1BQU1FLEVBQWVDLFNBQVNDLE1BQU0sZ0JBR3BDRixFQUFhRyxpQkFBaUIsVUFBV0MsSUFDdkNBLEVBQUVDLG9CQUlHLE1BQU1DLEVBQWtCLE1BRTdCLE1BOENNQyxFQUFXLENBQUNDLEVBQUtDLEtBQ3JCLElBQUlDLEVBUUosT0FORUEsRUFEc0IsUUFBcEJGLEVBQUlDLEdBQUdFLFNBQ0QsVUFDcUIsV0FBcEJILEVBQUlDLEdBQUdFLFNBQ1IsT0FFQSxTQUVIRCxHQUdIRSxFQUFjLENBQUNDLEVBQWFDLEtBQ2hDLE1BQU1DLEVBQVlkLFNBQVNlLGNBQWMsZUFDekNELEVBQVVFLFVBQVksR0FDdEIsTUFBTUMsRUFBV0osRUFBU0ssUUFBT0MsSUFBd0IsSUFBaEJBLEVBQUtDLFNBQ3hDQyxFQUFlckIsU0FBU2UsY0FBYyxhQUN0Q08sRUFBT3RCLFNBQVNlLGNBQWMsMEJBRXBDLEdBQW9CLGlCQUFoQkgsRUFBZ0MsQ0FDbENTLEVBQWFFLFVBQVVDLElBQUksVUFDM0JGLEVBQUtDLFVBQVVDLElBQUksVUFDbkIsSUFBSyxJQUFJaEIsRUFBSSxFQUFHQSxFQUFJUyxFQUFTUSxPQUFRakIsR0FBSyxFQUFHLENBQzNDLE1BQU1DLEVBQVFILEVBQVNXLEVBQVVULEdBRWpDTSxFQUFVRSxXQUFhLHdIQUdzQlAsMEVBQThFRCxnREFBZ0RBLHdDQUNqSlMsRUFBU1QsR0FBR1gsZ0tBSVdX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LEVBQWdCWixFQUFXL0MsY0FBYyxrQkFBa0JvQixNQUMzRGdCLEVBQWVXLEVBQVcvQyxjQUFjLGlCQUFpQm9CLE1BRTdDLEtBQWRvQyxHQUdxQixLQUFyQkMsR0FHYyxLQUFkQyxHQUdrQixLQUFsQkMsSUF4SVEsRUFBQzdELEVBQVU4RCxFQUFNakQsRUFBYWtELEVBQU1sRSxFQUFVb0IsS0FDNUQsTUFBTStDLEVBQVUsSUFBSXhCLEVBQUtzQixFQUFNakQsRUFBYWtELEVBQU1sRSxFQUFVb0IsR0FDNURqQixFQUFTd0IsS0FBS3dDLElBMklaQSxDQUFRaEUsRUFBVTBELEVBQVdDLEVBQWtCQyxFQUFXQyxFQUFldkIsR0FHekVLLEVBQVdMLEVBQWN0QyxHQUV6QmIsU0FBU2UsY0FBYyxvQkFLVnlDLGVBekpTLEdDdER0QnNCLEVBQVEsQ0FDWixDQUNFakYsTUFBTyxTQUNQNkIsWUFBYSxnQkFDYkMsUUFBUyxhQUNUakIsU0FBVSxNQUNWb0IsUUFBUyxZQUNUVixRQUFRLEdBRVYsQ0FDRXZCLE1BQU8sU0FDUDZCLFlBQWEsZ0JBQ2JDLFFBQVMsYUFDVGpCLFNBQVUsU0FDVm9CLFFBQVMsWUFDVFYsUUFBUSxHQUVWLENBQ0V2QixNQUFPLFNBQ1A2QixZQUFhLGdCQUNiQyxRQUFTLGFBQ1RqQixTQUFVLE9BQ1ZvQixRQUFTLFlBQ1RWLFFBQVEsSUFLWmYsRUFBZ0IyQixXQTlCQyxHQThCb0I4QyxHQUNyQ3pFLEVBQWdCb0Msb0JBQW9CcUMsR0FHcENmLEVBQWFPLGNBQWNRLEVBQU9mLEVBQWFQLGEiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFByb2plY3Qge1xuICBjb25zdHJ1Y3Rvcih0aXRsZSkge1xuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgfVxufVxuXG4vLyBQcm9qZWN0IEZvcm0gSW5mb3JtYXRpb25cbmNvbnN0IFBST0pFQ1RfRk9STSA9IGRvY3VtZW50LmZvcm1zWydwcm9qZWN0LWZvcm0nXTtcblxuLy8gcHJldmVudCBmb3JtIGRlZmF1bHQgYmVoYXZpb3VyXG5QUk9KRUNUX0ZPUk0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xufSk7XG5cbi8vIFByb2plY3QgQ3JlYXRpb24gTW9kdWxlIChJSUZFKTtcbmV4cG9ydCBjb25zdCBwcm9qZWN0Q3JlYXRpb24gPSAoKCkgPT4ge1xuICAvLyBQcm9qZWN0IEhlbHBlciBtZXRob2RzXG4gIGNvbnN0IGNyZWF0ZVByb2plY3QgPSAocHJvamVjdEFycikgPT4ge1xuICAgIGNvbnN0IFBST0pFQ1RfVElUTEUgPSBQUk9KRUNUX0ZPUk0ucXVlcnlTZWxlY3RvcignI3Byb2plY3QtdGl0bGUnKS52YWx1ZTtcbiAgICBpZiAoUFJPSkVDVF9USVRMRSA9PT0gJycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBORVdfUFJPSkVDVCA9IG5ldyBQcm9qZWN0KFBST0pFQ1RfVElUTEUpO1xuICAgIHByb2plY3RBcnIucHVzaChORVdfUFJPSkVDVCk7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyUHJvamVjdFZpZXcgPSAocHJvamVjdEFycikgPT4ge1xuICAgIGNvbnN0IFBST0pFQ1RfTElTVCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9qZWN0LWxpc3QnKTtcbiAgICBQUk9KRUNUX0xJU1QuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGxpc3QtZ3JvdXAtaXRlbS1kYXJrIGJ0biBteS0xXCIgaWQ9XCJwcm9qZWN0LWxpc3RcIj5BbGwgUHJvamVjdHM8L2xpPlxuICAgICAgICBgO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9qZWN0QXJyLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBQUk9KRUNUX0xJU1QuaW5uZXJIVE1MICs9IGBcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gbGlzdC1ncm91cC1pdGVtLWRhcmsgYnRuIG15LTFcIiBpZD1cInByb2plY3QtbGlzdFwiPiR7cHJvamVjdEFycltpXS50aXRsZX08L2xpPlxuICAgICAgICAgICAgYDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUHJvamVjdCdzIHRhc2tzIEhlbHBlciBNZXRob2RcbiAgY29uc3QgdGFza09wdGlvbnMgPSAocHJvamVjdE5hbWUpID0+IHtcbiAgICAvLyBDcmVhdGUgc2VsZWN0aW9uIG9uIHRhc2tzIGJhc2VkIG9uIG9iamVjdHNcbiAgICBjb25zdCBUQVNLX1BST0pFQ1QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdCcpO1xuICAgIFRBU0tfUFJPSkVDVC5pbm5lckhUTUwgPSAnJztcbiAgICBUQVNLX1BST0pFQ1QuaW5uZXJIVE1MICs9IGBcbiAgICAgICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiB2YWx1ZT1cIiR7cHJvamVjdE5hbWV9XCIgaWQ9XCJ0YXNrLXByb2plY3RcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGFyaWEtbGFiZWw9XCJEZWZhdWx0IHNlbGVjdCBleGFtcGxlXCI+XG4gICAgYDtcbiAgfTtcblxuICBjb25zdCBwcm9qZWN0U2VsZWN0aW9uID0gKGV2ZW50LCBwcm9qZWN0TGlzdCkgPT4ge1xuICAgIGNvbnN0IFBST0pFQ1QgPSBldmVudC50YXJnZXQ7XG5cbiAgICBjb25zdCBjaGlsZHJlbiA9IFsuLi5wcm9qZWN0TGlzdC5jaGlsZHJlbl07XG4gICAgY2hpbGRyZW4uZm9yRWFjaCgocHJvamVjdCkgPT4ge1xuICAgICAgcHJvamVjdC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB9KTtcblxuICAgIFBST0pFQ1QuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgY29uc3QgVEFTS19ESVNQTEFZID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Rhc2stZGlzcGxheScpO1xuICAgIFRBU0tfRElTUExBWS5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcbiAgfTtcblxuICBjb25zdCBnZXRDb2xvciA9IChhcnIsIGkpID0+IHtcbiAgICBsZXQgY29sb3I7XG4gICAgaWYgKGFycltpXS5wcmlvcml0eSA9PT0gJ2xvdycpIHtcbiAgICAgIGNvbG9yID0gJ3N1Y2Nlc3MnO1xuICAgIH0gZWxzZSBpZiAoYXJyW2ldLnByaW9yaXR5ID09PSAnbWVkaXVtJykge1xuICAgICAgY29sb3IgPSAnaW5mbyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbG9yID0gJ2Rhbmdlcic7XG4gICAgfVxuICAgIHJldHVybiBjb2xvcjtcbiAgfTtcblxuICBjb25zdCByZW5kZXJUYXNrcyA9IChwcm9qZWN0TmFtZSwgdGFza3NBcnIpID0+IHtcbiAgICBjb25zdCBUQVNLX0xJU1QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGFza3MtbGlzdCcpO1xuICAgIFRBU0tfTElTVC5pbm5lckhUTUwgPSAnJztcbiAgICBjb25zdCBhbGxUYXNrcyA9IHRhc2tzQXJyLmZpbHRlcih0YXNrID0+IHRhc2suZXhpc3RzID09PSB0cnVlKTtcbiAgICBjb25zdCBBRERfVEFTS19CVE4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWRkLXRhc2snKTtcbiAgICBjb25zdCBGT1JNID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI211bHRpQ29sbGFwc2VFeGFtcGxlMicpO1xuXG4gICAgaWYgKHByb2plY3ROYW1lID09PSAnQWxsIFByb2plY3RzJykge1xuICAgICAgQUREX1RBU0tfQlROLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xuICAgICAgRk9STS5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsVGFza3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3QgY29sb3IgPSBnZXRDb2xvcihhbGxUYXNrcywgaSk7XG4gICAgICAgIC8qIGVzbGludCBtYXgtbGVuOiBbXCJlcnJvclwiLCB7IFwiaWdub3JlVGVtcGxhdGVMaXRlcmFsc1wiOiB0cnVlIH1dICovXG4gICAgICAgIFRBU0tfTElTVC5pbm5lckhUTUwgKz0gYFxuICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLSR7Y29sb3J9IHctMTAwXCIgdHlwZT1cImJ1dHRvblwiIGRhdGEtYnMtdG9nZ2xlPVwiY29sbGFwc2VcIiBkYXRhLWJzLXRhcmdldD1cIiN0YXNrLSR7aX1cIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIiBhcmlhLWNvbnRyb2xzPVwidGFzay0ke2l9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7YWxsVGFza3NbaV0udGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2xsYXBzZVwiIGlkPVwidGFzay0ke2l9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQgY2FyZC1ib2R5IGJnLSR7Y29sb3J9IG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwibGlzdC1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5EZXNjcmlwdGlvbjwvc3Bhbj46ICR7YWxsVGFza3NbaV0uZGVzY3JpcHRpb259PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+RHVlIERhdGU8L3NwYW4+OiAke2FsbFRhc2tzW2ldLmR1ZURhdGV9PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+UHJpb3JpdHk8L3NwYW4+OiAke2FsbFRhc2tzW2ldLnByaW9yaXR5fTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICBgO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBBRERfVEFTS19CVE4uY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XG4gICAgICBGT1JNLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xuICAgICAgY29uc3QgcHJvamVjdFRhc2tzID0gdGFza3NBcnIuZmlsdGVyKHRhc2sgPT4gdGFzay5wcm9qZWN0ID09PSBwcm9qZWN0TmFtZVxuICAgICAgICAgICYmIHRhc2suZXhpc3RzID09PSB0cnVlKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdFRhc2tzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gZ2V0Q29sb3IocHJvamVjdFRhc2tzLCBpKTtcblxuICAgICAgICBUQVNLX0xJU1QuaW5uZXJIVE1MICs9IGBcbiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwiXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi0ke2NvbG9yfSB3LTEwMFwiIHR5cGU9XCJidXR0b25cIiBkYXRhLWJzLXRvZ2dsZT1cImNvbGxhcHNlXCIgZGF0YS1icy10YXJnZXQ9XCIjdGFzay0ke2l9XCIgYXJpYS1leHBhbmRlZD1cImZhbHNlXCIgYXJpYS1jb250cm9scz1cInRhc2stJHtpfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3Byb2plY3RUYXNrc1tpXS50aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbGxhcHNlXCIgaWQ9XCJ0YXNrLSR7aX1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZCBjYXJkLWJvZHkgYmctJHtjb2xvcn0gbWItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJsaXN0LWdyb3VwIFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5EZXNjcmlwdGlvbjwvc3Bhbj46ICR7cHJvamVjdFRhc2tzW2ldLmRlc2NyaXB0aW9ufTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gYmctJHtjb2xvcn0gdGV4dC13aGl0ZVwiPjxzcGFuIGNsYXNzPVwiZnctYm9sZFwiPkR1ZSBEYXRlPC9zcGFuPjogJHtwcm9qZWN0VGFza3NbaV0uZHVlRGF0ZX08L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5Qcmlvcml0eTwvc3Bhbj46ICR7cHJvamVjdFRhc2tzW2ldLnByaW9yaXR5fTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IG10LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLWRhcmsgbXgtM1wiPkVkaXQ8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJkZWxldGUtdGFza1wiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS13YXJuaW5nXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIGA7XG5cbiAgICAgICAgY29uc3QgREVMRVRFID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RlbGV0ZS10YXNrJyk7XG4gICAgICAgIERFTEVURS5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgIHByb2plY3RUYXNrc1tpXS5leGlzdHMgPSBmYWxzZTtcbiAgICAgICAgICByZW5kZXJUYXNrcyhwcm9qZWN0TmFtZSwgcHJvamVjdFRhc2tzKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGFuZCBkaXNwbGF5IHByb2plY3QgaW4gdGhlIFVJXG4gIGNvbnN0IGFkZFByb2plY3QgPSAocHJvamVjdEFycikgPT4ge1xuICAgIGNvbnN0IFBST0pFQ1RfQlROID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QtYnRuJyk7XG5cbiAgICBQUk9KRUNUX0JUTi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIC8vIGNyZWF0ZSBuZXcgcHJvamVjdFxuICAgICAgY3JlYXRlUHJvamVjdChwcm9qZWN0QXJyKTtcblxuICAgICAgLy8gUmVuZGVyIHByb2plY3RzIGluIHZpZXdzXG4gICAgICByZW5kZXJQcm9qZWN0Vmlldyhwcm9qZWN0QXJyKTtcblxuICAgICAgLy8gcmVzZXQgcHJvamVjdCBmb3JtXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdC1mb3JtJyk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gRGlzcGxheSB0aGUgcHJvamVjdCdzIHNwZWNpZmljIHRhc2tzIGluIHRoZSBVSVxuICBjb25zdCBkaXNwbGF5UHJvamVjdFRhc2tzID0gKHRhc2tzQXJyKSA9PiB7XG4gICAgY29uc3QgUFJPSkVDVF9MSVNUID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QtbGlzdCcpO1xuXG4gICAgUFJPSkVDVF9MSVNULmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IFBST0pFQ1RfTkFNRSA9IGUudGFyZ2V0LnRleHRDb250ZW50O1xuXG4gICAgICBwcm9qZWN0U2VsZWN0aW9uKGUsIFBST0pFQ1RfTElTVCk7XG5cbiAgICAgIHRhc2tPcHRpb25zKFBST0pFQ1RfTkFNRSk7XG5cbiAgICAgIHJlbmRlclRhc2tzKFBST0pFQ1RfTkFNRSwgdGFza3NBcnIpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgYWRkUHJvamVjdCwgZGlzcGxheVByb2plY3RUYXNrcyxcbiAgfTtcbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHsgcHJvamVjdENyZWF0aW9uIH07IiwiY2xhc3MgVGFzayB7XG4gIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIHByb2plY3QgPSAnZGVmYXVsdCcpIHtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XG4gICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgdGhpcy5leGlzdHMgPSB0cnVlO1xuICB9XG5cbiAgLy8gRWRpdCBEZWxldGUgVGFza3MgbWV0aG9kc1xuICBzdGF0aWMgZGVsZXRlVGFzayhwcm9qZWN0VGFza3MsIHRhc2tQcm9qZWN0LCBpLCBUQVNLU19MSVNULCByZW5kZXJUYXNrKSB7XG4gICAgVEFTS1NfTElTVC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQuaWQgPT09IGBkZWxldGUtYnRuLSR7aX1gKSB7XG4gICAgICAgIHByb2plY3RUYXNrc1tpXS5leGlzdHMgPSBmYWxzZTtcbiAgICAgICAgcmVuZGVyVGFzayh0YXNrUHJvamVjdCwgcHJvamVjdFRhc2tzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBlZGl0VGFzayhwcm9qZWN0VGFza3MsIHRhc2tQcm9qZWN0LCBpLCBUQVNLU19MSVNULCByZW5kZXJUYXNrKSB7XG4gICAgVEFTS1NfTElTVC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQuaWQgPT09IGBlZGl0LWJ0bi0ke2l9YCkge1xuICAgICAgICBjb25zdCBFRElUX05BTUUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLW5hbWUtJHtpfWApLnZhbHVlO1xuICAgICAgICBjb25zdCBFRElUX0RFU0MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLWRlc2NyaXB0aW9uLSR7aX1gKS52YWx1ZTtcbiAgICAgICAgY29uc3QgRURJVF9EQVRFID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2VkaXQtdGFzay1kYXRlLSR7aX1gKS52YWx1ZTtcbiAgICAgICAgY29uc3QgRURJVF9QUklPUiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNlZGl0LXRhc2stcHJpb3JpdHktJHtpfWApLnZhbHVlO1xuXG4gICAgICAgIGlmIChFRElUX05BTUUgPT09ICcnKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChFRElUX0RFU0MgPT09ICcnKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChFRElUX0RBVEUgPT09ICcnKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChFRElUX1BSSU9SID09PSAnJykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb2plY3RUYXNrc1tpXS50aXRsZSA9IEVESVRfTkFNRTtcbiAgICAgICAgcHJvamVjdFRhc2tzW2ldLmRlc2NyaXB0aW9uID0gRURJVF9ERVNDO1xuICAgICAgICBwcm9qZWN0VGFza3NbaV0uZHVlRGF0ZSA9IEVESVRfREFURTtcbiAgICAgICAgcHJvamVjdFRhc2tzW2ldLnByaW9yaXR5ID0gRURJVF9QUklPUjtcblxuICAgICAgICByZW5kZXJUYXNrKHRhc2tQcm9qZWN0LCBwcm9qZWN0VGFza3MpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbi8vIFRhc2tzIEZvcm0gSW5mb3JtYXRpb25cbmNvbnN0IFRBU0tTX0ZPUk0gPSBkb2N1bWVudC5mb3Jtc1sndGFza3MtZm9ybSddO1xuXG4vLyBwcmV2ZW50IGZvcm0gZGVmYXVsdCBiZWhhdmlvdXJcblRBU0tTX0ZPUk0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xufSk7XG5cbi8vIFRhc2sgQ3JlYXRpb24gTW9kdWxlIChJSUZFKTtcbmV4cG9ydCBjb25zdCB0YXNrQ3JlYXRpb24gPSAoKCkgPT4ge1xuICAvLyBjcmVhdGUgdGFzayBvYmplY3RcbiAgY29uc3QgbmV3VGFzayA9ICh0YXNrc0FyciwgbmFtZSwgZGVzY3JpcHRpb24sIGRhdGUsIHByaW9yaXR5LCBwcm9qZWN0KSA9PiB7XG4gICAgY29uc3QgbmV3VGFzayA9IG5ldyBUYXNrKG5hbWUsIGRlc2NyaXB0aW9uLCBkYXRlLCBwcmlvcml0eSwgcHJvamVjdCk7XG4gICAgdGFza3NBcnIucHVzaChuZXdUYXNrKTtcbiAgfTtcblxuICAvLyBVSSBjb2xvciBsb2dpY1xuICBjb25zdCBnZXRDb2xvciA9IChhcnIsIGkpID0+IHtcbiAgICBsZXQgY29sb3I7XG4gICAgaWYgKGFycltpXS5wcmlvcml0eSA9PT0gJ2xvdycpIHtcbiAgICAgIGNvbG9yID0gJ3N1Y2Nlc3MnO1xuICAgIH0gZWxzZSBpZiAoYXJyW2ldLnByaW9yaXR5ID09PSAnbWVkaXVtJykge1xuICAgICAgY29sb3IgPSAnaW5mbyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbG9yID0gJ2Rhbmdlcic7XG4gICAgfVxuICAgIHJldHVybiBjb2xvcjtcbiAgfTtcblxuICBjb25zdCBidXR0b25Db2xvciA9IChjb2xvcikgPT4ge1xuICAgIGxldCBidG5FZGl0O1xuICAgIGxldCBidG5EZWxldGU7XG4gICAgaWYgKGNvbG9yID09PSAnc3VjY2VzcycgfHwgY29sb3IgPT09ICdpbmZvJykge1xuICAgICAgYnRuRWRpdCA9ICd3YXJuaW5nJztcbiAgICAgIGJ0bkRlbGV0ZSA9ICdkYW5nZXInO1xuICAgIH1cbiAgICBpZiAoY29sb3IgPT09ICdkYW5nZXInKSB7XG4gICAgICBidG5FZGl0ID0gJ3ByaW1hcnknO1xuICAgICAgYnRuRGVsZXRlID0gJ3dhcm5pbmcnO1xuICAgIH1cbiAgICByZXR1cm4gW2J0bkVkaXQsIGJ0bkRlbGV0ZV07XG4gIH07XG5cbiAgLy8gcmVuZGVyIHRhc2tzIGluIHRoZSBVSVxuICBjb25zdCByZW5kZXJUYXNrID0gKHRhc2tQcm9qZWN0LCB0YXNrc0FycikgPT4ge1xuICAgIGNvbnN0IFRBU0tTX0xJU1QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGFza3MtbGlzdCcpO1xuXG4gICAgVEFTS1NfTElTVC5pbm5lckhUTUwgPSAnJztcbiAgICBjb25zdCBwcm9qZWN0VGFza3MgPSB0YXNrc0Fyci5maWx0ZXIodGFzayA9PiB0YXNrLnByb2plY3QgPT09IHRhc2tQcm9qZWN0ICYmIHRhc2suZXhpc3RzID09PSB0cnVlKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdFRhc2tzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBjb2xvciA9IGdldENvbG9yKHByb2plY3RUYXNrcywgaSk7XG4gICAgICAvKiBlc2xpbnQgbWF4LWxlbjogW1wiZXJyb3JcIiwgeyBcImlnbm9yZVRlbXBsYXRlTGl0ZXJhbHNcIjogdHJ1ZSB9XSAqL1xuICAgICAgVEFTS1NfTElTVC5pbm5lckhUTUwgKz0gYFxuICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi0ke2NvbG9yfSB3LTEwMFwiIHR5cGU9XCJidXR0b25cIiBkYXRhLWJzLXRvZ2dsZT1cImNvbGxhcHNlXCIgZGF0YS1icy10YXJnZXQ9XCIjdGFzay0ke2l9XCIgYXJpYS1leHBhbmRlZD1cImZhbHNlXCIgYXJpYS1jb250cm9scz1cInRhc2stJHtpfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgJHtwcm9qZWN0VGFza3NbaV0udGl0bGV9XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbGxhcHNlXCIgaWQ9XCJ0YXNrLSR7aX1cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQgY2FyZC1ib2R5IGJnLSR7Y29sb3J9IG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImxpc3QtZ3JvdXAgXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5EZXNjcmlwdGlvbjwvc3Bhbj46ICR7cHJvamVjdFRhc2tzW2ldLmRlc2NyaXB0aW9ufTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5EdWUgRGF0ZTwvc3Bhbj46ICR7cHJvamVjdFRhc2tzW2ldLmR1ZURhdGV9PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gYmctJHtjb2xvcn0gdGV4dC13aGl0ZVwiPjxzcGFuIGNsYXNzPVwiZnctYm9sZFwiPlByaW9yaXR5PC9zcGFuPjogJHtwcm9qZWN0VGFza3NbaV0ucHJpb3JpdHl9PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBtdC0zIGp1c3RpZnktY29udGVudC1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi0ke2J1dHRvbkNvbG9yKGNvbG9yKVswXX1cIiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1icy10b2dnbGU9XCJjb2xsYXBzZVwiIGRhdGEtYnMtdGFyZ2V0PVwiI2NvbGxhcHNlRXhhbXBsZS0ke2l9XCIgYXJpYS1leHBhbmRlZD1cImZhbHNlXCIgYXJpYS1jb250cm9scz1cImNvbGxhcHNlRXhhbXBsZS0ke2l9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRWRpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJkZWxldGUtYnRuLSR7aX1cIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLSR7YnV0dG9uQ29sb3IoY29sb3IpWzFdfVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbGxhcHNlIG11bHRpLWNvbGxhcHNlXCIgaWQ9XCJjb2xsYXBzZUV4YW1wbGUtJHtpfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZvcm0gaWQ9XCJlZGl0LXRhc2tzLWZvcm1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZWRpdC10YXNrLW5hbWVcIiBjbGFzcz1cImZvcm0tbGFiZWwgdGV4dC1pbmZvXCI+VGFzayBUaXRsZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJlZGl0LXRhc2stbmFtZS0ke2l9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZWRpdC10YXNrLWRlc2NyaXB0aW9uXCIgY2xhc3M9XCJmb3JtLWxhYmVsIHRleHQtaW5mb1wiPlRhc2sgRGVzY3JpcHRpb248L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwiZWRpdC10YXNrLWRlc2NyaXB0aW9uLSR7aX1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJlZGl0LXRhc2stZGF0ZVwiIGNsYXNzPVwiZm9ybS1sYWJlbCB0ZXh0LWluZm9cIj5EdWUgRGF0ZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxicj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJkYXRlXCIgaWQ9XCJlZGl0LXRhc2stZGF0ZS0ke2l9XCIgbmFtZT1cInRyaXAtc3RhcnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJlZGl0LXRhc2stcHJpb3JpdHlcIiBjbGFzcz1cImZvcm0tbGFiZWwgdGV4dC1pbmZvXCI+UHJpb3JpdHk8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPVwiZWRpdC10YXNrLXByaW9yaXR5LSR7aX1cIiBjbGFzcz1cImZvcm0tc2VsZWN0XCIgYXJpYS1sYWJlbD1cIkRlZmF1bHQgc2VsZWN0IGV4YW1wbGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gc2VsZWN0ZWQ+U2VsZWN0IFByaW9yaXR5PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibG93XCI+TG93PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibWVkaXVtXCI+TWVkaXVtPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiaGlnaFwiPkhpZ2g8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImVkaXQtYnRuLSR7aX1cIiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJidG4gYnRuLXNlY29uZGFyeVwiPkVkaXQgVGFzazwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIGA7XG5cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNlZGl0LXRhc2stbmFtZS0ke2l9YCkuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHByb2plY3RUYXNrc1tpXS50aXRsZSk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLWRlc2NyaXB0aW9uLSR7aX1gKS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgcHJvamVjdFRhc2tzW2ldLmRlc2NyaXB0aW9uKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNlZGl0LXRhc2stZGF0ZS0ke2l9YCkuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHByb2plY3RUYXNrc1tpXS5kdWVEYXRlKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNlZGl0LXRhc2stcHJpb3JpdHktJHtpfWApLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBwcm9qZWN0VGFza3NbaV0ucHJpb3JpdHkpO1xuXG4gICAgICBUYXNrLmRlbGV0ZVRhc2socHJvamVjdFRhc2tzLCB0YXNrUHJvamVjdCwgaSwgVEFTS1NfTElTVCwgdGFza0NyZWF0aW9uLnJlbmRlclRhc2spO1xuICAgICAgVGFzay5lZGl0VGFzayhwcm9qZWN0VGFza3MsIHRhc2tQcm9qZWN0LCBpLCBUQVNLU19MSVNULCB0YXNrQ3JlYXRpb24ucmVuZGVyVGFzayk7XG4gICAgfVxuICB9O1xuXG4gIC8vIGNyZWF0ZSB0YXNrIGFuZCBkaXNwbGF5IGl0IG9uIHRoZSBVSVxuICBjb25zdCBjcmVhdGVOZXdUYXNrID0gKHRhc2tzQXJyKSA9PiB7XG4gICAgY29uc3QgVEFTS19CVE4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGFzay1idG4nKTtcbiAgICBUQVNLX0JUTi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IFRBU0tfTkFNRSA9IFRBU0tTX0ZPUk0ucXVlcnlTZWxlY3RvcignI3Rhc2stbmFtZScpLnZhbHVlO1xuICAgICAgY29uc3QgVEFTS19ERVNDUklQVElPTiA9IFRBU0tTX0ZPUk0ucXVlcnlTZWxlY3RvcignI3Rhc2stZGVzY3JpcHRpb24nKS52YWx1ZTtcbiAgICAgIGNvbnN0IFRBU0tfREFURSA9IFRBU0tTX0ZPUk0ucXVlcnlTZWxlY3RvcignI3Rhc2stZGF0ZScpLnZhbHVlO1xuICAgICAgY29uc3QgVEFTS19QUklPUklUWSA9IFRBU0tTX0ZPUk0ucXVlcnlTZWxlY3RvcignI3Rhc2stcHJpb3JpdHknKS52YWx1ZTtcbiAgICAgIGNvbnN0IFRBU0tfUFJPSkVDVCA9IFRBU0tTX0ZPUk0ucXVlcnlTZWxlY3RvcignI3Rhc2stcHJvamVjdCcpLnZhbHVlO1xuXG4gICAgICBpZiAoVEFTS19OQU1FID09PSAnJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoVEFTS19ERVNDUklQVElPTiA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKFRBU0tfREFURSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKFRBU0tfUFJJT1JJVFkgPT09ICcnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gY3JlYXRlIG5ldyB0YXNrIGluc3RhbmNlXG4gICAgICBuZXdUYXNrKHRhc2tzQXJyLCBUQVNLX05BTUUsIFRBU0tfREVTQ1JJUFRJT04sIFRBU0tfREFURSwgVEFTS19QUklPUklUWSwgVEFTS19QUk9KRUNUKTtcblxuICAgICAgLy8gcmVuZGVyIHRhc2sgdG8gdGhlIFVJXG4gICAgICByZW5kZXJUYXNrKFRBU0tfUFJPSkVDVCwgdGFza3NBcnIpO1xuXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGFza3MtZm9ybScpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgY3JlYXRlTmV3VGFzaywgcmVuZGVyVGFzayxcbiAgfTtcbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHsgdGFza0NyZWF0aW9uIH07IiwiLy8gTWV0aG9kIGltcG9ydHNcbmltcG9ydCB7IHByb2plY3RDcmVhdGlvbiB9IGZyb20gJy4vcHJvamVjdCc7XG5pbXBvcnQgeyB0YXNrQ3JlYXRpb24gfSBmcm9tICcuL3Rhc2snO1xuXG4vLyBPYmplY3QncyBhcnJheXNcbmNvbnN0IHByb2plY3RzID0gW107XG5cbmNvbnN0IHRhc2tzID0gW1xuICB7XG4gICAgdGl0bGU6ICdUYXNrIDEnLFxuICAgIGRlc2NyaXB0aW9uOiAnRGVzY3JpcHRpb24gMScsXG4gICAgZHVlRGF0ZTogJzIwMjEtMDYtMTAnLFxuICAgIHByaW9yaXR5OiAnbG93JyxcbiAgICBwcm9qZWN0OiAnUHJvamVjdCAxJyxcbiAgICBleGlzdHM6IHRydWUsXG4gIH0sXG4gIHtcbiAgICB0aXRsZTogJ1Rhc2sgMicsXG4gICAgZGVzY3JpcHRpb246ICdEZXNjcmlwdGlvbiAyJyxcbiAgICBkdWVEYXRlOiAnMjAyMS0wNi0xMCcsXG4gICAgcHJpb3JpdHk6ICdtZWRpdW0nLFxuICAgIHByb2plY3Q6ICdQcm9qZWN0IDInLFxuICAgIGV4aXN0czogdHJ1ZSxcbiAgfSxcbiAge1xuICAgIHRpdGxlOiAnVGFzayAzJyxcbiAgICBkZXNjcmlwdGlvbjogJ0Rlc2NyaXB0aW9uIDMnLFxuICAgIGR1ZURhdGU6ICcyMDIxLTA2LTEwJyxcbiAgICBwcmlvcml0eTogJ2hpZ2gnLFxuICAgIHByb2plY3Q6ICdQcm9qZWN0IDMnLFxuICAgIGV4aXN0czogdHJ1ZSxcbiAgfSxcbl07XG5cbi8vIENhbGwgb2YgcHJvamVjdCdzIGZ1bmN0aW9uIHdpdGggYXR0YWNoZWQgZXZlbnQgbGlzdGVuZXJzXG5wcm9qZWN0Q3JlYXRpb24uYWRkUHJvamVjdChwcm9qZWN0cywgdGFza3MpO1xucHJvamVjdENyZWF0aW9uLmRpc3BsYXlQcm9qZWN0VGFza3ModGFza3MpO1xuXG4vLyBDYWxsIHRhc2tzIGZ1bmN0aW9ucyB3aXRoIGF0dGFjaGVkIGV2ZW50IGxpc3RlbmVyc1xudGFza0NyZWF0aW9uLmNyZWF0ZU5ld1Rhc2sodGFza3MsIHRhc2tDcmVhdGlvbi5yZW5kZXJUYXNrKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=