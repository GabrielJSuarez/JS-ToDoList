(()=>{"use strict";class t{constructor(t){this.title=t}}const e=document.forms["project-form"];e.addEventListener("submit",(t=>{t.preventDefault()}));const s=(()=>{const s=(t,e)=>{const n=document.querySelector("#tasks-list");n.innerHTML="";let l=e.filter((t=>!0===t.exists));const a=document.querySelector("#add-task"),o=document.querySelector("#multiCollapseExample2");if("All Projects"===t){a.classList.add("d-none"),o.classList.add("d-none");for(let t=0;t<l.length;t++){let e=i(l,t);n.innerHTML+=`\n                  <li class="">\n                      <p>\n                        <button class="btn btn-${e} w-100" type="button" data-bs-toggle="collapse" data-bs-target="#task-${t}" aria-expanded="false" aria-controls="task-${t}">\n                          ${l[t].title}\n                        </button>\n                      </p>\n                        \n                      <div class="collapse" id="task-${t}">\n                        <div class="card card-body bg-${e} mb-4">\n                          <ul class="list-group">\n                              <li class="list-group-item bg-${e} text-white"><span class="fw-bold">Description</span>: ${l[t].description}</li>\n                              <li class="list-group-item bg-${e} text-white"><span class="fw-bold">Due Date</span>: ${l[t].dueDate}</li>\n                              <li class="list-group-item bg-${e} text-white"><span class="fw-bold">Priority</span>: ${l[t].priority}</li>\n                          </ul>\n                        </div>\n                      </div>\n                  </li>\n            `}}else{a.classList.remove("d-none"),o.classList.remove("d-none");let l=e.filter((e=>e.project===t&&!0===e.exists));for(let e=0;e<l.length;e++){let a=i(l,e);n.innerHTML+=`\n                  <li class="">\n                      <p>\n                        <button class="btn btn-${a} w-100" type="button" data-bs-toggle="collapse" data-bs-target="#task-${e}" aria-expanded="false" aria-controls="task-${e}">\n                          ${l[e].title}\n                        </button>\n                      </p>\n                        \n                      <div class="collapse" id="task-${e}">\n                        <div class="card card-body bg-${a} mb-4">\n                          <ul class="list-group ">\n                              <li class="list-group-item bg-${a} text-white"><span class="fw-bold">Description</span>: ${l[e].description}</li>\n                              <li class="list-group-item bg-${a} text-white"><span class="fw-bold">Due Date</span>: ${l[e].dueDate}</li>\n                              <li class="list-group-item bg-${a} text-white"><span class="fw-bold">Priority</span>: ${l[e].priority}</li>\n                          </ul>\n                          \n                          <div class="d-flex mt-3">\n                              <button type="button" class="btn btn-outline-dark mx-3">Edit</button>\n                              <button id="delete-task" type="button" class="btn btn-outline-warning">Delete</button>\n                          </div>\n                          \n                        </div>\n                      </div>\n                  </li>\n            `,document.querySelector("#delete-task").onclick=()=>{l[e].exists=!1,s(t,l)}}}},i=(t,e)=>{let s;return s="low"===t[e].priority?"success":"medium"===t[e].priority?"info":"danger",s};return{addProject:s=>{document.querySelector("#project-btn").addEventListener("click",(()=>{(s=>{const i=e.querySelector("#project-title").value;if(""===i)return;const n=new t(i);s.push(n)})(s),(t=>{const e=document.querySelector("#project-list");e.innerHTML='\n          <li class="list-group-item list-group-item-dark btn my-1" id="project-list">All Projects</li>\n        ';for(let s=0;s<t.length;s++)e.innerHTML+=`\n        <li class="list-group-item list-group-item-dark btn my-1" id="project-list">${t[s].title}</li>\n      `})(s),document.querySelector("#project-form").reset()}))},displayProjectTasks:t=>{const e=document.querySelector("#project-list");e.addEventListener("click",(i=>{const n=i.target.textContent;((t,e)=>{const s=t.target;[...e.children].forEach((function(t){t.classList.remove("active")})),s.classList.add("active"),document.querySelector("#task-display").classList.remove("d-none")})(i,e),(t=>{const e=document.querySelector("#project");e.innerHTML="",e.innerHTML+=`\n        <input type="hidden" value="${t}" id="task-project" class="form-control" aria-label="Default select example">\n    `})(n),s(n,t)}))}}})();class i{constructor(t,e,s,i,n="default"){this.title=t,this.description=e,this.dueDate=s,this.priority=i,this.project=n,this.exists=!0}}const n=document.forms["tasks-form"];n.addEventListener("submit",(t=>{t.preventDefault()}));const l=(()=>{const t=(t,i)=>{const n=document.querySelector("#tasks-list");n.innerHTML="";let a=i.filter((e=>e.project===t&&!0===e.exists));for(let i=0;i<a.length;i++){let o=e(a,i);n.innerHTML+=`\n            <li class="">\n                <p>\n                    <button class="btn btn-${o} w-100" type="button" data-bs-toggle="collapse" data-bs-target="#task-${i}" aria-expanded="false" aria-controls="task-${i}">\n                      ${a[i].title}\n                    </button>\n                </p>\n                    \n                <div class="collapse" id="task-${i}">\n                    <div class="card card-body bg-${o} mb-4">\n                        <ul class="list-group ">\n                            <li class="list-group-item bg-${o} text-white"><span class="fw-bold">Description</span>: ${a[i].description}</li>\n                            <li class="list-group-item bg-${o} text-white"><span class="fw-bold">Due Date</span>: ${a[i].dueDate}</li>\n                            <li class="list-group-item bg-${o} text-white"><span class="fw-bold">Priority</span>: ${a[i].priority}</li>\n                        </ul>\n                    \n                        <div class="d-flex mt-3">\n                            <div>\n                                <p>\n                                    <button class="btn btn-${s(o)[0]}" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample-${i}" aria-expanded="false" aria-controls="collapseExample-${i}" onclick="${l.editTask(a,t,i,n)}">\n                                    Edit\n                                    </button>\n    \n                                    <button id="delete-btn-${i}" type="button" class="btn btn-${s(o)[1]} mt-4 ms-4" onclick="${l.deleteTask(a,t,i,n)}">Delete</button>\n                                </p>\n                                  \n                                <div class="collapse multi-collapse" id="collapseExample-${i}">\n                                    <form id="edit-tasks-form">\n                                        <div class="mb-3">\n                                            <label for="edit-task-name" class="form-label text-info">Task Title</label>\n                                            <input type="text" class="form-control" id="edit-task-name-${i}">\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-description" class="form-label text-info">Task Description</label>\n                                            <input type="text" class="form-control" id="edit-task-description-${i}">\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-date" class="form-label text-info">Due Date</label>\n                                            <br>\n                                            <input type="date" id="edit-task-date-${i}" name="trip-start">\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-priority" class="form-label text-info">Priority</label>\n                                            <select id="edit-task-priority-${i}" class="form-select" aria-label="Default select example">\n                                                <option selected>Select Priority</option>\n                                                <option value="low">Low</option>\n                                                <option value="medium">Medium</option>\n                                                <option value="high">High</option>\n                                            </select>\n                                        </div>\n                                        <div>\n                                            <button id="edit-btn-${i}" type="submit" class="btn btn-secondary">Edit Task</button>\n                                        </div\n                                    </form>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </li>\n            `}},e=(t,e)=>{let s;return s="low"===t[e].priority?"success":"medium"===t[e].priority?"info":"danger",s},s=t=>{let e,s;return e="warning",s="danger","danger"===t&&(e="primary",s="warning"),[e,s]};return{createNewTask:e=>{document.querySelector("#task-btn").addEventListener("click",(()=>{const s=n.querySelector("#task-name").value,l=n.querySelector("#task-description").value,a=n.querySelector("#task-date").value,o=n.querySelector("#task-priority").value,r=n.querySelector("#task-project").value;""!==s&&""!==l&&""!==a&&""!==o&&(((t,e,s,n,l,a)=>{const o=new i(e,s,n,l,a);t.push(o)})(e,s,l,a,o,r),t(r,e),document.querySelector("#tasks-form").reset())}))},deleteTask:(e,s,i,n)=>{n.addEventListener("click",(n=>{n.target.id===`delete-btn-${i}`&&(e[i].exists=!1,t(s,e))}))},editTask:(e,s,i,n)=>{document.querySelector(`#edit-task-name-${i}`).setAttribute("value",e[i].title),document.querySelector(`#edit-task-description-${i}`).setAttribute("value",e[i].description),document.querySelector(`#edit-task-date-${i}`).setAttribute("value",e[i].dueDate),document.querySelector(`#edit-task-priority-${i}`).setAttribute("value",e[i].priority),n.addEventListener("click",(n=>{if(n.target.id===`edit-btn-${i}`){const n=document.querySelector(`#edit-task-name-${i}`).value,l=document.querySelector(`#edit-task-description-${i}`).value,a=document.querySelector(`#edit-task-date-${i}`).value,o=document.querySelector(`#edit-task-priority-${i}`).value;if(""===n)return;if(""===l)return;if(""===a)return;if(""===o)return;e[i].title=n,e[i].description=l,e[i].dueDate=a,e[i].priority=o,t(s,e)}}))}}})(),a=[{title:"Task 1",description:"Description 1",dueDate:"2021-06-10",priority:"low",project:"Project 1",exists:!0},{title:"Task 2",description:"Description 2",dueDate:"2021-06-10",priority:"medium",project:"Project 2",exists:!0},{title:"Task 3",description:"Description 3",dueDate:"2021-06-10",priority:"high",project:"Project 3",exists:!0}];s.addProject([],a),s.displayProjectTasks(a),l.createNewTask(a)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qcy10b2RvbGlzdC8uL3NyYy9wcm9qZWN0LmpzIiwid2VicGFjazovL2pzLXRvZG9saXN0Ly4vc3JjL3Rhc2suanMiLCJ3ZWJwYWNrOi8vanMtdG9kb2xpc3QvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiUHJvamVjdCIsInRpdGxlIiwidGhpcyIsIlBST0pFQ1RfRk9STSIsImRvY3VtZW50IiwiZm9ybXMiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwicHJvamVjdENyZWF0aW9uIiwicmVuZGVyVGFza3MiLCJwcm9qZWN0TmFtZSIsInRhc2tzQXJyIiwiVEFTS19MSVNUIiwicXVlcnlTZWxlY3RvciIsImlubmVySFRNTCIsImFsbFRhc2tzIiwiZmlsdGVyIiwidGFzayIsImV4aXN0cyIsIkFERF9UQVNLX0JUTiIsIkZPUk0iLCJjbGFzc0xpc3QiLCJhZGQiLCJpIiwibGVuZ3RoIiwiY29sb3IiLCJnZXRDb2xvciIsImRlc2NyaXB0aW9uIiwiZHVlRGF0ZSIsInByaW9yaXR5IiwicmVtb3ZlIiwicHJvamVjdFRhc2tzIiwicHJvamVjdCIsIm9uY2xpY2siLCJhcnIiLCJhZGRQcm9qZWN0IiwicHJvamVjdEFyciIsIlBST0pFQ1RfVElUTEUiLCJ2YWx1ZSIsIk5FV19QUk9KRUNUIiwicHVzaCIsImNyZWF0ZVByb2plY3QiLCJQUk9KRUNUX0xJU1QiLCJyZW5kZXJQcm9qZWN0VmlldyIsInJlc2V0IiwiZGlzcGxheVByb2plY3RUYXNrcyIsIlBST0pFQ1RfTkFNRSIsInRhcmdldCIsInRleHRDb250ZW50IiwiZXZlbnQiLCJwcm9qZWN0TGlzdCIsIlBST0pFQ1QiLCJjaGlsZHJlbiIsImZvckVhY2giLCJwcm9qZWN0U2VsZWN0aW9uIiwiVEFTS19QUk9KRUNUIiwidGFza09wdGlvbnMiLCJUYXNrIiwiVEFTS1NfRk9STSIsInRhc2tDcmVhdGlvbiIsInJlbmRlclRhc2siLCJ0YXNrUHJvamVjdCIsIlRBU0tTX0xJU1QiLCJidXR0b25Db2xvciIsImVkaXRUYXNrIiwiZGVsZXRlVGFzayIsImJ0bkVkaXQiLCJidG5EZWxldGUiLCJjcmVhdGVOZXdUYXNrIiwiVEFTS19OQU1FIiwiVEFTS19ERVNDUklQVElPTiIsIlRBU0tfREFURSIsIlRBU0tfUFJJT1JJVFkiLCJuYW1lIiwiZGF0ZSIsIm5ld1Rhc2siLCJpZCIsInNldEF0dHJpYnV0ZSIsIkVESVRfTkFNRSIsIkVESVRfREVTQyIsIkVESVRfREFURSIsIkVESVRfUFJJT1IiLCJ0YXNrcyJdLCJtYXBwaW5ncyI6Im1CQUFBLE1BQU1BLEVBQ0YsWUFBWUMsR0FDUkMsS0FBS0QsTUFBUUEsR0FLckIsTUFBTUUsRUFBZUMsU0FBU0MsTUFBTSxnQkFHcENGLEVBQWFHLGlCQUFpQixVQUFXQyxJQUNyQ0EsRUFBRUMsb0JBSUMsTUFBTUMsRUFBa0IsTUFHM0IsTUEyRU1DLEVBQWMsQ0FBQ0MsRUFBYUMsS0FDOUIsTUFBTUMsRUFBWVQsU0FBU1UsY0FBYyxlQUN6Q0QsRUFBVUUsVUFBWSxHQUN0QixJQUFJQyxFQUFXSixFQUFTSyxRQUFPQyxJQUF5QixJQUFoQkEsRUFBS0MsU0FDN0MsTUFBTUMsRUFBZWhCLFNBQVNVLGNBQWMsYUFDdENPLEVBQU9qQixTQUFTVSxjQUFjLDBCQUVwQyxHQUFvQixpQkFBaEJILEVBQWdDLENBQ2hDUyxFQUFhRSxVQUFVQyxJQUFJLFVBQzNCRixFQUFLQyxVQUFVQyxJQUFJLFVBQ25CLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJUixFQUFTUyxPQUFRRCxJQUFLLENBQ3RDLElBQUlFLEVBQVFDLEVBQVNYLEVBQVVRLEdBRS9CWCxFQUFVRSxXQUFhLGdIQUdVVywwRUFBOEVGLGdEQUFnREEsa0NBQ25KUixFQUFTUSxHQUFHdkIsd0pBSWV1Qiw4REFDQ0UsNEhBRU1BLDJEQUErRFYsRUFBU1EsR0FBR0ksaUZBQzNFRix3REFBNERWLEVBQVNRLEdBQUdLLDZFQUN4RUgsd0RBQTREVixFQUFTUSxHQUFHTSwySkFPdkgsQ0FDSFYsRUFBYUUs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LFNBQVNVLGNBQWMsdUJBQXVCVSxLQUFLZSxNQUV0RSxHQUFrQixLQUFkd0MsRUFDQSxPQUVKLEdBQWtCLEtBQWRDLEVBQ0EsT0FFSixHQUFrQixLQUFkQyxFQUNBLE9BRUosR0FBbUIsS0FBZkMsRUFDQSxPQUdKbEQsRUFBYVIsR0FBR3ZCLE1BQVE4RSxFQUN4Qi9DLEVBQWFSLEdBQUdJLFlBQWNvRCxFQUM5QmhELEVBQWFSLEdBQUdLLFFBQVVvRCxFQUMxQmpELEVBQWFSLEdBQUdNLFNBQVdvRCxFQUUzQnJCLEVBQVdDLEVBQWE5QixVQXhMWixHQ2J0Qm1ELEVBQVEsQ0FDVixDQUNFbEYsTUFBTyxTQUNQMkIsWUFBYSxnQkFDYkMsUUFBUyxhQUNUQyxTQUFVLE1BQ1ZHLFFBQVMsWUFDVGQsUUFBUSxHQUVWLENBQ0VsQixNQUFPLFNBQ1AyQixZQUFhLGdCQUNiQyxRQUFTLGFBQ1RDLFNBQVUsU0FDVkcsUUFBUyxZQUNUZCxRQUFRLEdBRVYsQ0FDRWxCLE1BQU8sU0FDUDJCLFlBQWEsZ0JBQ2JDLFFBQVMsYUFDVEMsU0FBVSxPQUNWRyxRQUFTLFlBQ1RkLFFBQVEsSUFLZFYsRUFBZ0IyQixXQTlCQyxHQThCb0IrQyxHQUNyQzFFLEVBQWdCcUMsb0JBQW9CcUMsR0FHcEN2QixFQUFhUyxjQUFjYyxJIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBQcm9qZWN0IHtcclxuICAgIGNvbnN0cnVjdG9yKHRpdGxlKSB7XHJcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBQcm9qZWN0IEZvcm0gSW5mb3JtYXRpb25cclxuY29uc3QgUFJPSkVDVF9GT1JNID0gZG9jdW1lbnQuZm9ybXNbJ3Byb2plY3QtZm9ybSddO1xyXG5cclxuLy8gcHJldmVudCBmb3JtIGRlZmF1bHQgYmVoYXZpb3VyXHJcblBST0pFQ1RfRk9STS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG59KVxyXG5cclxuLy8gUHJvamVjdCBDcmVhdGlvbiBNb2R1bGUgKElJRkUpO1xyXG5leHBvcnQgY29uc3QgcHJvamVjdENyZWF0aW9uID0gKCgpID0+IHtcclxuXHJcbiAgICAvLyBDcmVhdGUgYW5kIGRpc3BsYXkgcHJvamVjdCBpbiB0aGUgVUlcclxuICAgIGNvbnN0IGFkZFByb2plY3QgPSAocHJvamVjdEFycikgPT4ge1xyXG4gICAgICAgIGNvbnN0IFBST0pFQ1RfQlROID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QtYnRuJyk7XHJcblxyXG4gICAgICAgIFBST0pFQ1RfQlROLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBjcmVhdGUgbmV3IHByb2plY3RcclxuICAgICAgICAgICAgY3JlYXRlUHJvamVjdChwcm9qZWN0QXJyKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlbmRlciBwcm9qZWN0cyBpbiB2aWV3c1xyXG4gICAgICAgICAgICByZW5kZXJQcm9qZWN0Vmlldyhwcm9qZWN0QXJyKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlc2V0IHByb2plY3QgZm9ybVxyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdC1mb3JtJykucmVzZXQoKTtcclxuICAgICAgICB9KVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBQcm9qZWN0IEhlbHBlciBtZXRob2RzXHJcbiAgICBjb25zdCBjcmVhdGVQcm9qZWN0ID0gKHByb2plY3RBcnIpID0+IHtcclxuICAgICAgICBjb25zdCBQUk9KRUNUX1RJVExFID0gUFJPSkVDVF9GT1JNLnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdC10aXRsZVwiKS52YWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKFBST0pFQ1RfVElUTEUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IE5FV19QUk9KRUNUID0gbmV3IFByb2plY3QoUFJPSkVDVF9USVRMRSk7XHJcbiAgICAgICAgcHJvamVjdEFyci5wdXNoKE5FV19QUk9KRUNUKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHJlbmRlclByb2plY3RWaWV3ID0gKHByb2plY3RBcnIpID0+IHtcclxuICAgICAgICBjb25zdCBQUk9KRUNUX0xJU1QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3QtbGlzdFwiKTtcclxuICAgICAgICBQUk9KRUNUX0xJU1QuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGxpc3QtZ3JvdXAtaXRlbS1kYXJrIGJ0biBteS0xXCIgaWQ9XCJwcm9qZWN0LWxpc3RcIj5BbGwgUHJvamVjdHM8L2xpPlxyXG4gICAgICAgIGA7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdEFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBQUk9KRUNUX0xJU1QuaW5uZXJIVE1MICs9IGBcclxuICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gbGlzdC1ncm91cC1pdGVtLWRhcmsgYnRuIG15LTFcIiBpZD1cInByb2plY3QtbGlzdFwiPiR7cHJvamVjdEFycltpXS50aXRsZX08L2xpPlxyXG4gICAgICBgO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBEaXNwbGF5IHRoZSBwcm9qZWN0J3Mgc3BlY2lmaWMgdGFza3MgaW4gdGhlIFVJXHJcbiAgICBjb25zdCBkaXNwbGF5UHJvamVjdFRhc2tzID0gKHRhc2tzQXJyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgUFJPSkVDVF9MSVNUID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QtbGlzdCcpO1xyXG5cclxuICAgICAgICBQUk9KRUNUX0xJU1QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBQUk9KRUNUX05BTUUgPSBlLnRhcmdldC50ZXh0Q29udGVudDtcclxuXHJcbiAgICAgICAgICAgIHByb2plY3RTZWxlY3Rpb24oZSwgUFJPSkVDVF9MSVNUKTtcclxuXHJcbiAgICAgICAgICAgIHRhc2tPcHRpb25zKFBST0pFQ1RfTkFNRSk7XHJcblxyXG4gICAgICAgICAgICByZW5kZXJUYXNrcyhQUk9KRUNUX05BTUUsIHRhc2tzQXJyKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQcm9qZWN0J3MgdGFza3MgSGVscGVyIE1ldGhvZFxyXG4gICAgY29uc3QgdGFza09wdGlvbnMgPSAocHJvamVjdE5hbWUpID0+IHtcclxuICAgICAgICAvLyBDcmVhdGUgc2VsZWN0aW9uIG9uIHRhc2tzIGJhc2VkIG9uIG9iamVjdHNcclxuICAgICAgICBjb25zdCBUQVNLX1BST0pFQ1QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdCcpO1xyXG4gICAgICAgIFRBU0tfUFJPSkVDVC5pbm5lckhUTUwgPSBgYDtcclxuICAgICAgICBUQVNLX1BST0pFQ1QuaW5uZXJIVE1MICs9IGBcclxuICAgICAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIHZhbHVlPVwiJHtwcm9qZWN0TmFtZX1cIiBpZD1cInRhc2stcHJvamVjdFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgYXJpYS1sYWJlbD1cIkRlZmF1bHQgc2VsZWN0IGV4YW1wbGVcIj5cclxuICAgIGA7XHJcbiAgICB9XHJcbiAgICBjb25zdCBwcm9qZWN0U2VsZWN0aW9uID0gKGV2ZW50LCBwcm9qZWN0TGlzdCkgPT4ge1xyXG4gICAgICAgIGNvbnN0ICBQUk9KRUNUID0gZXZlbnQudGFyZ2V0O1xyXG5cclxuICAgICAgICBsZXQgY2hpbGRyZW4gPSBbLi4ucHJvamVjdExpc3QuY2hpbGRyZW5dO1xyXG4gICAgICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24ocHJvamVjdCl7XHJcbiAgICAgICAgICAgIHByb2plY3QuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIFBST0pFQ1QuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgY29uc3QgVEFTS19ESVNQTEFZID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Rhc2stZGlzcGxheScpO1xyXG4gICAgICAgIFRBU0tfRElTUExBWS5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHJlbmRlclRhc2tzID0gKHByb2plY3ROYW1lLCB0YXNrc0FycikgPT4ge1xyXG4gICAgICAgIGNvbnN0IFRBU0tfTElTVCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFza3MtbGlzdFwiKTtcclxuICAgICAgICBUQVNLX0xJU1QuaW5uZXJIVE1MID0gYGA7XHJcbiAgICAgICAgbGV0IGFsbFRhc2tzID0gdGFza3NBcnIuZmlsdGVyKHRhc2sgID0+IHRhc2suZXhpc3RzID09PSB0cnVlKTtcclxuICAgICAgICBjb25zdCBBRERfVEFTS19CVE4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWRkLXRhc2snKTtcclxuICAgICAgICBjb25zdCBGT1JNID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI211bHRpQ29sbGFwc2VFeGFtcGxlMicpO1xyXG5cclxuICAgICAgICBpZiAocHJvamVjdE5hbWUgPT09IFwiQWxsIFByb2plY3RzXCIpIHtcclxuICAgICAgICAgICAgQUREX1RBU0tfQlROLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICBGT1JNLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbFRhc2tzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29sb3IgPSBnZXRDb2xvcihhbGxUYXNrcywgaSk7XHJcblxyXG4gICAgICAgICAgICAgICAgVEFTS19MSVNULmlubmVySFRNTCArPSBgXHJcbiAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cIlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLSR7Y29sb3J9IHctMTAwXCIgdHlwZT1cImJ1dHRvblwiIGRhdGEtYnMtdG9nZ2xlPVwiY29sbGFwc2VcIiBkYXRhLWJzLXRhcmdldD1cIiN0YXNrLSR7aX1cIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIiBhcmlhLWNvbnRyb2xzPVwidGFzay0ke2l9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHthbGxUYXNrc1tpXS50aXRsZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbGxhcHNlXCIgaWQ9XCJ0YXNrLSR7aX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQgY2FyZC1ib2R5IGJnLSR7Y29sb3J9IG1iLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJsaXN0LWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+RGVzY3JpcHRpb248L3NwYW4+OiAke2FsbFRhc2tzW2ldLmRlc2NyaXB0aW9ufTwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+RHVlIERhdGU8L3NwYW4+OiAke2FsbFRhc2tzW2ldLmR1ZURhdGV9PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5Qcmlvcml0eTwvc3Bhbj46ICR7YWxsVGFza3NbaV0ucHJpb3JpdHl9PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgQUREX1RBU0tfQlROLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICBGT1JNLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICBsZXQgcHJvamVjdFRhc2tzID0gdGFza3NBcnIuZmlsdGVyKHRhc2sgPT4gdGFzay5wcm9qZWN0ID09PSBwcm9qZWN0TmFtZSAmJiB0YXNrLmV4aXN0cyA9PT0gdHJ1ZSk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdFRhc2tzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29sb3IgPSBnZXRDb2xvcihwcm9qZWN0VGFza3MsIGkpO1xyXG5cclxuICAgICAgICAgICAgICAgIFRBU0tfTElTVC5pbm5lckhUTUwgKz0gYFxyXG4gICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi0ke2NvbG9yfSB3LTEwMFwiIHR5cGU9XCJidXR0b25cIiBkYXRhLWJzLXRvZ2dsZT1cImNvbGxhcHNlXCIgZGF0YS1icy10YXJnZXQ9XCIjdGFzay0ke2l9XCIgYXJpYS1leHBhbmRlZD1cImZhbHNlXCIgYXJpYS1jb250cm9scz1cInRhc2stJHtpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICR7cHJvamVjdFRhc2tzW2ldLnRpdGxlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sbGFwc2VcIiBpZD1cInRhc2stJHtpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZCBjYXJkLWJvZHkgYmctJHtjb2xvcn0gbWItNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImxpc3QtZ3JvdXAgXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+RGVzY3JpcHRpb248L3NwYW4+OiAke3Byb2plY3RUYXNrc1tpXS5kZXNjcmlwdGlvbn08L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gYmctJHtjb2xvcn0gdGV4dC13aGl0ZVwiPjxzcGFuIGNsYXNzPVwiZnctYm9sZFwiPkR1ZSBEYXRlPC9zcGFuPjogJHtwcm9qZWN0VGFza3NbaV0uZHVlRGF0ZX08L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gYmctJHtjb2xvcn0gdGV4dC13aGl0ZVwiPjxzcGFuIGNsYXNzPVwiZnctYm9sZFwiPlByaW9yaXR5PC9zcGFuPjogJHtwcm9qZWN0VGFza3NbaV0ucHJpb3JpdHl9PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggbXQtM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1kYXJrIG14LTNcIj5FZGl0PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJkZWxldGUtdGFza1wiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS13YXJuaW5nXCI+RGVsZXRlPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgIGA7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgREVMRVRFID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RlbGV0ZS10YXNrJyk7XHJcbiAgICAgICAgICAgICAgICBERUxFVEUub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0VGFza3NbaV0uZXhpc3RzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyVGFza3MocHJvamVjdE5hbWUsIHByb2plY3RUYXNrcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBnZXRDb2xvciA9IChhcnIsIGkpID0+IHtcclxuICAgICAgICBsZXQgY29sb3I7XHJcbiAgICAgICAgaWYgKGFycltpXS5wcmlvcml0eSA9PT0gJ2xvdycpIHtcclxuICAgICAgICAgICAgY29sb3IgPSAnc3VjY2Vzcyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChhcnJbaV0ucHJpb3JpdHkgPT09ICdtZWRpdW0nKSB7XHJcbiAgICAgICAgICAgIGNvbG9yID0gJ2luZm8nO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbG9yID0gJ2Rhbmdlcic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb2xvcjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGFkZFByb2plY3QsIGRpc3BsYXlQcm9qZWN0VGFza3NcclxuICAgIH1cclxufSkoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHsgcHJvamVjdENyZWF0aW9uIH07IiwiY2xhc3MgVGFzayB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBwcm9qZWN0ID0gXCJkZWZhdWx0XCIpIHtcclxuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xyXG4gICAgICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XHJcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xyXG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XHJcbiAgICAgICAgdGhpcy5leGlzdHMgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBUYXNrcyBGb3JtIEluZm9ybWF0aW9uXHJcbmNvbnN0IFRBU0tTX0ZPUk0gPSBkb2N1bWVudC5mb3Jtc1sndGFza3MtZm9ybSddO1xyXG5cclxuLy8gcHJldmVudCBmb3JtIGRlZmF1bHQgYmVoYXZpb3VyXHJcblRBU0tTX0ZPUk0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxufSk7XHJcblxyXG4vLyBUYXNrIENyZWF0aW9uIE1vZHVsZSAoSUlGRSk7XHJcbmV4cG9ydCBjb25zdCB0YXNrQ3JlYXRpb24gPSAoKCkgPT4ge1xyXG4gICAgLy8gY3JlYXRlIHRhc2sgYW5kIGRpc3BsYXkgaXQgb24gdGhlIFVJXHJcbiAgICBjb25zdCBjcmVhdGVOZXdUYXNrID0gKHRhc2tzQXJyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgVEFTS19CVE4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stYnRuXCIpO1xyXG4gICAgICAgIFRBU0tfQlROLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBUQVNLX05BTUUgPSBUQVNLU19GT1JNLnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay1uYW1lXCIpLnZhbHVlO1xyXG4gICAgICAgICAgICBjb25zdCBUQVNLX0RFU0NSSVBUSU9OID0gVEFTS1NfRk9STS5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stZGVzY3JpcHRpb25cIikudmFsdWU7XHJcbiAgICAgICAgICAgIGNvbnN0IFRBU0tfREFURSA9IFRBU0tTX0ZPUk0ucXVlcnlTZWxlY3RvcihcIiN0YXNrLWRhdGVcIikudmFsdWU7XHJcbiAgICAgICAgICAgIGNvbnN0IFRBU0tfUFJJT1JJVFkgPSBUQVNLU19GT1JNLnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay1wcmlvcml0eVwiKS52YWx1ZTtcclxuICAgICAgICAgICAgY29uc3QgVEFTS19QUk9KRUNUID0gVEFTS1NfRk9STS5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stcHJvamVjdFwiKS52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChUQVNLX05BTUUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIGlmIChUQVNLX0RFU0NSSVBUSU9OID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChUQVNLX0RBVEUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKFRBU0tfUFJJT1JJVFkgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBuZXcgdGFzayBpbnN0YW5jZVxyXG4gICAgICAgICAgICBuZXdUYXNrKHRhc2tzQXJyLCBUQVNLX05BTUUsIFRBU0tfREVTQ1JJUFRJT04sIFRBU0tfREFURSwgVEFTS19QUklPUklUWSwgVEFTS19QUk9KRUNUKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlbmRlciB0YXNrIHRvIHRoZSBVSVxyXG4gICAgICAgICAgICByZW5kZXJUYXNrKFRBU0tfUFJPSkVDVCwgdGFza3NBcnIpO1xyXG5cclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Rhc2tzLWZvcm0nKS5yZXNldCgpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gY3JlYXRlIHRhc2sgb2JqZWN0XHJcbiAgICBjb25zdCBuZXdUYXNrID0gKHRhc2tzQXJyLCBuYW1lLCBkZXNjcmlwdGlvbiwgZGF0ZSwgcHJpb3JpdHksIHByb2plY3QpID0+IHtcclxuICAgICAgICBjb25zdCBuZXdUYXNrID0gbmV3IFRhc2sobmFtZSwgZGVzY3JpcHRpb24sIGRhdGUsIHByaW9yaXR5LCBwcm9qZWN0KTtcclxuICAgICAgICB0YXNrc0Fyci5wdXNoKG5ld1Rhc2spO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHJlbmRlciB0YXNrcyBpbiB0aGUgVUlcclxuICAgIGNvbnN0IHJlbmRlclRhc2sgPSAodGFza1Byb2plY3QsIHRhc2tzQXJyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgVEFTS1NfTElTVCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFza3MtbGlzdFwiKTtcclxuXHJcbiAgICAgICAgVEFTS1NfTElTVC5pbm5lckhUTUwgPSBgYDtcclxuICAgICAgICBsZXQgcHJvamVjdFRhc2tzID0gdGFza3NBcnIuZmlsdGVyKHRhc2sgID0+IHRhc2sucHJvamVjdCA9PT0gdGFza1Byb2plY3QgJiYgdGFzay5leGlzdHMgPT09IHRydWUpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2plY3RUYXNrcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgY29sb3IgPSBnZXRDb2xvcihwcm9qZWN0VGFza3MsIGkpO1xyXG4gICAgICAgICAgICBUQVNLU19MSVNULmlubmVySFRNTCArPSBgXHJcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cIlwiPlxyXG4gICAgICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tJHtjb2xvcn0gdy0xMDBcIiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1icy10b2dnbGU9XCJjb2xsYXBzZVwiIGRhdGEtYnMtdGFyZ2V0PVwiI3Rhc2stJHtpfVwiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiIGFyaWEtY29udHJvbHM9XCJ0YXNrLSR7aX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICR7cHJvamVjdFRhc2tzW2ldLnRpdGxlfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbGxhcHNlXCIgaWQ9XCJ0YXNrLSR7aX1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZCBjYXJkLWJvZHkgYmctJHtjb2xvcn0gbWItNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJsaXN0LWdyb3VwIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5EZXNjcmlwdGlvbjwvc3Bhbj46ICR7cHJvamVjdFRhc2tzW2ldLmRlc2NyaXB0aW9ufTwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gYmctJHtjb2xvcn0gdGV4dC13aGl0ZVwiPjxzcGFuIGNsYXNzPVwiZnctYm9sZFwiPkR1ZSBEYXRlPC9zcGFuPjogJHtwcm9qZWN0VGFza3NbaV0uZHVlRGF0ZX08L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5Qcmlvcml0eTwvc3Bhbj46ICR7cHJvamVjdFRhc2tzW2ldLnByaW9yaXR5fTwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggbXQtM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tJHtidXR0b25Db2xvcihjb2xvcilbMF19XCIgdHlwZT1cImJ1dHRvblwiIGRhdGEtYnMtdG9nZ2xlPVwiY29sbGFwc2VcIiBkYXRhLWJzLXRhcmdldD1cIiNjb2xsYXBzZUV4YW1wbGUtJHtpfVwiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiIGFyaWEtY29udHJvbHM9XCJjb2xsYXBzZUV4YW1wbGUtJHtpfVwiIG9uY2xpY2s9XCIke3Rhc2tDcmVhdGlvbi5lZGl0VGFzayhwcm9qZWN0VGFza3MsIHRhc2tQcm9qZWN0LCBpLCBUQVNLU19MSVNUKX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRWRpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiZGVsZXRlLWJ0bi0ke2l9XCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi0ke2J1dHRvbkNvbG9yKGNvbG9yKVsxXX0gbXQtNCBtcy00XCIgb25jbGljaz1cIiR7dGFza0NyZWF0aW9uLmRlbGV0ZVRhc2socHJvamVjdFRhc2tzLCB0YXNrUHJvamVjdCwgaSwgVEFTS1NfTElTVCl9XCI+RGVsZXRlPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbGxhcHNlIG11bHRpLWNvbGxhcHNlXCIgaWQ9XCJjb2xsYXBzZUV4YW1wbGUtJHtpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Zm9ybSBpZD1cImVkaXQtdGFza3MtZm9ybVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZWRpdC10YXNrLW5hbWVcIiBjbGFzcz1cImZvcm0tbGFiZWwgdGV4dC1pbmZvXCI+VGFzayBUaXRsZTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cImVkaXQtdGFzay1uYW1lLSR7aX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImVkaXQtdGFzay1kZXNjcmlwdGlvblwiIGNsYXNzPVwiZm9ybS1sYWJlbCB0ZXh0LWluZm9cIj5UYXNrIERlc2NyaXB0aW9uPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwiZWRpdC10YXNrLWRlc2NyaXB0aW9uLSR7aX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImVkaXQtdGFzay1kYXRlXCIgY2xhc3M9XCJmb3JtLWxhYmVsIHRleHQtaW5mb1wiPkR1ZSBEYXRlPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJkYXRlXCIgaWQ9XCJlZGl0LXRhc2stZGF0ZS0ke2l9XCIgbmFtZT1cInRyaXAtc3RhcnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImVkaXQtdGFzay1wcmlvcml0eVwiIGNsYXNzPVwiZm9ybS1sYWJlbCB0ZXh0LWluZm9cIj5Qcmlvcml0eTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD1cImVkaXQtdGFzay1wcmlvcml0eS0ke2l9XCIgY2xhc3M9XCJmb3JtLXNlbGVjdFwiIGFyaWEtbGFiZWw9XCJEZWZhdWx0IHNlbGVjdCBleGFtcGxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gc2VsZWN0ZWQ+U2VsZWN0IFByaW9yaXR5PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJsb3dcIj5Mb3c8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm1lZGl1bVwiPk1lZGl1bTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiaGlnaFwiPkhpZ2g8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiZWRpdC1idG4tJHtpfVwiIHR5cGU9XCJzdWJtaXRcIiBjbGFzcz1cImJ0biBidG4tc2Vjb25kYXJ5XCI+RWRpdCBUYXNrPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2RpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgYDtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBnZXRDb2xvciA9IChhcnIsIGkpID0+IHtcclxuICAgICAgICBsZXQgY29sb3I7XHJcbiAgICAgICAgaWYgKGFycltpXS5wcmlvcml0eSA9PT0gJ2xvdycpIHtcclxuICAgICAgICAgICAgY29sb3IgPSAnc3VjY2Vzcyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChhcnJbaV0ucHJpb3JpdHkgPT09ICdtZWRpdW0nKSB7XHJcbiAgICAgICAgICAgIGNvbG9yID0gJ2luZm8nO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbG9yID0gJ2Rhbmdlcic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb2xvcjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBidXR0b25Db2xvciA9IChjb2xvcikgPT4ge1xyXG4gICAgICAgIGxldCBidG5FZGl0O1xyXG4gICAgICAgIGxldCBidG5EZWxldGU7XHJcbiAgICAgICAgaWYgKGNvbG9yID09PSBcInN1Y2Nlc3NcIiB8fCBcImluZm9cIikge1xyXG4gICAgICAgICAgICBidG5FZGl0ID0gXCJ3YXJuaW5nXCI7XHJcbiAgICAgICAgICAgIGJ0bkRlbGV0ZSA9IFwiZGFuZ2VyXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb2xvciA9PT0gXCJkYW5nZXJcIikge1xyXG4gICAgICAgICAgICBidG5FZGl0ID0gXCJwcmltYXJ5XCI7XHJcbiAgICAgICAgICAgIGJ0bkRlbGV0ZSA9IFwid2FybmluZ1wiO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW2J0bkVkaXQsIGJ0bkRlbGV0ZV07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZGVsZXRlVGFzayA9IChwcm9qZWN0VGFza3MsIHRhc2tQcm9qZWN0LCBpLCBUQVNLU19MSVNUKSA9PiB7XHJcbiAgICAgICAgVEFTS1NfTElTVC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC5pZCA9PT0gYGRlbGV0ZS1idG4tJHtpfWApIHtcclxuICAgICAgICAgICAgICAgIHByb2plY3RUYXNrc1tpXS5leGlzdHMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJlbmRlclRhc2sodGFza1Byb2plY3QsIHByb2plY3RUYXNrcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGVkaXRUYXNrID0gKHByb2plY3RUYXNrcywgdGFza1Byb2plY3QsIGksIFRBU0tTX0xJU1QpID0+IHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLW5hbWUtJHtpfWApLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBwcm9qZWN0VGFza3NbaV0udGl0bGUpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNlZGl0LXRhc2stZGVzY3JpcHRpb24tJHtpfWApLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBwcm9qZWN0VGFza3NbaV0uZGVzY3JpcHRpb24pO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNlZGl0LXRhc2stZGF0ZS0ke2l9YCkuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHByb2plY3RUYXNrc1tpXS5kdWVEYXRlKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLXByaW9yaXR5LSR7aX1gKS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgcHJvamVjdFRhc2tzW2ldLnByaW9yaXR5KTtcclxuXHJcbiAgICAgICAgVEFTS1NfTElTVC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC5pZCA9PT0gYGVkaXQtYnRuLSR7aX1gKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBFRElUX05BTUUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLW5hbWUtJHtpfWApLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgRURJVF9ERVNDID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2VkaXQtdGFzay1kZXNjcmlwdGlvbi0ke2l9YCkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBFRElUX0RBVEUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLWRhdGUtJHtpfWApLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgRURJVF9QUklPUiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNlZGl0LXRhc2stcHJpb3JpdHktJHtpfWApLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChFRElUX05BTUUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKEVESVRfREVTQyA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoRURJVF9EQVRFID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChFRElUX1BSSU9SID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBwcm9qZWN0VGFza3NbaV0udGl0bGUgPSBFRElUX05BTUU7XHJcbiAgICAgICAgICAgICAgICBwcm9qZWN0VGFza3NbaV0uZGVzY3JpcHRpb24gPSBFRElUX0RFU0M7XHJcbiAgICAgICAgICAgICAgICBwcm9qZWN0VGFza3NbaV0uZHVlRGF0ZSA9IEVESVRfREFURTtcclxuICAgICAgICAgICAgICAgIHByb2plY3RUYXNrc1tpXS5wcmlvcml0eSA9IEVESVRfUFJJT1I7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVuZGVyVGFzayh0YXNrUHJvamVjdCwgcHJvamVjdFRhc2tzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBjcmVhdGVOZXdUYXNrLCBkZWxldGVUYXNrLCBlZGl0VGFza1xyXG4gICAgfVxyXG59KSgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgeyB0YXNrQ3JlYXRpb24gfTsiLCIvLyBNZXRob2QgaW1wb3J0c1xyXG5pbXBvcnQgeyBwcm9qZWN0Q3JlYXRpb24gfSBmcm9tIFwiLi9wcm9qZWN0XCI7XHJcbmltcG9ydCB7IHRhc2tDcmVhdGlvbiB9IGZyb20gXCIuL3Rhc2tcIjtcclxuXHJcbi8vIE9iamVjdCdzIGFycmF5c1xyXG5jb25zdCBwcm9qZWN0cyA9IFtdO1xyXG5cclxuY29uc3QgdGFza3MgPSBbXHJcbiAgICB7XHJcbiAgICAgIHRpdGxlOiBcIlRhc2sgMVwiLFxyXG4gICAgICBkZXNjcmlwdGlvbjogXCJEZXNjcmlwdGlvbiAxXCIsXHJcbiAgICAgIGR1ZURhdGU6IFwiMjAyMS0wNi0xMFwiLFxyXG4gICAgICBwcmlvcml0eTogXCJsb3dcIixcclxuICAgICAgcHJvamVjdDogXCJQcm9qZWN0IDFcIixcclxuICAgICAgZXhpc3RzOiB0cnVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0aXRsZTogXCJUYXNrIDJcIixcclxuICAgICAgZGVzY3JpcHRpb246IFwiRGVzY3JpcHRpb24gMlwiLFxyXG4gICAgICBkdWVEYXRlOiBcIjIwMjEtMDYtMTBcIixcclxuICAgICAgcHJpb3JpdHk6IFwibWVkaXVtXCIsXHJcbiAgICAgIHByb2plY3Q6IFwiUHJvamVjdCAyXCIsXHJcbiAgICAgIGV4aXN0czogdHJ1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdGl0bGU6IFwiVGFzayAzXCIsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkRlc2NyaXB0aW9uIDNcIixcclxuICAgICAgZHVlRGF0ZTogXCIyMDIxLTA2LTEwXCIsXHJcbiAgICAgIHByaW9yaXR5OiBcImhpZ2hcIixcclxuICAgICAgcHJvamVjdDogXCJQcm9qZWN0IDNcIixcclxuICAgICAgZXhpc3RzOiB0cnVlXHJcbiAgICB9XHJcbiAgXTtcclxuXHJcbi8vIENhbGwgb2YgcHJvamVjdCdzIGZ1bmN0aW9uIHdpdGggYXR0YWNoZWQgZXZlbnQgbGlzdGVuZXJzXHJcbnByb2plY3RDcmVhdGlvbi5hZGRQcm9qZWN0KHByb2plY3RzLCB0YXNrcyk7XHJcbnByb2plY3RDcmVhdGlvbi5kaXNwbGF5UHJvamVjdFRhc2tzKHRhc2tzKTtcclxuXHJcbi8vIENhbGwgdGFza3MgZnVuY3Rpb25zIHdpdGggYXR0YWNoZWQgZXZlbnQgbGlzdGVuZXJzXHJcbnRhc2tDcmVhdGlvbi5jcmVhdGVOZXdUYXNrKHRhc2tzKTtcclxuXHJcblxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==