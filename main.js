(()=>{"use strict";var t={d:(e,s)=>{for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{I:()=>l,i:()=>i});const e=(()=>{const t=()=>{const t=document.forms["project-form"];return t.addEventListener("submit",(t=>{t.preventDefault()})),t};return{addProject:e=>{document.querySelector("#project-btn").addEventListener("click",(()=>{t(),((t,e)=>{const s=e().querySelector("#project-title").value;""!==s&&l.newProject(s,t)})(e,t),(t=>{const e=document.querySelector("#project-list");e.innerHTML='\n            <li class="list-group-item list-group-item-dark btn my-1" id="all-projects">All Projects</li>\n        ';for(let s=0;s<t.length;s+=1)e.innerHTML+=`\n                <li class="list-group-item list-group-item-dark btn my-1" id="project-list">${t[s].title}</li>\n            `})(e),document.querySelector("#project-form").reset()}))},displayProjectTasks:(t,e)=>{const s=document.querySelector("#project-list");s.addEventListener("click",(e=>{const n=e.target.textContent;((t,e)=>{const s=t.target;[...e.children].forEach((t=>{t.classList.remove("active")})),s.classList.add("active"),document.querySelector("#task-display").classList.remove("d-none")})(e,s),(t=>{const e=document.querySelector("#project");e.innerHTML="",e.innerHTML+=`\n        <input type="hidden" value="${t}" id="task-project" class="form-control" aria-label="Default select example">\n    `})(n),((t,e)=>{const s=document.querySelector("#tasks-list");s.innerHTML="";const n=e.filter((t=>!0===t.exists)),l=document.querySelector("#add-task"),o=document.querySelector("#multiCollapseExample2");if(document.querySelector("#all-projects").addEventListener("click",(()=>{for(let t=0;t<n.length;t+=1){const e=i.getColor(n,t);s.innerHTML+=`\n                    <li class="">\n                        <p>\n                            <button class="btn btn-${e} w-100" type="button" data-bs-toggle="collapse" data-bs-target="#task-${t}" aria-expanded="false" aria-controls="task-${t}">\n                                ${n[t].title}\n                            </button>\n                        </p>\n                        \n                        <div class="collapse" id="task-${t}">\n                            <div class="card card-body bg-${e} mb-4">\n                                <ul class="list-group">\n                                    <li class="list-group-item bg-${e} text-white"><span class="fw-bold">Description</span>: ${n[t].description}</li>\n                                    <li class="list-group-item bg-${e} text-white"><span class="fw-bold">Due Date</span>: ${n[t].dueDate}</li>\n                                    <li class="list-group-item bg-${e} text-white"><span class="fw-bold">Priority</span>: ${n[t].priority}</li>\n                                </ul>\n                            </div>\n                        </div>\n                    </li>\n                `}})),"All Projects"!==t){l.classList.remove("d-none"),o.classList.remove("d-none");const n=e.filter((e=>e.project===t&&!0===e.exists));for(let t=0;t<n.length;t+=1){const e=i.getColor(n,t);s.innerHTML+=`\n                    <li class="">\n                        <p>\n                            <button class="btn btn-${e} w-100" type="button" data-bs-toggle="collapse" data-bs-target="#task-${t}" aria-expanded="false" aria-controls="task-${t}">\n                                ${n[t].title}\n                            </button>\n                        </p>\n                        \n                        <div class="collapse" id="task-${t}">\n                            <div class="card card-body bg-${e} mb-4">\n                                <ul class="list-group ">\n                                    <li class="list-group-item bg-${e} text-white"><span class="fw-bold">Description</span>: ${n[t].description}</li>\n                                    <li class="list-group-item bg-${e} text-white"><span class="fw-bold">Due Date</span>: ${n[t].dueDate}</li>\n                                    <li class="list-group-item bg-${e} text-white"><span class="fw-bold">Priority</span>: ${n[t].priority}</li>\n                                </ul>\n                                \n                                <div class="d-flex mt-3">\n                                    <button type="button" class="btn btn-outline-dark mx-3">Edit</button>\n                                    <button id="delete-task" type="button" class="btn btn-outline-warning">Delete</button>\n                                </div>\n                                \n                            </div>\n                        </div>\n                    </li>\n                `}}})(n,t)}))}}})(),s=(()=>{const t=(t,e,s,i)=>{i.addEventListener("click",(i=>{i.target.id===`delete-btn-${s}`&&(t[s].exists=!1,n(e,t))}))},e=(t,e,s,i)=>{i.addEventListener("click",(i=>{if(i.target.id===`edit-btn-${s}`){const i=document.querySelector(`#edit-task-name-${s}`).value,l=document.querySelector(`#edit-task-description-${s}`).value,o=document.querySelector(`#edit-task-date-${s}`).value,a=document.querySelector(`#edit-task-priority-${s}`).value;if(""===i)return;if(""===l)return;if(""===o)return;if(""===a)return;t[s].title=i,t[s].description=l,t[s].dueDate=o,t[s].priority=a,n(e,t)}}))},n=(n,l)=>{const o=document.querySelector("#tasks-list");o.innerHTML="";const a=l.filter((t=>t.project===n&&!0===t.exists));for(let l=0;l<a.length;l+=1){const r=i.getColor(a,l);o.innerHTML+=`\n            <li>\n                <p>\n                    <button class="btn btn-${r} w-100" type="button" data-bs-toggle="collapse" data-bs-target="#task-${l}" aria-expanded="false" aria-controls="task-${l}">\n                        ${a[l].title}\n                    </button>\n                </p>\n                    \n                <div class="collapse" id="task-${l}">\n                    <div class="card card-body bg-${r} mb-4">\n                        <ul class="list-group ">\n                            <li class="list-group-item bg-${r} text-white"><span class="fw-bold">Description</span>: ${a[l].description}</li>\n                            <li class="list-group-item bg-${r} text-white"><span class="fw-bold">Due Date</span>: ${a[l].dueDate}</li>\n                            <li class="list-group-item bg-${r} text-white"><span class="fw-bold">Priority</span>: ${a[l].priority}</li>\n                        </ul>\n                    \n                        <div class="d-flex mt-3 justify-content-between">\n                            <div>\n                                <p>\n                                    <button class="btn btn-${i.buttonColor(r)[0]}" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample-${l}" aria-expanded="false" aria-controls="collapseExample-${l}">\n                                        Edit\n                                    </button>\n\n                                    <button id="delete-btn-${l}" type="button" class="btn btn-${i.buttonColor(r)[1]}">Delete</button>\n                                </p>\n\n                                <div class="collapse multi-collapse" id="collapseExample-${l}">\n                                    <form id="edit-tasks-form">\n                                        <div class="mb-3">\n                                            <label for="edit-task-name" class="form-label text-info">Task Title</label>\n                                            <input type="text" class="form-control" id="edit-task-name-${l}">\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-description" class="form-label text-info">Task Description</label>\n                                            <input type="text" class="form-control" id="edit-task-description-${l}">\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-date" class="form-label text-info">Due Date</label>\n                                            <br>\n                                            <input type="date" id="edit-task-date-${l}" name="trip-start">\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-priority" class="form-label text-info">Priority</label>\n                                            <select id="edit-task-priority-${l}" class="form-select" aria-label="Default select example">\n                                                <option selected>Select Priority</option>\n                                                <option value="low">Low</option>\n                                                <option value="medium">Medium</option>\n                                                <option value="high">High</option>\n                                            </select>\n                                        </div>\n                                        <div>\n                                            <button id="edit-btn-${l}" type="submit" class="btn btn-secondary">Edit Task</button>\n                                        </div\n                                    </form>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </li>\n            `,document.querySelector(`#edit-task-name-${l}`).setAttribute("value",a[l].title),document.querySelector(`#edit-task-description-${l}`).setAttribute("value",a[l].description),document.querySelector(`#edit-task-date-${l}`).setAttribute("value",a[l].dueDate),document.querySelector(`#edit-task-priority-${l}`).setAttribute("value",a[l].priority),t(a,n,l,o,s.renderTask),e(a,n,l,o,s.renderTask)}};return{createNewTask:t=>{const e=(()=>{const t=document.forms["tasks-form"];return t.addEventListener("submit",(t=>{t.preventDefault()})),t})();document.querySelector("#task-btn").addEventListener("click",(()=>{const s=e.querySelector("#task-name").value,l=e.querySelector("#task-description").value,o=e.querySelector("#task-date").value,a=e.querySelector("#task-priority").value,r=e.querySelector("#task-project").value;""!==s&&""!==l&&""!==o&&""!==a&&(i.newTask(t,s,l,o,a,r),n(r,t),document.querySelector("#tasks-form").reset())}))},renderTask:n}})(),n=[{title:"Task 1",description:"Description 1",dueDate:"2021-06-10",priority:"low",project:"Project 1",exists:!0},{title:"Task 2",description:"Description 2",dueDate:"2021-06-10",priority:"medium",project:"Project 2",exists:!0},{title:"Task 3",description:"Description 3",dueDate:"2021-06-10",priority:"high",project:"Project 3",exists:!0}];class i{constructor(t,e,s,n,i="default"){this.title=t,this.description=e,this.dueDate=s,this.priority=n,this.project=i,this.exists=!0}static newTask(t,e,s,n,l,o){const a=new i(e,s,n,l,o);t.push(a)}static getColor(t,e){let s;return s="low"===t[e].priority?"success":"medium"===t[e].priority?"info":"danger",s}static buttonColor(t){let e,s;return"success"!==t&&"info"!==t||(e="warning",s="danger"),"danger"===t&&(e="primary",s="warning"),[e,s]}}class l{constructor(t){this.title=t}static newProject(t,e){const s=new l(t);e.push(s)}}e.addProject([]),e.displayProjectTasks(n),s.createNewTask(n,i)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qcy10b2RvbGlzdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9qcy10b2RvbGlzdC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vanMtdG9kb2xpc3Qvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9qcy10b2RvbGlzdC8uL3NyYy9wcm9qZWN0RG9tLmpzIiwid2VicGFjazovL2pzLXRvZG9saXN0Ly4vc3JjL3Rhc2tEb20uanMiLCJ3ZWJwYWNrOi8vanMtdG9kb2xpc3QvLi9zcmMvbWFpbi5qcyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInByb2plY3RDcmVhdGlvbiIsInByb2plY3RGb3JtIiwiUFJPSkVDVF9GT1JNIiwiZG9jdW1lbnQiLCJmb3JtcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJhZGRQcm9qZWN0IiwicHJvamVjdEFyciIsInF1ZXJ5U2VsZWN0b3IiLCJQUk9KRUNUX1RJVExFIiwidmFsdWUiLCJQcm9qZWN0IiwibmV3UHJvamVjdCIsImNyZWF0ZVByb2plY3QiLCJQUk9KRUNUX0xJU1QiLCJpbm5lckhUTUwiLCJpIiwibGVuZ3RoIiwidGl0bGUiLCJyZW5kZXJQcm9qZWN0VmlldyIsInJlc2V0IiwiZGlzcGxheVByb2plY3RUYXNrcyIsInRhc2tzQXJyIiwiZ2V0Q29sb3IiLCJQUk9KRUNUX05BTUUiLCJ0YXJnZXQiLCJ0ZXh0Q29udGVudCIsImV2ZW50IiwicHJvamVjdExpc3QiLCJQUk9KRUNUIiwiY2hpbGRyZW4iLCJmb3JFYWNoIiwicHJvamVjdCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsInByb2plY3RTZWxlY3Rpb24iLCJwcm9qZWN0TmFtZSIsIlRBU0tfUFJPSkVDVCIsInRhc2tPcHRpb25zIiwiVEFTS19MSVNUIiwiYWxsVGFza3MiLCJmaWx0ZXIiLCJ0YXNrIiwiZXhpc3RzIiwiQUREX1RBU0tfQlROIiwiRk9STSIsImNvbG9yIiwiVGFzayIsImRlc2NyaXB0aW9uIiwiZHVlRGF0ZSIsInByaW9yaXR5IiwicHJvamVjdFRhc2tzIiwicmVuZGVyVGFza3MiLCJ0YXNrQ3JlYXRpb24iLCJkZWxldGVUYXNrIiwidGFza1Byb2plY3QiLCJUQVNLU19MSVNUIiwiaWQiLCJyZW5kZXJUYXNrIiwiZWRpdFRhc2siLCJFRElUX05BTUUiLCJFRElUX0RFU0MiLCJFRElUX0RBVEUiLCJFRElUX1BSSU9SIiwiYnV0dG9uQ29sb3IiLCJzZXRBdHRyaWJ1dGUiLCJjcmVhdGVOZXdUYXNrIiwiVEFTS1NfRk9STSIsInRhc2tGb3JtIiwiVEFTS19OQU1FIiwiVEFTS19ERVNDUklQVElPTiIsIlRBU0tfREFURSIsIlRBU0tfUFJJT1JJVFkiLCJuZXdUYXNrIiwidGFza3MiLCJ0aGlzIiwibmFtZSIsImRhdGUiLCJwdXNoIiwiYXJyIiwiYnRuRWRpdCIsImJ0bkRlbGV0ZSIsInByb2plY3RUaXRsZSIsIk5FV19QUk9KRUNUIl0sIm1hcHBpbmdzIjoibUJBQ0EsSUFBSUEsRUFBc0IsQ0NBMUIsRUFBd0IsQ0FBQ0MsRUFBU0MsS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYRixFQUFvQkksRUFBRUYsRUFBWUMsS0FBU0gsRUFBb0JJLEVBQUVILEVBQVNFLElBQzVFRSxPQUFPQyxlQUFlTCxFQUFTRSxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsTUNKM0UsRUFBd0IsQ0FBQ00sRUFBS0MsSUFBVUwsT0FBT00sVUFBVUMsZUFBZUMsS0FBS0osRUFBS0MsSSwwQkNJM0UsTUFBTUksRUFBa0IsTUFDN0IsTUFBTUMsRUFBYyxLQUVs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QUMsRUFTSixNQVJjLFlBQVZuQyxHQUFpQyxTQUFWQSxJQUN6QmtDLEVBQVUsVUFDVkMsRUFBWSxVQUVBLFdBQVZuQyxJQUNGa0MsRUFBVSxVQUNWQyxFQUFZLFdBRVAsQ0FBQ0QsRUFBU0MsSUFJZCxNQUFNdkUsRUFDWCxZQUFZTyxHQUNWMEQsS0FBSzFELE1BQVFBLEVBR2Ysa0JBQWtCaUUsRUFBYzVFLEdBQzlCLE1BQU02RSxFQUFjLElBQUl6RSxFQUFRd0UsR0FDaEM1RSxFQUFXd0UsS0FBS0ssSUFLcEJ0RixFQUFnQlEsV0F4RkMsSUF5RmpCUixFQUFnQnVCLG9CQUFvQnNELEdBR3BDckIsRUFBYWEsY0FBY1EsRUFBTzNCLEkiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiaW1wb3J0IHsgVGFzayB9IGZyb20gXCIuL21haW5cIjtcclxuaW1wb3J0IHsgUHJvamVjdCB9IGZyb20gXCIuL21haW5cIjtcclxuXHJcbi8vIFByb2plY3QgQ3JlYXRpb24gTW9kdWxlIChJSUZFKTtcclxuZXhwb3J0IGNvbnN0IHByb2plY3RDcmVhdGlvbiA9ICgoKSA9PiB7XHJcbiAgY29uc3QgcHJvamVjdEZvcm0gPSAoKSA9PiB7XHJcbiAgICAvLyBwcmV2ZW50IGZvcm0gZGVmYXVsdCBiZWhhdmlvdXJcclxuICAgIGNvbnN0IFBST0pFQ1RfRk9STSA9IGRvY3VtZW50LmZvcm1zWydwcm9qZWN0LWZvcm0nXTtcclxuXHJcbiAgICBQUk9KRUNUX0ZPUk0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIFBST0pFQ1RfRk9STTtcclxuICB9XHJcblxyXG4gIC8vIFByb2plY3QgSGVscGVyIG1ldGhvZHNcclxuICBjb25zdCBjcmVhdGVQcm9qZWN0ID0gKHByb2plY3RBcnIsIHByb2plY3RGb3JtKSA9PiB7XHJcbiAgICBjb25zdCBQUk9KRUNUX1RJVExFID0gcHJvamVjdEZvcm0oKS5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdC10aXRsZScpLnZhbHVlO1xyXG4gICAgaWYgKFBST0pFQ1RfVElUTEUgPT09ICcnKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBQcm9qZWN0Lm5ld1Byb2plY3QoUFJPSkVDVF9USVRMRSwgcHJvamVjdEFycik7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVuZGVyUHJvamVjdFZpZXcgPSAocHJvamVjdEFycikgPT4ge1xyXG4gICAgY29uc3QgUFJPSkVDVF9MSVNUID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QtbGlzdCcpO1xyXG4gICAgUFJPSkVDVF9MSVNULmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGxpc3QtZ3JvdXAtaXRlbS1kYXJrIGJ0biBteS0xXCIgaWQ9XCJhbGwtcHJvamVjdHNcIj5BbGwgUHJvamVjdHM8L2xpPlxyXG4gICAgICAgIGA7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9qZWN0QXJyLmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAgIFBST0pFQ1RfTElTVC5pbm5lckhUTUwgKz0gYFxyXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGxpc3QtZ3JvdXAtaXRlbS1kYXJrIGJ0biBteS0xXCIgaWQ9XCJwcm9qZWN0LWxpc3RcIj4ke3Byb2plY3RBcnJbaV0udGl0bGV9PC9saT5cclxuICAgICAgICAgICAgYDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBQcm9qZWN0J3MgdGFza3MgSGVscGVyIE1ldGhvZFxyXG4gIGNvbnN0IHRhc2tPcHRpb25zID0gKHByb2plY3ROYW1lKSA9PiB7XHJcbiAgICAvLyBDcmVhdGUgc2VsZWN0aW9uIG9uIHRhc2tzIGJhc2VkIG9uIG9iamVjdHNcclxuICAgIGNvbnN0IFRBU0tfUFJPSkVDVCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9qZWN0Jyk7XHJcbiAgICBUQVNLX1BST0pFQ1QuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBUQVNLX1BST0pFQ1QuaW5uZXJIVE1MICs9IGBcclxuICAgICAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIHZhbHVlPVwiJHtwcm9qZWN0TmFtZX1cIiBpZD1cInRhc2stcHJvamVjdFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgYXJpYS1sYWJlbD1cIkRlZmF1bHQgc2VsZWN0IGV4YW1wbGVcIj5cclxuICAgIGA7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcHJvamVjdFNlbGVjdGlvbiA9IChldmVudCwgcHJvamVjdExpc3QpID0+IHtcclxuICAgIGNvbnN0IFBST0pFQ1QgPSBldmVudC50YXJnZXQ7XHJcblxyXG4gICAgY29uc3QgY2hpbGRyZW4gPSBbLi4ucHJvamVjdExpc3QuY2hpbGRyZW5dO1xyXG4gICAgY2hpbGRyZW4uZm9yRWFjaCgocHJvamVjdCkgPT4ge1xyXG4gICAgICBwcm9qZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgUFJPSkVDVC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgIGNvbnN0IFRBU0tfRElTUExBWSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0YXNrLWRpc3BsYXknKTtcclxuICAgIFRBU0tfRElTUExBWS5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcclxuICB9O1xyXG5cclxuICBjb25zdCByZW5kZXJUYXNrcyA9IChwcm9qZWN0TmFtZSwgdGFza3NBcnIpID0+IHtcclxuICAgIGNvbnN0IFRBU0tfTElTVCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0YXNrcy1saXN0Jyk7XHJcbiAgICBUQVNLX0xJU1QuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBjb25zdCBhbGxUYXNrcyA9IHRhc2tzQXJyLmZpbHRlcih0YXNrID0+IHRhc2suZXhpc3RzID09PSB0cnVlKTtcclxuICAgIGNvbnN0IEFERF9UQVNLX0JUTiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGQtdGFzaycpO1xyXG4gICAgY29uc3QgRk9STSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtdWx0aUNvbGxhcHNlRXhhbXBsZTInKTtcclxuXHJcbiAgICBjb25zdCBBTExfUFJPSkVDVFMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWxsLXByb2plY3RzJyk7XHJcbiAgICBBTExfUFJPSkVDVFMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsVGFza3MubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgICBjb25zdCBjb2xvciA9IFRhc2suZ2V0Q29sb3IoYWxsVGFza3MsIGkpO1xyXG4gICAgICAgIC8qIGVzbGludCBtYXgtbGVuOiBbXCJlcnJvclwiLCB7IFwiaWdub3JlVGVtcGxhdGVMaXRlcmFsc1wiOiB0cnVlIH1dICovXHJcbiAgICAgICAgVEFTS19MSVNULmlubmVySFRNTCArPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwiXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tJHtjb2xvcn0gdy0xMDBcIiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1icy10b2dnbGU9XCJjb2xsYXBzZVwiIGRhdGEtYnMtdGFyZ2V0PVwiI3Rhc2stJHtpfVwiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiIGFyaWEtY29udHJvbHM9XCJ0YXNrLSR7aX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2FsbFRhc2tzW2ldLnRpdGxlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2xsYXBzZVwiIGlkPVwidGFzay0ke2l9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZCBjYXJkLWJvZHkgYmctJHtjb2xvcn0gbWItNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImxpc3QtZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5EZXNjcmlwdGlvbjwvc3Bhbj46ICR7YWxsVGFza3NbaV0uZGVzY3JpcHRpb259PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5EdWUgRGF0ZTwvc3Bhbj46ICR7YWxsVGFza3NbaV0uZHVlRGF0ZX08L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gYmctJHtjb2xvcn0gdGV4dC13aGl0ZVwiPjxzcGFuIGNsYXNzPVwiZnctYm9sZFwiPlByaW9yaXR5PC9zcGFuPjogJHthbGxUYXNrc1tpXS5wcmlvcml0eX08L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgaWYgKHByb2plY3ROYW1lICE9PSAnQWxsIFByb2plY3RzJykge1xyXG4gICAgICBBRERfVEFTS19CVE4uY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XHJcbiAgICAgIEZPUk0uY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XHJcbiAgICAgIGNvbnN0IHByb2plY3RUYXNrcyA9IHRhc2tzQXJyLmZpbHRlcih0YXNrID0+IHRhc2sucHJvamVjdCA9PT0gcHJvamVjdE5hbWVcclxuICAgICAgICAgICYmIHRhc2suZXhpc3RzID09PSB0cnVlKTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9qZWN0VGFza3MubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgICBjb25zdCBjb2xvciA9IFRhc2suZ2V0Q29sb3IocHJvamVjdFRhc2tzLCBpKTtcclxuXHJcbiAgICAgICAgVEFTS19MSVNULmlubmVySFRNTCArPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwiXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tJHtjb2xvcn0gdy0xMDBcIiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1icy10b2dnbGU9XCJjb2xsYXBzZVwiIGRhdGEtYnMtdGFyZ2V0PVwiI3Rhc2stJHtpfVwiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiIGFyaWEtY29udHJvbHM9XCJ0YXNrLSR7aX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3Byb2plY3RUYXNrc1tpXS50aXRsZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sbGFwc2VcIiBpZD1cInRhc2stJHtpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQgY2FyZC1ib2R5IGJnLSR7Y29sb3J9IG1iLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJsaXN0LWdyb3VwIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gYmctJHtjb2xvcn0gdGV4dC13aGl0ZVwiPjxzcGFuIGNsYXNzPVwiZnctYm9sZFwiPkRlc2NyaXB0aW9uPC9zcGFuPjogJHtwcm9qZWN0VGFza3NbaV0uZGVzY3JpcHRpb259PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5EdWUgRGF0ZTwvc3Bhbj46ICR7cHJvamVjdFRhc2tzW2ldLmR1ZURhdGV9PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5Qcmlvcml0eTwvc3Bhbj46ICR7cHJvamVjdFRhc2tzW2ldLnByaW9yaXR5fTwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IG10LTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtZGFyayBteC0zXCI+RWRpdDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiZGVsZXRlLXRhc2tcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtd2FybmluZ1wiPkRlbGV0ZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICBgO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gQ3JlYXRlIGFuZCBkaXNwbGF5IHByb2plY3QgaW4gdGhlIFVJXHJcbiAgY29uc3QgYWRkUHJvamVjdCA9IChwcm9qZWN0QXJyKSA9PiB7XHJcbiAgICBjb25zdCBQUk9KRUNUX0JUTiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9qZWN0LWJ0bicpO1xyXG5cclxuICAgIFBST0pFQ1RfQlROLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAvL1ByZXZlbnQgZGVmYXVsdFxyXG4gICAgICBwcm9qZWN0Rm9ybSgpO1xyXG5cclxuICAgICAgLy8gY3JlYXRlIG5ldyBwcm9qZWN0XHJcbiAgICAgIGNyZWF0ZVByb2plY3QocHJvamVjdEFyciwgcHJvamVjdEZvcm0pO1xyXG5cclxuICAgICAgLy8gUmVuZGVyIHByb2plY3RzIGluIHZpZXdzXHJcbiAgICAgIHJlbmRlclByb2plY3RWaWV3KHByb2plY3RBcnIpO1xyXG5cclxuICAgICAgLy8gcmVzZXQgcHJvamVjdCBmb3JtXHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9qZWN0LWZvcm0nKS5yZXNldCgpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLy8gRGlzcGxheSB0aGUgcHJvamVjdCdzIHNwZWNpZmljIHRhc2tzIGluIHRoZSBVSVxyXG4gIGNvbnN0IGRpc3BsYXlQcm9qZWN0VGFza3MgPSAodGFza3NBcnIsIGdldENvbG9yKSA9PiB7XHJcbiAgICBjb25zdCBQUk9KRUNUX0xJU1QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdC1saXN0Jyk7XHJcblxyXG4gICAgUFJPSkVDVF9MSVNULmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgY29uc3QgUFJPSkVDVF9OQU1FID0gZS50YXJnZXQudGV4dENvbnRlbnQ7XHJcblxyXG4gICAgICBwcm9qZWN0U2VsZWN0aW9uKGUsIFBST0pFQ1RfTElTVCk7XHJcblxyXG4gICAgICB0YXNrT3B0aW9ucyhQUk9KRUNUX05BTUUpO1xyXG5cclxuICAgICAgcmVuZGVyVGFza3MoUFJPSkVDVF9OQU1FLCB0YXNrc0FyciwgZ2V0Q29sb3IpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGFkZFByb2plY3QsIGRpc3BsYXlQcm9qZWN0VGFza3NcclxuICB9O1xyXG59KSgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgeyBwcm9qZWN0Q3JlYXRpb24gfTsiLCJpbXBvcnQgeyBUYXNrIH0gZnJvbSBcIi4vbWFpblwiO1xyXG5cclxuLy8gVGFzayBDcmVhdGlvbiBNb2R1bGUgKElJRkUpO1xyXG5leHBvcnQgY29uc3QgdGFza0NyZWF0aW9uID0gKCgpID0+IHtcclxuICAvLyBUYXNrIEZvcm1cclxuICBjb25zdCB0YXNrRm9ybSA9ICgpID0+IHtcclxuICAgIC8vIFRhc2tzIEZvcm0gSW5mb3JtYXRpb25cclxuICAgIGNvbnN0IFRBU0tTX0ZPUk0gPSBkb2N1bWVudC5mb3Jtc1sndGFza3MtZm9ybSddO1xyXG5cclxuLy8gcHJldmVudCBmb3JtIGRlZmF1bHQgYmVoYXZpb3VyXHJcbiAgICBUQVNLU19GT1JNLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBUQVNLU19GT1JNO1xyXG4gIH1cclxuXHJcbiAgLy8gRWRpdC9EZWxldGUgVGFza3MgbWV0aG9kc1xyXG4gIGNvbnN0IGRlbGV0ZVRhc2sgPSAocHJvamVjdFRhc2tzLCB0YXNrUHJvamVjdCwgaSwgVEFTS1NfTElTVCkgPT4ge1xyXG4gICAgVEFTS1NfTElTVC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgIGlmIChlLnRhcmdldC5pZCA9PT0gYGRlbGV0ZS1idG4tJHtpfWApIHtcclxuICAgICAgICBwcm9qZWN0VGFza3NbaV0uZXhpc3RzID0gZmFsc2U7XHJcbiAgICAgICAgcmVuZGVyVGFzayh0YXNrUHJvamVjdCwgcHJvamVjdFRhc2tzKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBlZGl0VGFzayA9IChwcm9qZWN0VGFza3MsIHRhc2tQcm9qZWN0LCBpLCBUQVNLU19MSVNUKSA9PntcclxuICAgIFRBU0tTX0xJU1QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICBpZiAoZS50YXJnZXQuaWQgPT09IGBlZGl0LWJ0bi0ke2l9YCkge1xyXG4gICAgICAgIGNvbnN0IEVESVRfTkFNRSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNlZGl0LXRhc2stbmFtZS0ke2l9YCkudmFsdWU7XHJcbiAgICAgICAgY29uc3QgRURJVF9ERVNDID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2VkaXQtdGFzay1kZXNjcmlwdGlvbi0ke2l9YCkudmFsdWU7XHJcbiAgICAgICAgY29uc3QgRURJVF9EQVRFID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2VkaXQtdGFzay1kYXRlLSR7aX1gKS52YWx1ZTtcclxuICAgICAgICBjb25zdCBFRElUX1BSSU9SID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2VkaXQtdGFzay1wcmlvcml0eS0ke2l9YCkudmFsdWU7XHJcblxyXG4gICAgICAgIGlmIChFRElUX05BTUUgPT09ICcnKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChFRElUX0RFU0MgPT09ICcnKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChFRElUX0RBVEUgPT09ICcnKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChFRElUX1BSSU9SID09PSAnJykge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvamVjdFRhc2tzW2ldLnRpdGxlID0gRURJVF9OQU1FO1xyXG4gICAgICAgIHByb2plY3RUYXNrc1tpXS5kZXNjcmlwdGlvbiA9IEVESVRfREVTQztcclxuICAgICAgICBwcm9qZWN0VGFza3NbaV0uZHVlRGF0ZSA9IEVESVRfREFURTtcclxuICAgICAgICBwcm9qZWN0VGFza3NbaV0ucHJpb3JpdHkgPSBFRElUX1BSSU9SO1xyXG5cclxuICAgICAgICByZW5kZXJUYXNrKHRhc2tQcm9qZWN0LCBwcm9qZWN0VGFza3MpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIHJlbmRlciB0YXNrcyBpbiB0aGUgVUlcclxuICBjb25zdCByZW5kZXJUYXNrID0gKHRhc2tQcm9qZWN0LCB0YXNrc0FycikgPT4ge1xyXG4gICAgY29uc3QgVEFTS1NfTElTVCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0YXNrcy1saXN0Jyk7XHJcblxyXG4gICAgVEFTS1NfTElTVC5pbm5lckhUTUwgPSAnJztcclxuICAgIGNvbnN0IHByb2plY3RUYXNrcyA9IHRhc2tzQXJyLmZpbHRlcih0YXNrID0+IHRhc2sucHJvamVjdCA9PT0gdGFza1Byb2plY3RcclxuICAgICAgICAmJiB0YXNrLmV4aXN0cyA9PT0gdHJ1ZSk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9qZWN0VGFza3MubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgY29uc3QgY29sb3IgPSBUYXNrLmdldENvbG9yKHByb2plY3RUYXNrcywgaSk7XHJcbiAgICAgIC8qIGVzbGludCBtYXgtbGVuOiBbXCJlcnJvclwiLCB7IFwiaWdub3JlVGVtcGxhdGVMaXRlcmFsc1wiOiB0cnVlIH1dICovXHJcbiAgICAgIFRBU0tTX0xJU1QuaW5uZXJIVE1MICs9IGBcclxuICAgICAgICAgICAgPGxpPlxyXG4gICAgICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tJHtjb2xvcn0gdy0xMDBcIiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1icy10b2dnbGU9XCJjb2xsYXBzZVwiIGRhdGEtYnMtdGFyZ2V0PVwiI3Rhc2stJHtpfVwiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiIGFyaWEtY29udHJvbHM9XCJ0YXNrLSR7aX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHtwcm9qZWN0VGFza3NbaV0udGl0bGV9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sbGFwc2VcIiBpZD1cInRhc2stJHtpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkIGNhcmQtYm9keSBiZy0ke2NvbG9yfSBtYi00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImxpc3QtZ3JvdXAgXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gYmctJHtjb2xvcn0gdGV4dC13aGl0ZVwiPjxzcGFuIGNsYXNzPVwiZnctYm9sZFwiPkRlc2NyaXB0aW9uPC9zcGFuPjogJHtwcm9qZWN0VGFza3NbaV0uZGVzY3JpcHRpb259PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+RHVlIERhdGU8L3NwYW4+OiAke3Byb2plY3RUYXNrc1tpXS5kdWVEYXRlfTwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gYmctJHtjb2xvcn0gdGV4dC13aGl0ZVwiPjxzcGFuIGNsYXNzPVwiZnctYm9sZFwiPlByaW9yaXR5PC9zcGFuPjogJHtwcm9qZWN0VGFza3NbaV0ucHJpb3JpdHl9PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBtdC0zIGp1c3RpZnktY29udGVudC1iZXR3ZWVuXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi0ke1Rhc2suYnV0dG9uQ29sb3IoY29sb3IpWzBdfVwiIHR5cGU9XCJidXR0b25cIiBkYXRhLWJzLXRvZ2dsZT1cImNvbGxhcHNlXCIgZGF0YS1icy10YXJnZXQ9XCIjY29sbGFwc2VFeGFtcGxlLSR7aX1cIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIiBhcmlhLWNvbnRyb2xzPVwiY29sbGFwc2VFeGFtcGxlLSR7aX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVkaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiZGVsZXRlLWJ0bi0ke2l9XCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi0ke1Rhc2suYnV0dG9uQ29sb3IoY29sb3IpWzFdfVwiPkRlbGV0ZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbGxhcHNlIG11bHRpLWNvbGxhcHNlXCIgaWQ9XCJjb2xsYXBzZUV4YW1wbGUtJHtpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Zm9ybSBpZD1cImVkaXQtdGFza3MtZm9ybVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZWRpdC10YXNrLW5hbWVcIiBjbGFzcz1cImZvcm0tbGFiZWwgdGV4dC1pbmZvXCI+VGFzayBUaXRsZTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cImVkaXQtdGFzay1uYW1lLSR7aX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImVkaXQtdGFzay1kZXNjcmlwdGlvblwiIGNsYXNzPVwiZm9ybS1sYWJlbCB0ZXh0LWluZm9cIj5UYXNrIERlc2NyaXB0aW9uPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwiZWRpdC10YXNrLWRlc2NyaXB0aW9uLSR7aX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImVkaXQtdGFzay1kYXRlXCIgY2xhc3M9XCJmb3JtLWxhYmVsIHRleHQtaW5mb1wiPkR1ZSBEYXRlPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJkYXRlXCIgaWQ9XCJlZGl0LXRhc2stZGF0ZS0ke2l9XCIgbmFtZT1cInRyaXAtc3RhcnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImVkaXQtdGFzay1wcmlvcml0eVwiIGNsYXNzPVwiZm9ybS1sYWJlbCB0ZXh0LWluZm9cIj5Qcmlvcml0eTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD1cImVkaXQtdGFzay1wcmlvcml0eS0ke2l9XCIgY2xhc3M9XCJmb3JtLXNlbGVjdFwiIGFyaWEtbGFiZWw9XCJEZWZhdWx0IHNlbGVjdCBleGFtcGxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gc2VsZWN0ZWQ+U2VsZWN0IFByaW9yaXR5PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJsb3dcIj5Mb3c8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm1lZGl1bVwiPk1lZGl1bTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiaGlnaFwiPkhpZ2g8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiZWRpdC1idG4tJHtpfVwiIHR5cGU9XCJzdWJtaXRcIiBjbGFzcz1cImJ0biBidG4tc2Vjb25kYXJ5XCI+RWRpdCBUYXNrPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2RpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgYDtcclxuXHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNlZGl0LXRhc2stbmFtZS0ke2l9YCkuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHByb2plY3RUYXNrc1tpXS50aXRsZSk7XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNlZGl0LXRhc2stZGVzY3JpcHRpb24tJHtpfWApLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBwcm9qZWN0VGFza3NbaV0uZGVzY3JpcHRpb24pO1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLWRhdGUtJHtpfWApLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBwcm9qZWN0VGFza3NbaV0uZHVlRGF0ZSk7XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNlZGl0LXRhc2stcHJpb3JpdHktJHtpfWApXHJcbiAgICAgICAgLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBwcm9qZWN0VGFza3NbaV0ucHJpb3JpdHkpO1xyXG5cclxuICAgICAgZGVsZXRlVGFzayhwcm9qZWN0VGFza3MsXHJcbiAgICAgICAgdGFza1Byb2plY3QsXHJcbiAgICAgICAgaSxcclxuICAgICAgICBUQVNLU19MSVNULFxyXG4gICAgICAgIHRhc2tDcmVhdGlvbi5yZW5kZXJUYXNrKTtcclxuXHJcbiAgICAgIGVkaXRUYXNrKHByb2plY3RUYXNrcyxcclxuICAgICAgICB0YXNrUHJvamVjdCxcclxuICAgICAgICBpLFxyXG4gICAgICAgIFRBU0tTX0xJU1QsXHJcbiAgICAgICAgdGFza0NyZWF0aW9uLnJlbmRlclRhc2spO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIGNyZWF0ZSB0YXNrIGFuZCBkaXNwbGF5IGl0IG9uIHRoZSBVSVxyXG4gIGNvbnN0IGNyZWF0ZU5ld1Rhc2sgPSAodGFza3NBcnIpID0+IHtcclxuICAgIGNvbnN0IFRBU0tTX0ZPUk0gPSB0YXNrRm9ybSgpO1xyXG4gICAgY29uc3QgVEFTS19CVE4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGFzay1idG4nKTtcclxuICAgIFRBU0tfQlROLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBUQVNLX05BTUUgPSBUQVNLU19GT1JNLnF1ZXJ5U2VsZWN0b3IoJyN0YXNrLW5hbWUnKS52YWx1ZTtcclxuICAgICAgY29uc3QgVEFTS19ERVNDUklQVElPTiA9IFRBU0tTX0ZPUk1cclxuICAgICAgICAucXVlcnlTZWxlY3RvcignI3Rhc2stZGVzY3JpcHRpb24nKVxyXG4gICAgICAgIC52YWx1ZTtcclxuICAgICAgY29uc3QgVEFTS19EQVRFID0gVEFTS1NfRk9STS5xdWVyeVNlbGVjdG9yKCcjdGFzay1kYXRlJykudmFsdWU7XHJcbiAgICAgIGNvbnN0IFRBU0tfUFJJT1JJVFkgPSBUQVNLU19GT1JNLnF1ZXJ5U2VsZWN0b3IoJyN0YXNrLXByaW9yaXR5JykudmFsdWU7XHJcbiAgICAgIGNvbnN0IFRBU0tfUFJPSkVDVCA9IFRBU0tTX0ZPUk0ucXVlcnlTZWxlY3RvcignI3Rhc2stcHJvamVjdCcpLnZhbHVlO1xyXG5cclxuICAgICAgaWYgKFRBU0tfTkFNRSA9PT0gJycpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgaWYgKFRBU0tfREVTQ1JJUFRJT04gPT09ICcnKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChUQVNLX0RBVEUgPT09ICcnKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChUQVNLX1BSSU9SSVRZID09PSAnJykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gY3JlYXRlIG5ldyB0YXNrIGluc3RhbmNlXHJcbiAgICAgIFRhc2submV3VGFzayh0YXNrc0FycixcclxuICAgICAgICBUQVNLX05BTUUsXHJcbiAgICAgICAgVEFTS19ERVNDUklQVElPTixcclxuICAgICAgICBUQVNLX0RBVEUsXHJcbiAgICAgICAgVEFTS19QUklPUklUWSxcclxuICAgICAgICBUQVNLX1BST0pFQ1QpO1xyXG5cclxuICAgICAgLy8gcmVuZGVyIHRhc2sgdG8gdGhlIFVJXHJcbiAgICAgIHJlbmRlclRhc2soVEFTS19QUk9KRUNULCB0YXNrc0Fycik7XHJcblxyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGFza3MtZm9ybScpLnJlc2V0KCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgY3JlYXRlTmV3VGFzaywgcmVuZGVyVGFzayxcclxuICB9O1xyXG59KSgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgeyB0YXNrQ3JlYXRpb24gfTsiLCIvLyBNZXRob2QgaW1wb3J0c1xyXG5pbXBvcnQgeyBwcm9qZWN0Q3JlYXRpb24gfSBmcm9tICcuL3Byb2plY3REb20nO1xyXG5pbXBvcnQgeyB0YXNrQ3JlYXRpb24gfSBmcm9tICcuL3Rhc2tEb20nO1xyXG5cclxuLy8gT2JqZWN0J3MgYXJyYXlzXHJcbmNvbnN0IHByb2plY3RzID0gW107XHJcblxyXG5jb25zdCB0YXNrcyA9IFtcclxuICB7XHJcbiAgICB0aXRsZTogJ1Rhc2sgMScsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0Rlc2NyaXB0aW9uIDEnLFxyXG4gICAgZHVlRGF0ZTogJzIwMjEtMDYtMTAnLFxyXG4gICAgcHJpb3JpdHk6ICdsb3cnLFxyXG4gICAgcHJvamVjdDogJ1Byb2plY3QgMScsXHJcbiAgICBleGlzdHM6IHRydWUsXHJcbiAgfSxcclxuICB7XHJcbiAgICB0aXRsZTogJ1Rhc2sgMicsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0Rlc2NyaXB0aW9uIDInLFxyXG4gICAgZHVlRGF0ZTogJzIwMjEtMDYtMTAnLFxyXG4gICAgcHJpb3JpdHk6ICdtZWRpdW0nLFxyXG4gICAgcHJvamVjdDogJ1Byb2plY3QgMicsXHJcbiAgICBleGlzdHM6IHRydWUsXHJcbiAgfSxcclxuICB7XHJcbiAgICB0aXRsZTogJ1Rhc2sgMycsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0Rlc2NyaXB0aW9uIDMnLFxyXG4gICAgZHVlRGF0ZTogJzIwMjEtMDYtMTAnLFxyXG4gICAgcHJpb3JpdHk6ICdoaWdoJyxcclxuICAgIHByb2plY3Q6ICdQcm9qZWN0IDMnLFxyXG4gICAgZXhpc3RzOiB0cnVlLFxyXG4gIH0sXHJcbl07XHJcblxyXG4vLyBDbGFzcyBDb25zdHJ1Y3RvclxyXG5cclxuZXhwb3J0IGNsYXNzIFRhc2sge1xyXG4gIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIHByb2plY3QgPSAnZGVmYXVsdCcpIHtcclxuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcclxuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcclxuICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XHJcbiAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XHJcbiAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xyXG4gICAgdGhpcy5leGlzdHMgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8gY3JlYXRlIHRhc2sgb2JqZWN0XHJcbiAgc3RhdGljIG5ld1Rhc2sodGFza3NBcnIsIG5hbWUsIGRlc2NyaXB0aW9uLCBkYXRlLCBwcmlvcml0eSwgcHJvamVjdCkge1xyXG4gICAgY29uc3QgbmV3VGFzayA9IG5ldyBUYXNrKG5hbWUsIGRlc2NyaXB0aW9uLCBkYXRlLCBwcmlvcml0eSwgcHJvamVjdCk7XHJcbiAgICB0YXNrc0Fyci5wdXNoKG5ld1Rhc2spO1xyXG4gIH07XHJcblxyXG4gIC8vIFVJIGNvbG9yIGxvZ2ljXHJcbiAgc3RhdGljIGdldENvbG9yKGFyciwgaSkge1xyXG4gICAgbGV0IGNvbG9yO1xyXG4gICAgaWYgKGFycltpXS5wcmlvcml0eSA9PT0gJ2xvdycpIHtcclxuICAgICAgY29sb3IgPSAnc3VjY2Vzcyc7XHJcbiAgICB9IGVsc2UgaWYgKGFycltpXS5wcmlvcml0eSA9PT0gJ21lZGl1bScpIHtcclxuICAgICAgY29sb3IgPSAnaW5mbyc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb2xvciA9ICdkYW5nZXInO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbG9yO1xyXG4gIH07XHJcblxyXG4gIC8vIGJ1dHRvbiBsb2dpYyBmb3IgdGFza3MgZWRpdC9kZWxldGVcclxuICBzdGF0aWMgYnV0dG9uQ29sb3IoY29sb3IpIHtcclxuICAgIGxldCBidG5FZGl0O1xyXG4gICAgbGV0IGJ0bkRlbGV0ZTtcclxuICAgIGlmIChjb2xvciA9PT0gJ3N1Y2Nlc3MnIHx8IGNvbG9yID09PSAnaW5mbycpIHtcclxuICAgICAgYnRuRWRpdCA9ICd3YXJuaW5nJztcclxuICAgICAgYnRuRGVsZXRlID0gJ2Rhbmdlcic7XHJcbiAgICB9XHJcbiAgICBpZiAoY29sb3IgPT09ICdkYW5nZXInKSB7XHJcbiAgICAgIGJ0bkVkaXQgPSAncHJpbWFyeSc7XHJcbiAgICAgIGJ0bkRlbGV0ZSA9ICd3YXJuaW5nJztcclxuICAgIH1cclxuICAgIHJldHVybiBbYnRuRWRpdCwgYnRuRGVsZXRlXTtcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUHJvamVjdCB7XHJcbiAgY29uc3RydWN0b3IodGl0bGUpIHtcclxuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBuZXdQcm9qZWN0KHByb2plY3RUaXRsZSwgcHJvamVjdEFycikge1xyXG4gICAgY29uc3QgTkVXX1BST0pFQ1QgPSBuZXcgUHJvamVjdChwcm9qZWN0VGl0bGUpO1xyXG4gICAgcHJvamVjdEFyci5wdXNoKE5FV19QUk9KRUNUKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIENhbGwgb2YgcHJvamVjdCdzIGZ1bmN0aW9uIHdpdGggYXR0YWNoZWQgZXZlbnQgbGlzdGVuZXJzXHJcbnByb2plY3RDcmVhdGlvbi5hZGRQcm9qZWN0KHByb2plY3RzKTtcclxucHJvamVjdENyZWF0aW9uLmRpc3BsYXlQcm9qZWN0VGFza3ModGFza3MpO1xyXG5cclxuLy8gQ2FsbCB0YXNrcyBmdW5jdGlvbnMgd2l0aCBhdHRhY2hlZCBldmVudCBsaXN0ZW5lcnNcclxudGFza0NyZWF0aW9uLmNyZWF0ZU5ld1Rhc2sodGFza3MsIFRhc2spO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9