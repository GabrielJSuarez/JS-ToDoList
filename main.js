(()=>{"use strict";var t={d:(e,s)=>{for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{i:()=>i});const e=(()=>{const t=()=>{const t=document.forms["project-form"];return t.addEventListener("submit",(t=>{t.preventDefault()})),t},e=(t,s)=>{const n=document.querySelector("#tasks-list");n.innerHTML="";const l=s.filter((t=>!0===t.exists)),o=document.querySelector("#add-task"),a=document.querySelector("#multiCollapseExample2");if("All Projects"===t){o.classList.add("d-none"),a.classList.add("d-none");for(let t=0;t<l.length;t+=1){const e=i.getColor(l,t);n.innerHTML+=`\n                    <li class="">\n                        <p>\n                            <button class="btn btn-${e} w-100" type="button" data-bs-toggle="collapse" data-bs-target="#task-${t}" aria-expanded="false" aria-controls="task-${t}">\n                                ${l[t].title}\n                            </button>\n                        </p>\n                        \n                        <div class="collapse" id="task-${t}">\n                            <div class="card card-body bg-${e} mb-4">\n                                <ul class="list-group">\n                                    <li class="list-group-item bg-${e} text-white"><span class="fw-bold">Description</span>: ${l[t].description}</li>\n                                    <li class="list-group-item bg-${e} text-white"><span class="fw-bold">Due Date</span>: ${l[t].dueDate}</li>\n                                    <li class="list-group-item bg-${e} text-white"><span class="fw-bold">Priority</span>: ${l[t].priority}</li>\n                                </ul>\n                            </div>\n                        </div>\n                    </li>\n                `}}else{o.classList.remove("d-none"),a.classList.remove("d-none");const l=s.filter((e=>e.project===t&&!0===e.exists));for(let s=0;s<l.length;s+=1){const o=i.getColor(l,s);n.innerHTML+=`\n                    <li class="">\n                        <p>\n                            <button class="btn btn-${o} w-100" type="button" data-bs-toggle="collapse" data-bs-target="#task-${s}" aria-expanded="false" aria-controls="task-${s}">\n                                ${l[s].title}\n                            </button>\n                        </p>\n                        \n                        <div class="collapse" id="task-${s}">\n                            <div class="card card-body bg-${o} mb-4">\n                                <ul class="list-group ">\n                                    <li class="list-group-item bg-${o} text-white"><span class="fw-bold">Description</span>: ${l[s].description}</li>\n                                    <li class="list-group-item bg-${o} text-white"><span class="fw-bold">Due Date</span>: ${l[s].dueDate}</li>\n                                    <li class="list-group-item bg-${o} text-white"><span class="fw-bold">Priority</span>: ${l[s].priority}</li>\n                                </ul>\n                                \n                                <div class="d-flex mt-3">\n                                    <button type="button" class="btn btn-outline-dark mx-3">Edit</button>\n                                    <button id="delete-task" type="button" class="btn btn-outline-warning">Delete</button>\n                                </div>\n                                \n                            </div>\n                        </div>\n                    </li>\n                `,document.querySelector("#delete-task").onclick=()=>{l[s].exists=!1,e(t,l)}}}};return{addProject:(e,s)=>{document.querySelector("#project-btn").addEventListener("click",(()=>{t(),((t,e,s)=>{const n=e().querySelector("#project-title").value;if(""===n)return;const i=new s(n);t.push(i)})(e,t,s),(t=>{const e=document.querySelector("#project-list");e.innerHTML='\n            <li class="list-group-item list-group-item-dark btn my-1" id="project-list">All Projects</li>\n        ';for(let s=0;s<t.length;s+=1)e.innerHTML+=`\n                <li class="list-group-item list-group-item-dark btn my-1" id="project-list">${t[s].title}</li>\n            `})(e),document.querySelector("#project-form").reset()}))},displayProjectTasks:(t,s)=>{const n=document.querySelector("#project-list");n.addEventListener("click",(i=>{const l=i.target.textContent;((t,e)=>{const s=t.target;[...e.children].forEach((t=>{t.classList.remove("active")})),s.classList.add("active"),document.querySelector("#task-display").classList.remove("d-none")})(i,n),(t=>{const e=document.querySelector("#project");e.innerHTML="",e.innerHTML+=`\n        <input type="hidden" value="${t}" id="task-project" class="form-control" aria-label="Default select example">\n    `})(l),e(l,t,s)}))}}})(),s=(()=>{const t=(t,e,s,i)=>{i.addEventListener("click",(i=>{i.target.id===`delete-btn-${s}`&&(t[s].exists=!1,n(e,t))}))},e=(t,e,s,i)=>{i.addEventListener("click",(i=>{if(i.target.id===`edit-btn-${s}`){const i=document.querySelector(`#edit-task-name-${s}`).value,l=document.querySelector(`#edit-task-description-${s}`).value,o=document.querySelector(`#edit-task-date-${s}`).value,a=document.querySelector(`#edit-task-priority-${s}`).value;if(""===i)return;if(""===l)return;if(""===o)return;if(""===a)return;t[s].title=i,t[s].description=l,t[s].dueDate=o,t[s].priority=a,n(e,t)}}))},n=(n,l)=>{const o=document.querySelector("#tasks-list");o.innerHTML="";const a=l.filter((t=>t.project===n&&!0===t.exists));for(let l=0;l<a.length;l+=1){const r=i.getColor(a,l);o.innerHTML+=`\n            <li>\n                <p>\n                    <button class="btn btn-${r} w-100" type="button" data-bs-toggle="collapse" data-bs-target="#task-${l}" aria-expanded="false" aria-controls="task-${l}">\n                        ${a[l].title}\n                    </button>\n                </p>\n                    \n                <div class="collapse" id="task-${l}">\n                    <div class="card card-body bg-${r} mb-4">\n                        <ul class="list-group ">\n                            <li class="list-group-item bg-${r} text-white"><span class="fw-bold">Description</span>: ${a[l].description}</li>\n                            <li class="list-group-item bg-${r} text-white"><span class="fw-bold">Due Date</span>: ${a[l].dueDate}</li>\n                            <li class="list-group-item bg-${r} text-white"><span class="fw-bold">Priority</span>: ${a[l].priority}</li>\n                        </ul>\n                    \n                        <div class="d-flex mt-3 justify-content-between">\n                            <div>\n                                <p>\n                                    <button class="btn btn-${i.buttonColor(r)[0]}" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample-${l}" aria-expanded="false" aria-controls="collapseExample-${l}">\n                                        Edit\n                                    </button>\n\n                                    <button id="delete-btn-${l}" type="button" class="btn btn-${i.buttonColor(r)[1]}">Delete</button>\n                                </p>\n\n                                <div class="collapse multi-collapse" id="collapseExample-${l}">\n                                    <form id="edit-tasks-form">\n                                        <div class="mb-3">\n                                            <label for="edit-task-name" class="form-label text-info">Task Title</label>\n                                            <input type="text" class="form-control" id="edit-task-name-${l}">\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-description" class="form-label text-info">Task Description</label>\n                                            <input type="text" class="form-control" id="edit-task-description-${l}">\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-date" class="form-label text-info">Due Date</label>\n                                            <br>\n                                            <input type="date" id="edit-task-date-${l}" name="trip-start">\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-priority" class="form-label text-info">Priority</label>\n                                            <select id="edit-task-priority-${l}" class="form-select" aria-label="Default select example">\n                                                <option selected>Select Priority</option>\n                                                <option value="low">Low</option>\n                                                <option value="medium">Medium</option>\n                                                <option value="high">High</option>\n                                            </select>\n                                        </div>\n                                        <div>\n                                            <button id="edit-btn-${l}" type="submit" class="btn btn-secondary">Edit Task</button>\n                                        </div\n                                    </form>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </li>\n            `,document.querySelector(`#edit-task-name-${l}`).setAttribute("value",a[l].title),document.querySelector(`#edit-task-description-${l}`).setAttribute("value",a[l].description),document.querySelector(`#edit-task-date-${l}`).setAttribute("value",a[l].dueDate),document.querySelector(`#edit-task-priority-${l}`).setAttribute("value",a[l].priority),t(a,n,l,o,s.renderTask),e(a,n,l,o,s.renderTask)}};return{createNewTask:(t,e,s)=>{const i=e();document.querySelector("#task-btn").addEventListener("click",(()=>{const e=i.querySelector("#task-name").value,l=i.querySelector("#task-description").value,o=i.querySelector("#task-date").value,a=i.querySelector("#task-priority").value,r=i.querySelector("#task-project").value;""!==e&&""!==l&&""!==o&&""!==a&&(((t,e,s,n,i,l,o)=>{const a=new e(s,n,i,l,o);t.push(a)})(t,s,e,l,o,a,r),n(r,t),document.querySelector("#tasks-form").reset())}))},renderTask:n}})(),n=[{title:"Task 1",description:"Description 1",dueDate:"2021-06-10",priority:"low",project:"Project 1",exists:!0},{title:"Task 2",description:"Description 2",dueDate:"2021-06-10",priority:"medium",project:"Project 2",exists:!0},{title:"Task 3",description:"Description 3",dueDate:"2021-06-10",priority:"high",project:"Project 3",exists:!0}];class i{constructor(t,e,s,n,i="default"){this.title=t,this.description=e,this.dueDate=s,this.priority=n,this.project=i,this.exists=!0}static getColor(t,e){let s;return s="low"===t[e].priority?"success":"medium"===t[e].priority?"info":"danger",s}static buttonColor(t){let e,s;return"success"!==t&&"info"!==t||(e="warning",s="danger"),"danger"===t&&(e="primary",s="warning"),[e,s]}}e.addProject([],class{constructor(t){this.title=t}}),e.displayProjectTasks(n),s.createNewTask(n,s.renderTask,i)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qcy10b2RvbGlzdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9qcy10b2RvbGlzdC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vanMtdG9kb2xpc3Qvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9qcy10b2RvbGlzdC8uL3NyYy9wcm9qZWN0RG9tLmpzIiwid2VicGFjazovL2pzLXRvZG9saXN0Ly4vc3JjL3Rhc2tEb20uanMiLCJ3ZWJwYWNrOi8vanMtdG9kb2xpc3QvLi9zcmMvbWFpbi5qcyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInByb2plY3RDcmVhdGlvbiIsInByb2plY3RGb3JtIiwiUFJPSkVDVF9GT1JNIiwiZG9jdW1lbnQiLCJmb3JtcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJyZW5kZXJUYXNrcyIsInByb2plY3ROYW1lIiwidGFza3NBcnIiLCJUQVNLX0xJU1QiLCJxdWVyeVNlbGVjdG9yIiwiaW5uZXJIVE1MIiwiYWxsVGFza3MiLCJmaWx0ZXIiLCJ0YXNrIiwiZXhpc3RzIiwiQUREX1RBU0tfQlROIiwiRk9STSIsImNsYXNzTGlzdCIsImFkZCIsImkiLCJsZW5ndGgiLCJjb2xvciIsIlRhc2siLCJnZXRDb2xvciIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwicHJpb3JpdHkiLCJyZW1vdmUiLCJwcm9qZWN0VGFza3MiLCJwcm9qZWN0Iiwib25jbGljayIsImFkZFByb2plY3QiLCJwcm9qZWN0QXJyIiwiUHJvamVjdCIsIlBST0pFQ1RfVElUTEUiLCJ2YWx1ZSIsIk5FV19QUk9KRUNUIiwicHVzaCIsImNyZWF0ZVByb2plY3QiLCJQUk9KRUNUX0xJU1QiLCJyZW5kZXJQcm9qZWN0VmlldyIsInJlc2V0IiwiZGlzcGxheVByb2plY3RUYXNrcyIsIlBST0pFQ1RfTkFNRSIsInRhcmdldCIsInRleHRDb250ZW50IiwiZXZlbnQiLCJwcm9qZWN0TGlzdCIsIlBST0pFQ1QiLCJjaGlsZHJlbiIsImZvckVhY2giLCJwcm9qZWN0U2VsZWN0aW9uIiwiVEFTS19QUk9KRUNUIiwidGFza09wdGlvbnMiLCJ0YXNrQ3JlYXRpb24iLCJkZWxldGVUYXNrIiwidGFza1Byb2plY3QiLCJUQVNLU19MSVNUIiwiaWQiLCJyZW5kZXJUYXNrIiwiZWRpdFRhc2siLCJFRElUX05BTUUiLCJFRElUX0RFU0MiLCJFRElUX0RBVEUiLCJFRElUX1BSSU9SIiwiYnV0dG9uQ29sb3IiLCJzZXRBdHRyaWJ1dGUiLCJjcmVhdGVOZXdUYXNrIiwidGFza0Zvcm0iLCJUQVNLU19GT1JNIiwiVEFTS19OQU1FIiwiVEFTS19ERVNDUklQVElPTiIsIlRBU0tfREFURSIsIlRBU0tfUFJJT1JJVFkiLCJuYW1lIiwiZGF0ZSIsIm5ld1Rhc2siLCJ0YXNrcyIsInRoaXMiLCJhcnIiLCJidG5FZGl0IiwiYnRuRGVsZXRlIl0sIm1hcHBpbmdzIjoibUJBQ0EsSUFBSUEsRUFBc0IsQ0NBMUIsRUFBd0IsQ0FBQ0MsRUFBU0MsS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYRixFQUFvQkksRUFBRUYsRUFBWUMsS0FBU0gsRUFBb0JJLEVBQUVILEVBQVNFLElBQzVFRSxPQUFPQyxlQUFlTCxFQUFTRSxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsTUNKM0UsRUFBd0IsQ0FBQ00sRUFBS0MsSUFBVUwsT0FBT00sVUFBVUMsZUFBZUMsS0FBS0osRUFBS0MsSSxrQkNHM0UsTUFBTUksRUFBa0IsTUFDN0IsTUFBTUMsRUFBYyxLQUVsQixNQUFNQyxFQUFlQyxTQUFTQyxNQUFNLGdCQU1wQyxPQUpBRixFQUFhRyxpQkFBaUIsVUFBV0MsSUFDdkNBLEVBQUVDLG9CQUdHTCxHQWtESE0sRUFBYyxDQUFDQyxFQUFhQyxLQUNoQyxNQUFNQyxFQUFZUixTQUFTUyxjQUFjLGVBQ3pDRCxFQUFVRSxVQUFZLEdBQ3RCLE1BQU1DLEVBQVdKLEVBQVNLLFFBQU9DLElBQXdCLElBQWhCQSxFQUFLQyxTQUN4Q0MsRUFBZWYsU0FBU1MsY0FBYyxhQUN0Q08sRUFBT2hCLFNBQVNTLGNBQWMsMEJBRXBDLEdBQW9CLGlCQUFoQkgsRUFBZ0MsQ0FDbENTLEVBQWFFLFVBQVVDLElBQUksVUFDM0JGLEVBQUtDLFVBQVVDLElBQUksVUFDbkIsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUlSLEVBQVNTLE9BQVFELEdBQUssRUFBRyxDQUMzQyxNQUFNRSxFQUFRQyxFQUFLQyxTQUFTWixFQUFVUSxHQUV0Q1gsRUFBVUUsV0FBYSx3SEFHc0JXLDBFQUE4RUYsZ0RBQWdEQSx3Q0FDakpSLEVBQVNRLEdBQUdLLGdLQUlXTCxrRUFDR0Usd0lBRVFBLDJEQUErRFYsRUFBU1EsR0FBR00sdUZBQzNFSix3REFBNERWLEVBQVNRLEdBQUdPLG1GQUN4RUwsd0RBQTREVixFQUFTUSxHQUFHUSw2S0FPakksQ0FDTFosRUFBYUUsVUFBVVcsT0FBTyxVQUM5QlosRUFBS0MsVUFBVVcsT0FBTyxVQUN0QixNQUFNQyxFQUFldEIsRUFBU0ssUUFBT0MsR0FBUUEsRUFBS2lCLFVBQVl4QixJQUN2QyxJQUFoQk8sRUFBS0MsU0FDWixJQUFLLElBQUlLLEVBQUksRUFBR0EsRUFBSVUsRUFBYVQsT0FBUUQsR0FBSyxFQUFHLENBQy9DLE1BQU1FLEVBQVFDLEVBQUtDLFNBQVNNLEVBQWNWLEdBRTFDWCxFQUFVRSxXQUFhLHdIQUdzQlcsMEVBQThFRixnREFBZ0RBLHdDQUNqSlUsRUFBYVYsR0FBR0ssZ0tBSU9MLGtFQUNHRSx5SUFFUUEsMkRBQStEUSxFQUFhVixHQUFHTSx1RkFDL0VKLHdEQUE0RFEsRUFBYVYsR0FBR08sbUZBQzVFTCx3REFBNERRLEVBQWFWLEdBQUdRLHNqQkFhekgzQixTQUFTUyxjQUFjLGdCQUMvQnNCLFFBQVUsS0FDZkYsRUFBYVYsR0FBR0wsUUFBUyxFQUN6QlQsRUFBWUMsRUFBYXVCLE9Bd0NqQyxNQUFPLENBQ0xHLFdBbENpQixDQUFDQyxFQUFZQyxLQUNWbEMsU0FBU1MsY0FBYyxnQkFFL0JQLGlCQUFpQixTQUFTLEtBRXBDSixJQWhJa0IsRUFBQ21DLEVBQVluQyxFQUFhb0MsS0FDOUMsTUFBTUMsRUFBZ0JyQyxJQUFjVyxjQUFjLGtCQUFrQjJCLE1BQ3BFLEdBQXNCLEtBQWxCRCxFQUNGLE9BR0YsTUFBTUUsRUFBYyxJQUFJSCxFQUFRQyxHQUNoQ0YsRUFBV0ssS0FBS0QsSUE0SGRFLENBQWNOLEVBQVluQyxFQUFhb0MsR0F6SGpCLENBQUNELElBQ3pCLE1BQU1PLEVBQWV4QyxTQUFTUyxjQUFjLGlCQUM1QytCLEVBQWE5QixVQUFZLHdIQUl6QixJQUFLLElBQUlTLEVBQUksRUFBR0EsRUFBSWMsRUFBV2IsT0FBUUQsR0FBSyxFQUMxQ3FCLEVBQWE5QixXQUFhLGlHQUM4RHVCLEVBQVdkLEdBQUdLLDRCQW9IdEdpQixDQUFrQlIsR0FHbEJqQyxTQUFTUyxjQUFjLGlCQUFpQmlDLFlBb0I5QkMsb0JBZmMsQ0FBQ3BDLEVBQVVnQixLQUNyQyxNQUFNaUIsRUFBZXhDLFNBQVNTLGNBQWMsaUJBRTVDK0IsRUFBYXRDLGlCQUFpQixTQUFVQyxJQUN0QyxNQUFNeUMsRUFBZXpDLEVBQUUwQyxPQUFPQyxZQWpIVCxFQUFDQyxFQUFPQyxLQUMvQixNQUFNQyxFQUFVRixFQUFNRixPQUVMLElBQUlHLEVBQVlFLFVBQ3hCQyxTQUFTckIsSUFDaEJBLEVBQVFiLFVBQVVXLE9BQU8sYUFHM0JxQixFQUFRaEMsVUFBVUMsSUFBSSxVQUNEbEIsU0FBU1MsY0FBYyxpQkFDL0JRLFVBQVVXLE9BQU8sV0F5RzVCd0IsQ0FBaUJqRCxFQUFHcUMsR0E1SEosQ0FBQ2xDLElBRW5CLE1BQU0rQyxFQUFlckQsU0FBU1MsY0FBYyxZQUM1QzRDLEVBQWEzQyxVQUFZLEdBQ3pCMkMsRUFBYTNDLFdBQWEseUNBQ1FKLHdGQXlIaENnRCxDQUFZVixHQUVadkMsRUFBWXVDLEVBQWNyQyxFQUFVZ0IsU0FyS1gsR0NBbEJnQyxFQUFlLE1BRTFCLE1BbUJNQyxFQUFhLENBQUMzQixFQUFjNEIsRUFBYXRDLEVBQUd1QyxLQUNoREEsRUFBV3hELGlCQUFpQixTQUFVQyxJQUNoQ0EsRUFBRTBDLE9BQU9jLEtBQU8sY0FBY3hDLE1BQ2hDVSxFQUFhVixHQUFHTCxRQUFTLEVBQ3pCOEMsRUFBV0gsRUFBYTVCLFFBS3hCZ0MsRUFBVyxDQUFDaEMsRUFBYzRCLEVBQWF0QyxFQUFHdUMsS0FDOUNBLEVBQVd4RCxpQkFBaUIsU0FBVUMsSUFDcEMsR0FBSUEsRUFBRTBDLE9BQU9jLEtBQU8sWUFBWXhDLElBQUssQ0FDbkMsTUFBTTJDLEVBQVk5RCxTQUFTUyxjQUFjLG1CQUFtQlUsS0FBS2lCLE1BQzNEMkIsRUFBWS9ELFNBQVNTLGNBQWMsMEJBQTBCVSxLQUFLaUIsTUFDbEU0QixFQUFZaEUsU0FBU1MsY0FBYyxtQkFBbUJVLEtBQUtpQixNQUMzRDZCLEVBQWFqRSxTQUFTUyxjQUFjLHVCQUF1QlUsS0FBS2lCLE1BRXRFLEdBQWtCLEtBQWQwQixFQUNGLE9BRUYsR0FBa0IsS0FBZEMsRUFDRixPQUVGLEdBQWtCLEtBQWRDLEVBQ0YsT0FFRixHQUFtQixLQUFmQyxFQUNGLE9BR0ZwQyxFQUFhVixHQUFHSyxNQUFRc0MsRUFDeEJqQyxFQUFhVixHQUFHTSxZQUFjc0MsRUFDOUJsQyxFQUFhVixHQUFHTyxRQUFVc0MsRUFDMUJuQyxFQUFhVixHQUFHUSxTQUFXc0MsRUFFM0JMLEVBQVdILEVBQWE1QixRQU14QitCLEVBQWEsQ0FBQ0gsRUFBYWxELEtBQy9CLE1BQU1tRCxFQUFhMUQsU0FBU1MsY0FBYyxlQUUxQ2lELEVBQVdoRCxVQUFZLEdBQ3ZCLE1BQU1tQixFQUFldEIsRUFBU0ssUUFBT0MsR0FBUUEsRUFBS2lCLFVBQVkyQixJQUN2QyxJQUFoQjVDLEVBQUtDLFNBRVosSUFBSyxJQUFJSyxFQUFJLEVBQUdBLEVBQUlVLEVBQWFULE9BQVFELEdBQUssRUFBRyxDQUMvQyxNQUFNRSxFQUFRQyxFQUFLQyxTQUFTTSxFQUFjVixHQUUxQ3VDLEVBQVdoRCxXQUFhLHVGQUdlVywwRUFBOEVGLGdEQUFnREEsZ0NBQ2pKVSxFQUFhVixHQUFHSyxvSUFJT0wsMERBQ0dFLHlIQUVRQSwyREFBK0RRLEVBQWFWLEdBQUdNLCtFQUMvRUosd0RBQTREUSxFQUFhVixHQUFHTywyRUFDNUVMLHdEQUE0RFEsRUFBYVYsR0FBR1EscVJBTTNFTCxFQUFLNEMsWUFBWTdDLEdBQU8sZ0ZBQWdGRiwyREFBMkRBLGtLQUluS0EsbUNBQW1DRyxFQUFLNEMsWUFBWTdDLEdBQU8seUpBRzdCRixxV0FJY0Esa1lBS09BLHlZQU01QkEsc1dBS1BBLGduQkFRVkEsNlZBVzdEbkIsU0FBU1MsY0FBYyxtQkFBbUJVLEtBQUtnRCxhQUFhLFFBQVN0QyxFQUFhVixHQUFHSyxPQUNyRnhCLFNBQVNTLGNBQWMsMEJBQTBCVSxLQUFLZ0QsYUFBYSxRQUFTdEMsRUFBYVYsR0FBR00sYUFDNUZ6QixTQUFTUyxjQUFjLG1CQUFtQlUsS0FBS2dELGFBQWEsUUFBU3RDLEVBQWFWLEdBQUdPLFNBQ3JGMUIsU0FBU1MsY0FBYyx1QkFBdUJVLEtBQzNDZ0QsYUFBYSxRQUFTdEMsRUFBYVYsR0FBR1EsVUFFekM2QixFQUFXM0IsRUFDVDRCLEVBQ0F0QyxFQUNBdUMsRUFDQUgsRUFBYUssWUFFZkMsRUFBU2hDLEVBQ1A0QixFQUNBdEMsRUFDQXVDLEVBQ0FILEVBQWFLLGNBOENuQixNQUFPLENBQ0xRLGNBMUNvQixDQUFDN0QsRUFBVThELEVBQVUvQyxLQUN6QyxNQUFNZ0QsRUFBYUQsSUFDRnJFLFNBQVNTLGNBQWMsYUFDL0JQLGlCQUFpQixTQUFTLEtBQ2pDLE1BQU1xRSxFQUFZRCxFQUFXN0QsY0FBYyxjQUFjMkIsTUFDbkRvQyxFQUFtQkYsRUFDdEI3RCxjQUFjLHFCQUNkMkIsTUFDR3FDLEVBQVlILEVBQVc3RCxjQUFjLGNBQWMyQixNQUNuRHNDLEVBQWdCSixFQUFXN0QsY0FBYyxrQkFBa0IyQixNQUMzRGlCLEVBQWVpQixFQUFXN0QsY0FBYyxpQkFBaUIyQixNQUU3QyxLQUFkbUMsR0FHcUIsS0FBckJDLEdBR2MsS0FBZEMsR0FHa0IsS0FBbEJDLElBcEtRLEVBQUNuRSxFQUFVZSxFQUFNcUQsRUFBTWxELEVBQWFtRCxFQUFNakQsRUFBVUcsS0FDbEUsTUFBTStDLEVBQVUsSUFBSXZELEVBQUtxRCxFQUFNbEQsRUFBYW1ELEVBQU1qRCxFQUFVRyxHQUM1RHZCLEVBQVMrQixLQUFLdUMsSUF1S1pBLENBQVF0RSxFQUNOZSxFQUNBaUQsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQXJCLEdBR0ZPLEVBQVdQLEVBQWM5QyxHQUV6QlAsU0FBU1MsY0FBYyxlQUFlaUMsYUFLekJrQixlQXhNUyxHQ0l0QmtCLEVBQVEsQ0FDWixDQUNFdEQsTUFBTyxTQUNQQyxZQUFhLGdCQUNiQyxRQUFTLGFBQ1RDLFNBQVUsTUFDVkcsUUFBUyxZQUNUaEIsUUFBUSxHQUVWLENBQ0VVLE1BQU8sU0FDUEMsWUFBYSxnQkFDYkMsUUFBUyxhQUNUQyxTQUFVLFNBQ1ZHLFFBQVMsWUFDVGhCLFFBQVEsR0FFVixDQUNFVSxNQUFPLFNBQ1BDLFlBQWEsZ0JBQ2JDLFFBQVMsYUFDVEMsU0FBVSxPQUNWRyxRQUFTLFlBQ1RoQixRQUFRLElBTUwsTUFBTVEsRUFDWCxZQUFZRSxFQUFPQyxFQUFhQyxFQUFTQyxFQUFVRyxFQUFVLFdBQzNEaUQsS0FBS3ZELE1BQVFBLEVBQ2J1RCxLQUFLdEQsWUFBY0EsRUFDbkJzRCxLQUFLckQsUUFBVUEsRUFDZnFELEtBQUtwRCxTQUFXQSxFQUNoQm9ELEtBQUtqRCxRQUFVQSxFQUNmaUQsS0FBS2pFLFFBQVMsRUFJaEIsZ0JBQWdCa0UsRUFBSzdELEdBQ25CLElBQUlFLEVBUUosT0FORUEsRUFEc0IsUUFBcEIyRCxFQUFJN0QsR0FBR1EsU0FDRCxVQUNxQixXQUFwQnFELEVBQUk3RCxHQUFHUSxTQUNSLE9BRUEsU0FFSE4sRUFJVCxtQkFBbUJBLEdBQ2pCLElBQUk0RCxFQUNBQyxFQVNKLE1BUmMsWUFBVjdELEdBQWlDLFNBQVZBLElBQ3pCNEQsRUFBVSxVQUNWQyxFQUFZLFVBRUEsV0FBVjdELElBQ0Y0RCxFQUFVLFVBQ1ZDLEVBQVksV0FFUCxDQUFDRCxFQUFTQyxJQVdyQnJGLEVBQWdCbUMsV0E3RUMsR0FzRWpCLE1BQ0UsWUFBWVIsR0FDVnVELEtBQUt2RCxNQUFRQSxLQU1qQjNCLEVBQWdCOEMsb0JBQW9CbUMsR0FHcEN2QixFQUFhYSxjQUFjVSxFQUFPdkIsRUFBYUssV0FBWXRDLEkiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiaW1wb3J0IHsgVGFzayB9IGZyb20gXCIuL21haW5cIjtcclxuXHJcbi8vIFByb2plY3QgQ3JlYXRpb24gTW9kdWxlIChJSUZFKTtcclxuZXhwb3J0IGNvbnN0IHByb2plY3RDcmVhdGlvbiA9ICgoKSA9PiB7XHJcbiAgY29uc3QgcHJvamVjdEZvcm0gPSAoKSA9PiB7XHJcbiAgICAvLyBwcmV2ZW50IGZvcm0gZGVmYXVsdCBiZWhhdmlvdXJcclxuICAgIGNvbnN0IFBST0pFQ1RfRk9STSA9IGRvY3VtZW50LmZvcm1zWydwcm9qZWN0LWZvcm0nXTtcclxuXHJcbiAgICBQUk9KRUNUX0ZPUk0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIFBST0pFQ1RfRk9STTtcclxuICB9XHJcblxyXG4gIC8vIFByb2plY3QgSGVscGVyIG1ldGhvZHNcclxuICBjb25zdCBjcmVhdGVQcm9qZWN0ID0gKHByb2plY3RBcnIsIHByb2plY3RGb3JtLCBQcm9qZWN0KSA9PiB7XHJcbiAgICBjb25zdCBQUk9KRUNUX1RJVExFID0gcHJvamVjdEZvcm0oKS5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdC10aXRsZScpLnZhbHVlO1xyXG4gICAgaWYgKFBST0pFQ1RfVElUTEUgPT09ICcnKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBORVdfUFJPSkVDVCA9IG5ldyBQcm9qZWN0KFBST0pFQ1RfVElUTEUpO1xyXG4gICAgcHJvamVjdEFyci5wdXNoKE5FV19QUk9KRUNUKTtcclxuICB9O1xyXG5cclxuICBjb25zdCByZW5kZXJQcm9qZWN0VmlldyA9IChwcm9qZWN0QXJyKSA9PiB7XHJcbiAgICBjb25zdCBQUk9KRUNUX0xJU1QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdC1saXN0Jyk7XHJcbiAgICBQUk9KRUNUX0xJU1QuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gbGlzdC1ncm91cC1pdGVtLWRhcmsgYnRuIG15LTFcIiBpZD1cInByb2plY3QtbGlzdFwiPkFsbCBQcm9qZWN0czwvbGk+XHJcbiAgICAgICAgYDtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2plY3RBcnIubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgUFJPSkVDVF9MSVNULmlubmVySFRNTCArPSBgXHJcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gbGlzdC1ncm91cC1pdGVtLWRhcmsgYnRuIG15LTFcIiBpZD1cInByb2plY3QtbGlzdFwiPiR7cHJvamVjdEFycltpXS50aXRsZX08L2xpPlxyXG4gICAgICAgICAgICBgO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIFByb2plY3QncyB0YXNrcyBIZWxwZXIgTWV0aG9kXHJcbiAgY29uc3QgdGFza09wdGlvbnMgPSAocHJvamVjdE5hbWUpID0+IHtcclxuICAgIC8vIENyZWF0ZSBzZWxlY3Rpb24gb24gdGFza3MgYmFzZWQgb24gb2JqZWN0c1xyXG4gICAgY29uc3QgVEFTS19QUk9KRUNUID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QnKTtcclxuICAgIFRBU0tfUFJPSkVDVC5pbm5lckhUTUwgPSAnJztcclxuICAgIFRBU0tfUFJPSkVDVC5pbm5lckhUTUwgKz0gYFxyXG4gICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgdmFsdWU9XCIke3Byb2plY3ROYW1lfVwiIGlkPVwidGFzay1wcm9qZWN0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBhcmlhLWxhYmVsPVwiRGVmYXVsdCBzZWxlY3QgZXhhbXBsZVwiPlxyXG4gICAgYDtcclxuICB9O1xyXG5cclxuICBjb25zdCBwcm9qZWN0U2VsZWN0aW9uID0gKGV2ZW50LCBwcm9qZWN0TGlzdCkgPT4ge1xyXG4gICAgY29uc3QgUFJPSkVDVCA9IGV2ZW50LnRhcmdldDtcclxuXHJcbiAgICBjb25zdCBjaGlsZHJlbiA9IFsuLi5wcm9qZWN0TGlzdC5jaGlsZHJlbl07XHJcbiAgICBjaGlsZHJlbi5mb3JFYWNoKChwcm9qZWN0KSA9PiB7XHJcbiAgICAgIHByb2plY3QuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBQUk9KRUNULmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgY29uc3QgVEFTS19ESVNQTEFZID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Rhc2stZGlzcGxheScpO1xyXG4gICAgVEFTS19ESVNQTEFZLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlbmRlclRhc2tzID0gKHByb2plY3ROYW1lLCB0YXNrc0FycikgPT4ge1xyXG4gICAgY29uc3QgVEFTS19MSVNUID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Rhc2tzLWxpc3QnKTtcclxuICAgIFRBU0tfTElTVC5pbm5lckhUTUwgPSAnJztcclxuICAgIGNvbnN0IGFsbFRhc2tzID0gdGFza3NBcnIuZmlsdGVyKHRhc2sgPT4gdGFzay5leGlzdHMgPT09IHRydWUpO1xyXG4gICAgY29uc3QgQUREX1RBU0tfQlROID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZC10YXNrJyk7XHJcbiAgICBjb25zdCBGT1JNID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI211bHRpQ29sbGFwc2VFeGFtcGxlMicpO1xyXG5cclxuICAgIGlmIChwcm9qZWN0TmFtZSA9PT0gJ0FsbCBQcm9qZWN0cycpIHtcclxuICAgICAgQUREX1RBU0tfQlROLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xyXG4gICAgICBGT1JNLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbFRhc2tzLmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAgICAgY29uc3QgY29sb3IgPSBUYXNrLmdldENvbG9yKGFsbFRhc2tzLCBpKTtcclxuICAgICAgICAvKiBlc2xpbnQgbWF4LWxlbjogW1wiZXJyb3JcIiwgeyBcImlnbm9yZVRlbXBsYXRlTGl0ZXJhbHNcIjogdHJ1ZSB9XSAqL1xyXG4gICAgICAgIFRBU0tfTElTVC5pbm5lckhUTUwgKz0gYFxyXG4gICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cIlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLSR7Y29sb3J9IHctMTAwXCIgdHlwZT1cImJ1dHRvblwiIGRhdGEtYnMtdG9nZ2xlPVwiY29sbGFwc2VcIiBkYXRhLWJzLXRhcmdldD1cIiN0YXNrLSR7aX1cIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIiBhcmlhLWNvbnRyb2xzPVwidGFzay0ke2l9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHthbGxUYXNrc1tpXS50aXRsZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sbGFwc2VcIiBpZD1cInRhc2stJHtpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQgY2FyZC1ib2R5IGJnLSR7Y29sb3J9IG1iLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJsaXN0LWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+RGVzY3JpcHRpb248L3NwYW4+OiAke2FsbFRhc2tzW2ldLmRlc2NyaXB0aW9ufTwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+RHVlIERhdGU8L3NwYW4+OiAke2FsbFRhc2tzW2ldLmR1ZURhdGV9PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5Qcmlvcml0eTwvc3Bhbj46ICR7YWxsVGFza3NbaV0ucHJpb3JpdHl9PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICBgO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBBRERfVEFTS19CVE4uY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XHJcbiAgICAgIEZPUk0uY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XHJcbiAgICAgIGNvbnN0IHByb2plY3RUYXNrcyA9IHRhc2tzQXJyLmZpbHRlcih0YXNrID0+IHRhc2sucHJvamVjdCA9PT0gcHJvamVjdE5hbWVcclxuICAgICAgICAgICYmIHRhc2suZXhpc3RzID09PSB0cnVlKTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9qZWN0VGFza3MubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgICBjb25zdCBjb2xvciA9IFRhc2suZ2V0Q29sb3IocHJvamVjdFRhc2tzLCBpKTtcclxuXHJcbiAgICAgICAgVEFTS19MSVNULmlubmVySFRNTCArPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwiXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tJHtjb2xvcn0gdy0xMDBcIiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1icy10b2dnbGU9XCJjb2xsYXBzZVwiIGRhdGEtYnMtdGFyZ2V0PVwiI3Rhc2stJHtpfVwiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiIGFyaWEtY29udHJvbHM9XCJ0YXNrLSR7aX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3Byb2plY3RUYXNrc1tpXS50aXRsZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sbGFwc2VcIiBpZD1cInRhc2stJHtpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQgY2FyZC1ib2R5IGJnLSR7Y29sb3J9IG1iLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJsaXN0LWdyb3VwIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gYmctJHtjb2xvcn0gdGV4dC13aGl0ZVwiPjxzcGFuIGNsYXNzPVwiZnctYm9sZFwiPkRlc2NyaXB0aW9uPC9zcGFuPjogJHtwcm9qZWN0VGFza3NbaV0uZGVzY3JpcHRpb259PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5EdWUgRGF0ZTwvc3Bhbj46ICR7cHJvamVjdFRhc2tzW2ldLmR1ZURhdGV9PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5Qcmlvcml0eTwvc3Bhbj46ICR7cHJvamVjdFRhc2tzW2ldLnByaW9yaXR5fTwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IG10LTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtZGFyayBteC0zXCI+RWRpdDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiZGVsZXRlLXRhc2tcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtd2FybmluZ1wiPkRlbGV0ZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICBgO1xyXG5cclxuICAgICAgICBjb25zdCBERUxFVEUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGVsZXRlLXRhc2snKTtcclxuICAgICAgICBERUxFVEUub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgIHByb2plY3RUYXNrc1tpXS5leGlzdHMgPSBmYWxzZTtcclxuICAgICAgICAgIHJlbmRlclRhc2tzKHByb2plY3ROYW1lLCBwcm9qZWN0VGFza3MpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBDcmVhdGUgYW5kIGRpc3BsYXkgcHJvamVjdCBpbiB0aGUgVUlcclxuICBjb25zdCBhZGRQcm9qZWN0ID0gKHByb2plY3RBcnIsIFByb2plY3QpID0+IHtcclxuICAgIGNvbnN0IFBST0pFQ1RfQlROID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QtYnRuJyk7XHJcblxyXG4gICAgUFJPSkVDVF9CVE4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIC8vUHJldmVudCBkZWZhdWx0XHJcbiAgICAgIHByb2plY3RGb3JtKCk7XHJcblxyXG4gICAgICAvLyBjcmVhdGUgbmV3IHByb2plY3RcclxuICAgICAgY3JlYXRlUHJvamVjdChwcm9qZWN0QXJyLCBwcm9qZWN0Rm9ybSwgUHJvamVjdCk7XHJcblxyXG4gICAgICAvLyBSZW5kZXIgcHJvamVjdHMgaW4gdmlld3NcclxuICAgICAgcmVuZGVyUHJvamVjdFZpZXcocHJvamVjdEFycik7XHJcblxyXG4gICAgICAvLyByZXNldCBwcm9qZWN0IGZvcm1cclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QtZm9ybScpLnJlc2V0KCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvLyBEaXNwbGF5IHRoZSBwcm9qZWN0J3Mgc3BlY2lmaWMgdGFza3MgaW4gdGhlIFVJXHJcbiAgY29uc3QgZGlzcGxheVByb2plY3RUYXNrcyA9ICh0YXNrc0FyciwgZ2V0Q29sb3IpID0+IHtcclxuICAgIGNvbnN0IFBST0pFQ1RfTElTVCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9qZWN0LWxpc3QnKTtcclxuXHJcbiAgICBQUk9KRUNUX0xJU1QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICBjb25zdCBQUk9KRUNUX05BTUUgPSBlLnRhcmdldC50ZXh0Q29udGVudDtcclxuXHJcbiAgICAgIHByb2plY3RTZWxlY3Rpb24oZSwgUFJPSkVDVF9MSVNUKTtcclxuXHJcbiAgICAgIHRhc2tPcHRpb25zKFBST0pFQ1RfTkFNRSk7XHJcblxyXG4gICAgICByZW5kZXJUYXNrcyhQUk9KRUNUX05BTUUsIHRhc2tzQXJyLCBnZXRDb2xvcik7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgYWRkUHJvamVjdCwgZGlzcGxheVByb2plY3RUYXNrc1xyXG4gIH07XHJcbn0pKCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7IHByb2plY3RDcmVhdGlvbiB9OyIsImltcG9ydCB7IFRhc2sgfSBmcm9tIFwiLi9tYWluXCI7XHJcblxyXG4vLyBUYXNrIENyZWF0aW9uIE1vZHVsZSAoSUlGRSk7XHJcbmV4cG9ydCBjb25zdCB0YXNrQ3JlYXRpb24gPSAoKCkgPT4ge1xyXG4gIC8vIFRhc2sgRm9ybVxyXG4gIGNvbnN0IHRhc2tGb3JtID0gKCkgPT4ge1xyXG4gICAgLy8gVGFza3MgRm9ybSBJbmZvcm1hdGlvblxyXG4gICAgY29uc3QgVEFTS1NfRk9STSA9IGRvY3VtZW50LmZvcm1zWyd0YXNrcy1mb3JtJ107XHJcblxyXG4vLyBwcmV2ZW50IGZvcm0gZGVmYXVsdCBiZWhhdmlvdXJcclxuICAgIFRBU0tTX0ZPUk0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIFRBU0tTX0ZPUk07XHJcbiAgfVxyXG5cclxuICAvLyBjcmVhdGUgdGFzayBvYmplY3RcclxuICBjb25zdCBuZXdUYXNrID0gKHRhc2tzQXJyLCBUYXNrLCBuYW1lLCBkZXNjcmlwdGlvbiwgZGF0ZSwgcHJpb3JpdHksIHByb2plY3QpID0+IHtcclxuICAgIGNvbnN0IG5ld1Rhc2sgPSBuZXcgVGFzayhuYW1lLCBkZXNjcmlwdGlvbiwgZGF0ZSwgcHJpb3JpdHksIHByb2plY3QpO1xyXG4gICAgdGFza3NBcnIucHVzaChuZXdUYXNrKTtcclxuICB9O1xyXG5cclxuICAvLyBFZGl0L0RlbGV0ZSBUYXNrcyBtZXRob2RzXHJcbiAgY29uc3QgZGVsZXRlVGFzayA9IChwcm9qZWN0VGFza3MsIHRhc2tQcm9qZWN0LCBpLCBUQVNLU19MSVNUKSA9PiB7XHJcbiAgICBUQVNLU19MSVNULmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgaWYgKGUudGFyZ2V0LmlkID09PSBgZGVsZXRlLWJ0bi0ke2l9YCkge1xyXG4gICAgICAgIHByb2plY3RUYXNrc1tpXS5leGlzdHMgPSBmYWxzZTtcclxuICAgICAgICByZW5kZXJUYXNrKHRhc2tQcm9qZWN0LCBwcm9qZWN0VGFza3MpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGVkaXRUYXNrID0gKHByb2plY3RUYXNrcywgdGFza1Byb2plY3QsIGksIFRBU0tTX0xJU1QpID0+e1xyXG4gICAgVEFTS1NfTElTVC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgIGlmIChlLnRhcmdldC5pZCA9PT0gYGVkaXQtYnRuLSR7aX1gKSB7XHJcbiAgICAgICAgY29uc3QgRURJVF9OQU1FID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2VkaXQtdGFzay1uYW1lLSR7aX1gKS52YWx1ZTtcclxuICAgICAgICBjb25zdCBFRElUX0RFU0MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLWRlc2NyaXB0aW9uLSR7aX1gKS52YWx1ZTtcclxuICAgICAgICBjb25zdCBFRElUX0RBVEUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLWRhdGUtJHtpfWApLnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IEVESVRfUFJJT1IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLXByaW9yaXR5LSR7aX1gKS52YWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKEVESVRfTkFNRSA9PT0gJycpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEVESVRfREVTQyA9PT0gJycpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEVESVRfREFURSA9PT0gJycpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEVESVRfUFJJT1IgPT09ICcnKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm9qZWN0VGFza3NbaV0udGl0bGUgPSBFRElUX05BTUU7XHJcbiAgICAgICAgcHJvamVjdFRhc2tzW2ldLmRlc2NyaXB0aW9uID0gRURJVF9ERVNDO1xyXG4gICAgICAgIHByb2plY3RUYXNrc1tpXS5kdWVEYXRlID0gRURJVF9EQVRFO1xyXG4gICAgICAgIHByb2plY3RUYXNrc1tpXS5wcmlvcml0eSA9IEVESVRfUFJJT1I7XHJcblxyXG4gICAgICAgIHJlbmRlclRhc2sodGFza1Byb2plY3QsIHByb2plY3RUYXNrcyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gcmVuZGVyIHRhc2tzIGluIHRoZSBVSVxyXG4gIGNvbnN0IHJlbmRlclRhc2sgPSAodGFza1Byb2plY3QsIHRhc2tzQXJyKSA9PiB7XHJcbiAgICBjb25zdCBUQVNLU19MSVNUID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Rhc2tzLWxpc3QnKTtcclxuXHJcbiAgICBUQVNLU19MSVNULmlubmVySFRNTCA9ICcnO1xyXG4gICAgY29uc3QgcHJvamVjdFRhc2tzID0gdGFza3NBcnIuZmlsdGVyKHRhc2sgPT4gdGFzay5wcm9qZWN0ID09PSB0YXNrUHJvamVjdFxyXG4gICAgICAgICYmIHRhc2suZXhpc3RzID09PSB0cnVlKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2plY3RUYXNrcy5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICBjb25zdCBjb2xvciA9IFRhc2suZ2V0Q29sb3IocHJvamVjdFRhc2tzLCBpKTtcclxuICAgICAgLyogZXNsaW50IG1heC1sZW46IFtcImVycm9yXCIsIHsgXCJpZ25vcmVUZW1wbGF0ZUxpdGVyYWxzXCI6IHRydWUgfV0gKi9cclxuICAgICAgVEFTS1NfTElTVC5pbm5lckhUTUwgKz0gYFxyXG4gICAgICAgICAgICA8bGk+XHJcbiAgICAgICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi0ke2NvbG9yfSB3LTEwMFwiIHR5cGU9XCJidXR0b25cIiBkYXRhLWJzLXRvZ2dsZT1cImNvbGxhcHNlXCIgZGF0YS1icy10YXJnZXQ9XCIjdGFzay0ke2l9XCIgYXJpYS1leHBhbmRlZD1cImZhbHNlXCIgYXJpYS1jb250cm9scz1cInRhc2stJHtpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAke3Byb2plY3RUYXNrc1tpXS50aXRsZX1cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2xsYXBzZVwiIGlkPVwidGFzay0ke2l9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQgY2FyZC1ib2R5IGJnLSR7Y29sb3J9IG1iLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwibGlzdC1ncm91cCBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+RGVzY3JpcHRpb248L3NwYW4+OiAke3Byb2plY3RUYXNrc1tpXS5kZXNjcmlwdGlvbn08L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5EdWUgRGF0ZTwvc3Bhbj46ICR7cHJvamVjdFRhc2tzW2ldLmR1ZURhdGV9PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+UHJpb3JpdHk8L3NwYW4+OiAke3Byb2plY3RUYXNrc1tpXS5wcmlvcml0eX08L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IG10LTMganVzdGlmeS1jb250ZW50LWJldHdlZW5cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLSR7VGFzay5idXR0b25Db2xvcihjb2xvcilbMF19XCIgdHlwZT1cImJ1dHRvblwiIGRhdGEtYnMtdG9nZ2xlPVwiY29sbGFwc2VcIiBkYXRhLWJzLXRhcmdldD1cIiNjb2xsYXBzZUV4YW1wbGUtJHtpfVwiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiIGFyaWEtY29udHJvbHM9XCJjb2xsYXBzZUV4YW1wbGUtJHtpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRWRpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJkZWxldGUtYnRuLSR7aX1cIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLSR7VGFzay5idXR0b25Db2xvcihjb2xvcilbMV19XCI+RGVsZXRlPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sbGFwc2UgbXVsdGktY29sbGFwc2VcIiBpZD1cImNvbGxhcHNlRXhhbXBsZS0ke2l9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmb3JtIGlkPVwiZWRpdC10YXNrcy1mb3JtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJlZGl0LXRhc2stbmFtZVwiIGNsYXNzPVwiZm9ybS1sYWJlbCB0ZXh0LWluZm9cIj5UYXNrIFRpdGxlPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwiZWRpdC10YXNrLW5hbWUtJHtpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZWRpdC10YXNrLWRlc2NyaXB0aW9uXCIgY2xhc3M9XCJmb3JtLWxhYmVsIHRleHQtaW5mb1wiPlRhc2sgRGVzY3JpcHRpb248L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJlZGl0LXRhc2stZGVzY3JpcHRpb24tJHtpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZWRpdC10YXNrLWRhdGVcIiBjbGFzcz1cImZvcm0tbGFiZWwgdGV4dC1pbmZvXCI+RHVlIERhdGU8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxicj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGVcIiBpZD1cImVkaXQtdGFzay1kYXRlLSR7aX1cIiBuYW1lPVwidHJpcC1zdGFydFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZWRpdC10YXNrLXByaW9yaXR5XCIgY2xhc3M9XCJmb3JtLWxhYmVsIHRleHQtaW5mb1wiPlByaW9yaXR5PC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPVwiZWRpdC10YXNrLXByaW9yaXR5LSR7aX1cIiBjbGFzcz1cImZvcm0tc2VsZWN0XCIgYXJpYS1sYWJlbD1cIkRlZmF1bHQgc2VsZWN0IGV4YW1wbGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBzZWxlY3RlZD5TZWxlY3QgUHJpb3JpdHk8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImxvd1wiPkxvdzwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibWVkaXVtXCI+TWVkaXVtPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJoaWdoXCI+SGlnaDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJlZGl0LWJ0bi0ke2l9XCIgdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiYnRuIGJ0bi1zZWNvbmRhcnlcIj5FZGl0IFRhc2s8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICBgO1xyXG5cclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2VkaXQtdGFzay1uYW1lLSR7aX1gKS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgcHJvamVjdFRhc2tzW2ldLnRpdGxlKTtcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2VkaXQtdGFzay1kZXNjcmlwdGlvbi0ke2l9YCkuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHByb2plY3RUYXNrc1tpXS5kZXNjcmlwdGlvbik7XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNlZGl0LXRhc2stZGF0ZS0ke2l9YCkuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHByb2plY3RUYXNrc1tpXS5kdWVEYXRlKTtcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2VkaXQtdGFzay1wcmlvcml0eS0ke2l9YClcclxuICAgICAgICAuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHByb2plY3RUYXNrc1tpXS5wcmlvcml0eSk7XHJcblxyXG4gICAgICBkZWxldGVUYXNrKHByb2plY3RUYXNrcyxcclxuICAgICAgICB0YXNrUHJvamVjdCxcclxuICAgICAgICBpLFxyXG4gICAgICAgIFRBU0tTX0xJU1QsXHJcbiAgICAgICAgdGFza0NyZWF0aW9uLnJlbmRlclRhc2spO1xyXG5cclxuICAgICAgZWRpdFRhc2socHJvamVjdFRhc2tzLFxyXG4gICAgICAgIHRhc2tQcm9qZWN0LFxyXG4gICAgICAgIGksXHJcbiAgICAgICAgVEFTS1NfTElTVCxcclxuICAgICAgICB0YXNrQ3JlYXRpb24ucmVuZGVyVGFzayk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gY3JlYXRlIHRhc2sgYW5kIGRpc3BsYXkgaXQgb24gdGhlIFVJXHJcbiAgY29uc3QgY3JlYXRlTmV3VGFzayA9ICh0YXNrc0FyciwgdGFza0Zvcm0sIFRhc2spID0+IHtcclxuICAgIGNvbnN0IFRBU0tTX0ZPUk0gPSB0YXNrRm9ybSgpO1xyXG4gICAgY29uc3QgVEFTS19CVE4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGFzay1idG4nKTtcclxuICAgIFRBU0tfQlROLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBUQVNLX05BTUUgPSBUQVNLU19GT1JNLnF1ZXJ5U2VsZWN0b3IoJyN0YXNrLW5hbWUnKS52YWx1ZTtcclxuICAgICAgY29uc3QgVEFTS19ERVNDUklQVElPTiA9IFRBU0tTX0ZPUk1cclxuICAgICAgICAucXVlcnlTZWxlY3RvcignI3Rhc2stZGVzY3JpcHRpb24nKVxyXG4gICAgICAgIC52YWx1ZTtcclxuICAgICAgY29uc3QgVEFTS19EQVRFID0gVEFTS1NfRk9STS5xdWVyeVNlbGVjdG9yKCcjdGFzay1kYXRlJykudmFsdWU7XHJcbiAgICAgIGNvbnN0IFRBU0tfUFJJT1JJVFkgPSBUQVNLU19GT1JNLnF1ZXJ5U2VsZWN0b3IoJyN0YXNrLXByaW9yaXR5JykudmFsdWU7XHJcbiAgICAgIGNvbnN0IFRBU0tfUFJPSkVDVCA9IFRBU0tTX0ZPUk0ucXVlcnlTZWxlY3RvcignI3Rhc2stcHJvamVjdCcpLnZhbHVlO1xyXG5cclxuICAgICAgaWYgKFRBU0tfTkFNRSA9PT0gJycpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgaWYgKFRBU0tfREVTQ1JJUFRJT04gPT09ICcnKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChUQVNLX0RBVEUgPT09ICcnKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChUQVNLX1BSSU9SSVRZID09PSAnJykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gY3JlYXRlIG5ldyB0YXNrIGluc3RhbmNlXHJcbiAgICAgIG5ld1Rhc2sodGFza3NBcnIsXHJcbiAgICAgICAgVGFzayxcclxuICAgICAgICBUQVNLX05BTUUsXHJcbiAgICAgICAgVEFTS19ERVNDUklQVElPTixcclxuICAgICAgICBUQVNLX0RBVEUsXHJcbiAgICAgICAgVEFTS19QUklPUklUWSxcclxuICAgICAgICBUQVNLX1BST0pFQ1QpO1xyXG5cclxuICAgICAgLy8gcmVuZGVyIHRhc2sgdG8gdGhlIFVJXHJcbiAgICAgIHJlbmRlclRhc2soVEFTS19QUk9KRUNULCB0YXNrc0Fycik7XHJcblxyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGFza3MtZm9ybScpLnJlc2V0KCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgY3JlYXRlTmV3VGFzaywgcmVuZGVyVGFzayxcclxuICB9O1xyXG59KSgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgeyB0YXNrQ3JlYXRpb24gfTsiLCIvLyBNZXRob2QgaW1wb3J0c1xyXG5pbXBvcnQgeyBwcm9qZWN0Q3JlYXRpb24gfSBmcm9tICcuL3Byb2plY3REb20nO1xyXG5pbXBvcnQgeyB0YXNrQ3JlYXRpb24gfSBmcm9tICcuL3Rhc2tEb20nO1xyXG5cclxuLy8gT2JqZWN0J3MgYXJyYXlzXHJcbmNvbnN0IHByb2plY3RzID0gW107XHJcblxyXG5jb25zdCB0YXNrcyA9IFtcclxuICB7XHJcbiAgICB0aXRsZTogJ1Rhc2sgMScsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0Rlc2NyaXB0aW9uIDEnLFxyXG4gICAgZHVlRGF0ZTogJzIwMjEtMDYtMTAnLFxyXG4gICAgcHJpb3JpdHk6ICdsb3cnLFxyXG4gICAgcHJvamVjdDogJ1Byb2plY3QgMScsXHJcbiAgICBleGlzdHM6IHRydWUsXHJcbiAgfSxcclxuICB7XHJcbiAgICB0aXRsZTogJ1Rhc2sgMicsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0Rlc2NyaXB0aW9uIDInLFxyXG4gICAgZHVlRGF0ZTogJzIwMjEtMDYtMTAnLFxyXG4gICAgcHJpb3JpdHk6ICdtZWRpdW0nLFxyXG4gICAgcHJvamVjdDogJ1Byb2plY3QgMicsXHJcbiAgICBleGlzdHM6IHRydWUsXHJcbiAgfSxcclxuICB7XHJcbiAgICB0aXRsZTogJ1Rhc2sgMycsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0Rlc2NyaXB0aW9uIDMnLFxyXG4gICAgZHVlRGF0ZTogJzIwMjEtMDYtMTAnLFxyXG4gICAgcHJpb3JpdHk6ICdoaWdoJyxcclxuICAgIHByb2plY3Q6ICdQcm9qZWN0IDMnLFxyXG4gICAgZXhpc3RzOiB0cnVlLFxyXG4gIH0sXHJcbl07XHJcblxyXG4vLyBDbGFzcyBDb25zdHJ1Y3RvclxyXG5cclxuZXhwb3J0IGNsYXNzIFRhc2sge1xyXG4gIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIHByb2plY3QgPSAnZGVmYXVsdCcpIHtcclxuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcclxuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcclxuICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XHJcbiAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XHJcbiAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xyXG4gICAgdGhpcy5leGlzdHMgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8gVUkgY29sb3IgbG9naWNcclxuICBzdGF0aWMgZ2V0Q29sb3IoYXJyLCBpKSB7XHJcbiAgICBsZXQgY29sb3I7XHJcbiAgICBpZiAoYXJyW2ldLnByaW9yaXR5ID09PSAnbG93Jykge1xyXG4gICAgICBjb2xvciA9ICdzdWNjZXNzJztcclxuICAgIH0gZWxzZSBpZiAoYXJyW2ldLnByaW9yaXR5ID09PSAnbWVkaXVtJykge1xyXG4gICAgICBjb2xvciA9ICdpbmZvJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbG9yID0gJ2Rhbmdlcic7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29sb3I7XHJcbiAgfTtcclxuXHJcbiAgLy8gYnV0dG9uIGxvZ2ljIGZvciB0YXNrcyBlZGl0L2RlbGV0ZVxyXG4gIHN0YXRpYyBidXR0b25Db2xvcihjb2xvcikge1xyXG4gICAgbGV0IGJ0bkVkaXQ7XHJcbiAgICBsZXQgYnRuRGVsZXRlO1xyXG4gICAgaWYgKGNvbG9yID09PSAnc3VjY2VzcycgfHwgY29sb3IgPT09ICdpbmZvJykge1xyXG4gICAgICBidG5FZGl0ID0gJ3dhcm5pbmcnO1xyXG4gICAgICBidG5EZWxldGUgPSAnZGFuZ2VyJztcclxuICAgIH1cclxuICAgIGlmIChjb2xvciA9PT0gJ2RhbmdlcicpIHtcclxuICAgICAgYnRuRWRpdCA9ICdwcmltYXJ5JztcclxuICAgICAgYnRuRGVsZXRlID0gJ3dhcm5pbmcnO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFtidG5FZGl0LCBidG5EZWxldGVdO1xyXG4gIH07XHJcbn1cclxuXHJcbmNsYXNzIFByb2plY3Qge1xyXG4gIGNvbnN0cnVjdG9yKHRpdGxlKSB7XHJcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDYWxsIG9mIHByb2plY3QncyBmdW5jdGlvbiB3aXRoIGF0dGFjaGVkIGV2ZW50IGxpc3RlbmVyc1xyXG5wcm9qZWN0Q3JlYXRpb24uYWRkUHJvamVjdChwcm9qZWN0cywgUHJvamVjdCk7XHJcbnByb2plY3RDcmVhdGlvbi5kaXNwbGF5UHJvamVjdFRhc2tzKHRhc2tzKTtcclxuXHJcbi8vIENhbGwgdGFza3MgZnVuY3Rpb25zIHdpdGggYXR0YWNoZWQgZXZlbnQgbGlzdGVuZXJzXHJcbnRhc2tDcmVhdGlvbi5jcmVhdGVOZXdUYXNrKHRhc2tzLCB0YXNrQ3JlYXRpb24ucmVuZGVyVGFzaywgVGFzayk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=