(()=>{"use strict";var t={d:(e,s)=>{for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{I:()=>l,i:()=>o});const e=(()=>{const t=()=>{const t=document.forms["tasks-form"];return t.addEventListener("submit",(t=>{t.preventDefault()})),t},e=(t,e)=>{const n=document.querySelectorAll("#delete-btn");for(let i=0;i<n.length;i+=1)n[i].addEventListener("click",(()=>{t.splice(i,1),localStorage.setItem("tasks",JSON.stringify(t)),s(e,t)}))},s=(t,n,i)=>{const l=document.querySelector("#tasks-list");l.innerHTML="";const r=document.querySelector("#add-task"),a=document.querySelector("#multiCollapseExample2");if("All Projects"===t){r.classList.add("d-none"),a.classList.add("d-none");const t=[];for(let e=0;e<i.length;e+=1)t.push(...i[e].tasks);console.log(t);for(let e=0;e<t.length;e+=1){const s=o.getColor(t,e);l.innerHTML+=`\n            <li class="">\n                        <p>\n                            <button class="btn btn-${s} w-100" type="button" data-bs-toggle="collapse" data-bs-target="#task-${e}" aria-expanded="false" aria-controls="task-${e}">\n                                ${t[e].title}\n                            </button>\n                        </p>\n                        \n                        <div class="collapse" id="task-${e}">\n                            <div class="card card-body bg-${s} mb-4">\n                                <ul class="list-group">\n                                    <li class="list-group-item bg-${s} text-white"><span class="fw-bold">Description</span>: ${t[e].description}</li>\n                                    <li class="list-group-item bg-${s} text-white"><span class="fw-bold">Due Date</span>: ${t[e].dueDate}</li>\n                                    <li class="list-group-item bg-${s} text-white"><span class="fw-bold">Priority</span>: ${t[e].priority}</li>\n                                </ul>\n                            </div>\n                        </div>\n                    </li>\n        `}}else{r.classList.remove("d-none"),a.classList.remove("d-none"),l.innerHTML="";const i=n.filter((e=>e.project===t));for(let t=0;t<i.length;t+=1){console.log(t);const e=o.getColor(i,t);l.innerHTML+=`\n            <li>\n                <p>\n                    <button class="btn btn-${e} w-100" type="button" data-bs-toggle="collapse" data-bs-target="#task-${t}" aria-expanded="false" aria-controls="task-${t}">\n                        ${i[t].title}\n                    </button>\n                </p>\n                    \n                <div class="collapse" id="task-${t}">\n                    <div class="card card-body bg-${e} mb-4">\n                        <ul class="list-group ">\n                            <li class="list-group-item bg-${e} text-white"><span class="fw-bold">Description</span>: ${i[t].description}</li>\n                            <li class="list-group-item bg-${e} text-white"><span class="fw-bold">Due Date</span>: ${i[t].dueDate}</li>\n                            <li class="list-group-item bg-${e} text-white"><span class="fw-bold">Priority</span>: ${i[t].priority}</li>\n                        </ul>\n                    \n                        <div class="d-flex mt-3 justify-content-between">\n                            <div>\n                                <p>\n                                    <button class="btn btn-${o.buttonColor(e)[0]}" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample-${t}" aria-expanded="false" aria-controls="collapseExample-${t}">\n                                        Edit\n                                    </button>\n                                       \n                                    <div>\n                                        <button id="delete-btn" type="button" class="btn btn-${o.buttonColor(e)[1]}">Delete</button>\n                                    </div>\n                                </p>\n                                \n                                <div class="collapse multi-collapse" id="collapseExample-${t}">\n                                    <form id="edit-tasks-form">\n                                        <div class="mb-3">\n                                            <label for="edit-task-name-${t}" class="form-label text-info">Task Title</label>\n                                            <input type="text" class="form-control" id="edit-task-name-${t}" required>\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-description-${t}" class="form-label text-info">Task Description</label>\n                                            <input type="text" class="form-control" id="edit-task-description-${t}" required>\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-date-${t}" class="form-label text-info">Due Date</label>\n                                            <br>\n                                            <input type="date" id="edit-task-date-${t}" name="trip-start" required>\n                                        </div>\n                        \n                                        <div class="mb-3">\n                                            <label for="edit-task-priority-${t}" class="form-label text-info">Priority</label>\n                                            <select id="edit-task-priority-${t}" class="form-select" aria-label="Default select example" required>\n                                                <option selected>Select Priority</option>\n                                                <option value="low">Low</option>\n                                                <option value="medium">Medium</option>\n                                                <option value="high">High</option>\n                                            </select>\n                                        </div>\n                                        \n                                        <div>\n                                            <button id="edit-btn" type="submit" class="btn btn-secondary">Edit Task</button>\n                                        </div\n                                    </form>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </li>\n        `,document.querySelector(`#edit-task-name-${t}`).setAttribute("value",i[t].title),document.querySelector(`#edit-task-description-${t}`).setAttribute("value",i[t].description),document.querySelector(`#edit-task-date-${t}`).setAttribute("value",i[t].dueDate)}((t,e)=>{const n=document.querySelectorAll("#edit-btn");for(let i=0;i<n.length;i+=1)n[i].addEventListener("click",(()=>{const n=document.querySelector(`#edit-task-name-${i}`).value,o=document.querySelector(`#edit-task-description-${i}`).value,l=document.querySelector(`#edit-task-date-${i}`).value,r=document.querySelector(`#edit-task-priority-${i}`).value;""!==n&&""!==o&&""!==l&&""!==r&&(t[i].title=n,t[i].description=o,t[i].date=l,t[i].priority=r,localStorage.setItem("tasks",JSON.stringify(t)),s(e,t))}))})(n,t),e(n,t)}};return{createNewTask:(e,n)=>{const i=t();document.querySelector("#task-btn").addEventListener("click",(()=>{const e=i.querySelector("#task-name").value,l=i.querySelector("#task-description").value,r=i.querySelector("#task-date").value,a=i.querySelector("#task-priority").value,c=i.querySelector("#task-project").value,d=n.filter((t=>t.title===c));""!==e&&""!==l&&""!==r&&""!==a&&(o.newTask(d[0].tasks,e,l,r,a,c),console.log(d[0].tasks),localStorage.setItem("tasks",JSON.stringify(d[0].tasks)),t(),s(c,d[0].tasks,n))}))},renderTasks:s,deleteTask:e}})(),s=(()=>{const t=()=>{const t=document.forms["project-form"];return t.addEventListener("submit",(t=>{t.preventDefault()})),t},s=t=>{const e=document.querySelector("#project-list");e.innerHTML='\n            <li class="list-group-item list-group-item-dark btn my-1" id="all-projects">All Projects</li>\n        ';for(let s=0;s<t.length;s+=1)e.innerHTML+=`\n                <li class="list-group-item list-group-item-dark btn my-1" id="project-list">${t[s].title}</li>\n            `};return{addProject:e=>{document.querySelector("#project-btn").addEventListener("click",(()=>{t(),((t,e)=>{const s=e().querySelector("#project-title").value;""!==s&&(l.newProject(s,t),localStorage.setItem("projects",JSON.stringify(t)))})(e,t),s(e),document.querySelector("#project-form").reset()}))},displayProjectTasks:(t,s)=>{const n=document.querySelector("#project-list");n.addEventListener("click",(i=>{const o=i.target.textContent,l=s.filter((t=>t.title===o));((t,e)=>{const s=t.target;[...e.children].forEach((t=>{t.classList.remove("active")})),s.classList.add("active"),document.querySelector("#task-display").classList.remove("d-none")})(i,n),(t=>{const e=document.querySelector("#project");e.innerHTML="",e.innerHTML+=`\n        <input type="hidden" value="${t}" id="task-project" class="form-control" aria-label="Default select example">\n    `})(o),"All Projects"===o?e.renderTasks(o,t,s):e.renderTasks(o,l[0].tasks,s)}))},renderProjectView:s}})();let n=JSON.parse(localStorage.getItem("projects"))||[];const i=JSON.parse(localStorage.getItem("tasks"))||[{title:"Task 1",description:"Description 1",dueDate:"2021-06-10",priority:"low",project:"Project 1",exists:!0},{title:"Task 2",description:"Description 2",dueDate:"2021-06-10",priority:"medium",project:"Project 2",exists:!0},{title:"Task 3",description:"Description 3",dueDate:"2021-06-10",priority:"high",project:"Project 3",exists:!0}];class o{constructor(t,e,s,n,i="default"){this.title=t,this.description=e,this.dueDate=s,this.priority=n,this.project=i}static newTask(t,e,s,n,i,l){const r=new o(e,s,n,i,l);t.push(r)}static getColor(t,e){let s;return s="low"===t[e].priority?"success":"medium"===t[e].priority?"info":"danger",s}static buttonColor(t){let e,s;return"success"!==t&&"info"!==t||(e="warning",s="danger"),"danger"===t&&(e="primary",s="warning"),[e,s]}}class l{constructor(t){this.title=t,this.tasks=[]}static newProject(t,e){const s=new l(t);e.push(s)}}s.renderProjectView(n),s.addProject(n),s.displayProjectTasks(i,n),e.createNewTask(i,n)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qcy10b2RvbGlzdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9qcy10b2RvbGlzdC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vanMtdG9kb2xpc3Qvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9qcy10b2RvbGlzdC8uL3NyYy90YXNrRG9tLmpzIiwid2VicGFjazovL2pzLXRvZG9saXN0Ly4vc3JjL21haW4uanMiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJ0YXNrQ3JlYXRpb24iLCJ0YXNrRm9ybSIsIlRBU0tTX0ZPUk0iLCJkb2N1bWVudCIsImZvcm1zIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImRlbGV0ZVRhc2siLCJ0YXNrc0FyciIsInByb2plY3ROYW1lIiwiREVMRVRFX0JUTiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpIiwibGVuZ3RoIiwic3BsaWNlIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZW5kZXJUYXNrcyIsInByb2plY3RBcnIiLCJUQVNLX0xJU1QiLCJxdWVyeVNlbGVjdG9yIiwiaW5uZXJIVE1MIiwiQUREX1RBU0tfQlROIiwiRk9STSIsImNsYXNzTGlzdCIsImFkZCIsImFsbFByb2plY3RzIiwicHVzaCIsInRhc2tzIiwiY29uc29sZSIsImxvZyIsImNvbG9yIiwiVGFzayIsImdldENvbG9yIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJwcmlvcml0eSIsInJlbW92ZSIsInByb2plY3RUYXNrcyIsImZpbHRlciIsInRhc2siLCJwcm9qZWN0IiwiYnV0dG9uQ29sb3IiLCJzZXRBdHRyaWJ1dGUiLCJ0YXNrUHJvamVjdCIsIkVESVRfQlROIiwiRURJVF9UQVNLX05BTUUiLCJ2YWx1ZSIsIkVESVRfVEFTS19ERVNDUklQVElPTiIsIkVESVRfVEFTS19EQVRFIiwiRURJVF9UQVNLX1BSSU9SSVRZIiwiZGF0ZSIsImVkaXRUYXNrIiwiY3JlYXRlTmV3VGFzayIsInRhc2tBcnIiLCJUQVNLX05BTUUiLCJUQVNLX0RFU0NSSVBUSU9OIiwiVEFTS19EQVRFIiwiVEFTS19QUklPUklUWSIsIlRBU0tfUFJPSkVDVCIsIlBST0pFQ1QiLCJuZXdUYXNrIiwicHJvamVjdENyZWF0aW9uIiwicHJvamVjdEZvcm0iLCJQUk9KRUNUX0ZPUk0iLCJyZW5kZXJQcm9qZWN0VmlldyIsIlBST0pFQ1RfTElTVCIsImFkZFByb2plY3QiLCJQUk9KRUNUX1RJVExFIiwiUHJvamVjdCIsIm5ld1Byb2plY3QiLCJjcmVhdGVQcm9qZWN0IiwicmVzZXQiLCJkaXNwbGF5UHJvamVjdFRhc2tzIiwiUFJPSkVDVF9OQU1FIiwidGFyZ2V0IiwidGV4dENvbnRlbnQiLCJldmVudCIsInByb2plY3RMaXN0IiwiY2hpbGRyZW4iLCJmb3JFYWNoIiwicHJvamVjdFNlbGVjdGlvbiIsInRhc2tPcHRpb25zIiwicHJvamVjdHMiLCJwYXJzZSIsImdldEl0ZW0iLCJleGlzdHMiLCJ0aGlzIiwibmFtZSIsImFyciIsImJ0bkVkaXQiLCJidG5EZWxldGUiLCJwcm9qZWN0VGl0bGUiLCJORVdfUFJPSkVDVCJdLCJtYXBwaW5ncyI6Im1CQUNBLElBQUlBLEVBQXNCLENDQTFCLEVBQXdCLENBQUNDLEVBQVNDLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWEYsRUFBb0JJLEVBQUVGLEVBQVlDLEtBQVNILEVBQW9CSSxFQUFFSCxFQUFTRSxJQUM1RUUsT0FBT0MsZUFBZUwsRUFBU0UsRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtO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RUFBVW1GLEVBQU10RCxFQUFhaUIsRUFBTWYsRUFBVUssR0FDMUQsTUFBTW9CLEVBQVUsSUFBSTlCLEVBQUt5RCxFQUFNdEQsRUFBYWlCLEVBQU1mLEVBQVVLLEdBQzVEcEMsRUFBU3FCLEtBQUttQyxHQUloQixnQkFBZ0I0QixFQUFLaEYsR0FDbkIsSUFBSXFCLEVBUUosT0FORUEsRUFEc0IsUUFBcEIyRCxFQUFJaEYsR0FBRzJCLFNBQ0QsVUFDcUIsV0FBcEJxRCxFQUFJaEYsR0FBRzJCLFNBQ1IsT0FFQSxTQUVITixFQUlULG1CQUFtQkEsR0FDakIsSUFBSTRELEVBQ0FDLEVBU0osTUFSYyxZQUFWN0QsR0FBaUMsU0FBVkEsSUFDekI0RCxFQUFVLFVBQ1ZDLEVBQVksVUFFQSxXQUFWN0QsSUFDRjRELEVBQVUsVUFDVkMsRUFBWSxXQUVQLENBQUNELEVBQVNDLElBSWQsTUFBTXRCLEVBQ1gsWUFBWXBDLEdBQ1ZzRCxLQUFLdEQsTUFBUUEsRUFDYnNELEtBQUs1RCxNQUFRLEdBR2Ysa0JBQWtCaUUsRUFBYzNFLEdBQzlCLE1BQU00RSxFQUFjLElBQUl4QixFQUFRdUIsR0FDaEMzRSxFQUFXUyxLQUFLbUUsSUFLcEIvQixFQUFnQkcsa0JBQWtCa0IsR0FDbENyQixFQUFnQkssV0FBV2dCLEdBQzNCckIsRUFBZ0JXLG9CQUFvQjlDLEVBQU93RCxHQUczQ3ZGLEVBQWF5RCxjQUFjMUIsRUFBT3dELEkiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiaW1wb3J0IHsgVGFzayB9IGZyb20gXCIuL21haW5cIjtcbmltcG9ydCB7IFByb2plY3QgfSBmcm9tIFwiLi9tYWluXCI7XG5cbi8vIFRhc2sgQ3JlYXRpb24gTW9kdWxlIChJSUZFKTtcbmV4cG9ydCBjb25zdCB0YXNrQ3JlYXRpb24gPSAoKCkgPT4ge1xuICAvLyBUYXNrIEZvcm1cbiAgY29uc3QgdGFza0Zvcm0gPSAoKSA9PiB7XG4gICAgLy8gVGFza3MgRm9ybSBJbmZvcm1hdGlvblxuICAgIGNvbnN0IFRBU0tTX0ZPUk0gPSBkb2N1bWVudC5mb3Jtc1sndGFza3MtZm9ybSddO1xuXG4vLyBwcmV2ZW50IGZvcm0gZGVmYXVsdCBiZWhhdmlvdXJcbiAgICBUQVNLU19GT1JNLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gVEFTS1NfRk9STTtcbiAgfVxuXG4gIGNvbnN0IGRlbGV0ZVRhc2sgPSAodGFza3NBcnIsIHByb2plY3ROYW1lKSA9PiB7XG4gICAgY29uc3QgREVMRVRFX0JUTiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNkZWxldGUtYnRuJyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBERUxFVEVfQlROLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBERUxFVEVfQlROW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0YXNrc0Fyci5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0YXNrcycsIEpTT04uc3RyaW5naWZ5KHRhc2tzQXJyKSk7XG4gICAgICAgIHJlbmRlclRhc2tzKHByb2plY3ROYW1lLCB0YXNrc0Fycik7XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGVkaXRUYXNrID0gKHByb2plY3RUYXNrcywgdGFza1Byb2plY3QpID0+IHtcbiAgICBjb25zdCBFRElUX0JUTiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNlZGl0LWJ0bicpXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IEVESVRfQlROLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBFRElUX0JUTltpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3QgRURJVF9UQVNLX05BTUUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLW5hbWUtJHtpfWApLnZhbHVlO1xuICAgICAgICBjb25zdCBFRElUX1RBU0tfREVTQ1JJUFRJT04gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLWRlc2NyaXB0aW9uLSR7aX1gKS52YWx1ZTtcbiAgICAgICAgY29uc3QgRURJVF9UQVNLX0RBVEUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLWRhdGUtJHtpfWApLnZhbHVlO1xuICAgICAgICBjb25zdCBFRElUX1RBU0tfUFJJT1JJVFkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLXByaW9yaXR5LSR7aX1gKS52YWx1ZTtcblxuICAgICAgICBpZiAoRURJVF9UQVNLX05BTUUgPT09ICcnKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChFRElUX1RBU0tfREVTQ1JJUFRJT04gPT09ICcnKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChFRElUX1RBU0tfREFURSA9PT0gJycpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEVESVRfVEFTS19QUklPUklUWSA9PT0gJycpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBwcm9qZWN0VGFza3NbaV0udGl0bGUgPSBFRElUX1RBU0tfTkFNRTtcbiAgICAgICAgcHJvamVjdFRhc2tzW2ldLmRlc2NyaXB0aW9uID0gRURJVF9UQVNLX0RFU0NSSVBUSU9OO1xuICAgICAgICBwcm9qZWN0VGFza3NbaV0uZGF0ZSA9IEVESVRfVEFTS19EQVRFO1xuICAgICAgICBwcm9qZWN0VGFza3NbaV0ucHJpb3JpdHkgPSBFRElUX1RBU0tfUFJJT1JJVFk7XG5cbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rhc2tzJywgSlNPTi5zdHJpbmdpZnkocHJvamVjdFRhc2tzKSk7XG4gICAgICAgIHJlbmRlclRhc2tzKHRhc2tQcm9qZWN0LCBwcm9qZWN0VGFza3MpO1xuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICAvLyBSZW5kZXIgdGFza3Mgb24gdGhlIFVJXG4gIGNvbnN0IHJlbmRlclRhc2tzID0gKHByb2plY3ROYW1lLCB0YXNrc0FyciwgcHJvamVjdEFycikgPT4ge1xuICAgIGNvbnN0IFRBU0tfTElTVCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0YXNrcy1saXN0Jyk7XG4gICAgVEFTS19MSVNULmlubmVySFRNTCA9ICcnO1xuICAgIGNvbnN0IEFERF9UQVNLX0JUTiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGQtdGFzaycpO1xuICAgIGNvbnN0IEZPUk0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbXVsdGlDb2xsYXBzZUV4YW1wbGUyJyk7XG5cbiAgICBpZiAocHJvamVjdE5hbWUgPT09ICdBbGwgUHJvamVjdHMnKSB7XG4gICAgICBBRERfVEFTS19CVE4uY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XG4gICAgICBGT1JNLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xuICAgICAgY29uc3QgYWxsUHJvamVjdHMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdEFyci5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBhbGxQcm9qZWN0cy5wdXNoKC4uLnByb2plY3RBcnJbaV0udGFza3MpO1xuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coYWxsUHJvamVjdHMpO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbFByb2plY3RzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gVGFzay5nZXRDb2xvcihhbGxQcm9qZWN0cywgaSk7XG4gICAgICAgIC8qIGVzbGludCBtYXgtbGVuOiBbXCJlcnJvclwiLCB7IFwiaWdub3JlVGVtcGxhdGVMaXRlcmFsc1wiOiB0cnVlIH1dICovXG4gICAgICAgIFRBU0tfTElTVC5pbm5lckhUTUwgKz0gYFxuICAgICAgICAgICAgPGxpIGNsYXNzPVwiXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi0ke2NvbG9yfSB3LTEwMFwiIHR5cGU9XCJidXR0b25cIiBkYXRhLWJzLXRvZ2dsZT1cImNvbGxhcHNlXCIgZGF0YS1icy10YXJnZXQ9XCIjdGFzay0ke2l9XCIgYXJpYS1leHBhbmRlZD1cImZhbHNlXCIgYXJpYS1jb250cm9scz1cInRhc2stJHtpfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2FsbFByb2plY3RzW2ldLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sbGFwc2VcIiBpZD1cInRhc2stJHtpfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkIGNhcmQtYm9keSBiZy0ke2NvbG9yfSBtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+RGVzY3JpcHRpb248L3NwYW4+OiAke2FsbFByb2plY3RzW2ldLmRlc2NyaXB0aW9ufTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gYmctJHtjb2xvcn0gdGV4dC13aGl0ZVwiPjxzcGFuIGNsYXNzPVwiZnctYm9sZFwiPkR1ZSBEYXRlPC9zcGFuPjogJHthbGxQcm9qZWN0c1tpXS5kdWVEYXRlfTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gYmctJHtjb2xvcn0gdGV4dC13aGl0ZVwiPjxzcGFuIGNsYXNzPVwiZnctYm9sZFwiPlByaW9yaXR5PC9zcGFuPjogJHthbGxQcm9qZWN0c1tpXS5wcmlvcml0eX08L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgIGA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIEFERF9UQVNLX0JUTi5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcbiAgICAgIEZPUk0uY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XG5cbiAgICAgIFRBU0tfTElTVC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNvbnN0IHByb2plY3RUYXNrcyA9IHRhc2tzQXJyLmZpbHRlcih0YXNrID0+IHRhc2sucHJvamVjdCA9PT0gcHJvamVjdE5hbWUpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9qZWN0VGFza3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc29sZS5sb2coaSk7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gVGFzay5nZXRDb2xvcihwcm9qZWN0VGFza3MsIGkpO1xuICAgICAgICAvKiBlc2xpbnQgbWF4LWxlbjogW1wiZXJyb3JcIiwgeyBcImlnbm9yZVRlbXBsYXRlTGl0ZXJhbHNcIjogdHJ1ZSB9XSAqL1xuICAgICAgICBUQVNLX0xJU1QuaW5uZXJIVE1MICs9IGBcbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tJHtjb2xvcn0gdy0xMDBcIiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1icy10b2dnbGU9XCJjb2xsYXBzZVwiIGRhdGEtYnMtdGFyZ2V0PVwiI3Rhc2stJHtpfVwiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiIGFyaWEtY29udHJvbHM9XCJ0YXNrLSR7aX1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7cHJvamVjdFRhc2tzW2ldLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2xsYXBzZVwiIGlkPVwidGFzay0ke2l9XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkIGNhcmQtYm9keSBiZy0ke2NvbG9yfSBtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJsaXN0LWdyb3VwIFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+RGVzY3JpcHRpb248L3NwYW4+OiAke3Byb2plY3RUYXNrc1tpXS5kZXNjcmlwdGlvbn08L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBiZy0ke2NvbG9yfSB0ZXh0LXdoaXRlXCI+PHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+RHVlIERhdGU8L3NwYW4+OiAke3Byb2plY3RUYXNrc1tpXS5kdWVEYXRlfTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGJnLSR7Y29sb3J9IHRleHQtd2hpdGVcIj48c3BhbiBjbGFzcz1cImZ3LWJvbGRcIj5Qcmlvcml0eTwvc3Bhbj46ICR7cHJvamVjdFRhc2tzW2ldLnByaW9yaXR5fTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggbXQtMyBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tJHtUYXNrLmJ1dHRvbkNvbG9yKGNvbG9yKVswXX1cIiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1icy10b2dnbGU9XCJjb2xsYXBzZVwiIGRhdGEtYnMtdGFyZ2V0PVwiI2NvbGxhcHNlRXhhbXBsZS0ke2l9XCIgYXJpYS1leHBhbmRlZD1cImZhbHNlXCIgYXJpYS1jb250cm9scz1cImNvbGxhcHNlRXhhbXBsZS0ke2l9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRWRpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImRlbGV0ZS1idG5cIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLSR7VGFzay5idXR0b25Db2xvcihjb2xvcilbMV19XCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbGxhcHNlIG11bHRpLWNvbGxhcHNlXCIgaWQ9XCJjb2xsYXBzZUV4YW1wbGUtJHtpfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZvcm0gaWQ9XCJlZGl0LXRhc2tzLWZvcm1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZWRpdC10YXNrLW5hbWUtJHtpfVwiIGNsYXNzPVwiZm9ybS1sYWJlbCB0ZXh0LWluZm9cIj5UYXNrIFRpdGxlPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cImVkaXQtdGFzay1uYW1lLSR7aX1cIiByZXF1aXJlZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJlZGl0LXRhc2stZGVzY3JpcHRpb24tJHtpfVwiIGNsYXNzPVwiZm9ybS1sYWJlbCB0ZXh0LWluZm9cIj5UYXNrIERlc2NyaXB0aW9uPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cImVkaXQtdGFzay1kZXNjcmlwdGlvbi0ke2l9XCIgcmVxdWlyZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZWRpdC10YXNrLWRhdGUtJHtpfVwiIGNsYXNzPVwiZm9ybS1sYWJlbCB0ZXh0LWluZm9cIj5EdWUgRGF0ZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxicj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJkYXRlXCIgaWQ9XCJlZGl0LXRhc2stZGF0ZS0ke2l9XCIgbmFtZT1cInRyaXAtc3RhcnRcIiByZXF1aXJlZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJlZGl0LXRhc2stcHJpb3JpdHktJHtpfVwiIGNsYXNzPVwiZm9ybS1sYWJlbCB0ZXh0LWluZm9cIj5Qcmlvcml0eTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9XCJlZGl0LXRhc2stcHJpb3JpdHktJHtpfVwiIGNsYXNzPVwiZm9ybS1zZWxlY3RcIiBhcmlhLWxhYmVsPVwiRGVmYXVsdCBzZWxlY3QgZXhhbXBsZVwiIHJlcXVpcmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBzZWxlY3RlZD5TZWxlY3QgUHJpb3JpdHk8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJsb3dcIj5Mb3c8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJtZWRpdW1cIj5NZWRpdW08L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJoaWdoXCI+SGlnaDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiZWRpdC1idG5cIiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJidG4gYnRuLXNlY29uZGFyeVwiPkVkaXQgVGFzazwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgYDtcblxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLW5hbWUtJHtpfWApLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBwcm9qZWN0VGFza3NbaV0udGl0bGUpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZWRpdC10YXNrLWRlc2NyaXB0aW9uLSR7aX1gKS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgcHJvamVjdFRhc2tzW2ldLmRlc2NyaXB0aW9uKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2VkaXQtdGFzay1kYXRlLSR7aX1gKS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgcHJvamVjdFRhc2tzW2ldLmR1ZURhdGUpO1xuXG4gICAgICB9XG5cbiAgICAgIGVkaXRUYXNrKHRhc2tzQXJyLCBwcm9qZWN0TmFtZSk7XG5cbiAgICAgIGRlbGV0ZVRhc2sodGFza3NBcnIsIHByb2plY3ROYW1lKTtcbiAgICB9XG5cbiAgfTtcblxuICAvLyBjcmVhdGUgdGFzayBhbmQgZGlzcGxheSBpdCBvbiB0aGUgVUlcbiAgY29uc3QgY3JlYXRlTmV3VGFzayA9ICh0YXNrQXJyLCBwcm9qZWN0QXJyKSA9PiB7XG4gICAgY29uc3QgVEFTS1NfRk9STSA9IHRhc2tGb3JtKCk7XG4gICAgY29uc3QgVEFTS19CVE4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGFzay1idG4nKTtcbiAgICBUQVNLX0JUTi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IFRBU0tfTkFNRSA9IFRBU0tTX0ZPUk0ucXVlcnlTZWxlY3RvcignI3Rhc2stbmFtZScpLnZhbHVlO1xuICAgICAgY29uc3QgVEFTS19ERVNDUklQVElPTiA9IFRBU0tTX0ZPUk1cbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJyN0YXNrLWRlc2NyaXB0aW9uJylcbiAgICAgICAgLnZhbHVlO1xuICAgICAgY29uc3QgVEFTS19EQVRFID0gVEFTS1NfRk9STS5xdWVyeVNlbGVjdG9yKCcjdGFzay1kYXRlJykudmFsdWU7XG4gICAgICBjb25zdCBUQVNLX1BSSU9SSVRZID0gVEFTS1NfRk9STS5xdWVyeVNlbGVjdG9yKCcjdGFzay1wcmlvcml0eScpLnZhbHVlO1xuICAgICAgY29uc3QgVEFTS19QUk9KRUNUID0gVEFTS1NfRk9STS5xdWVyeVNlbGVjdG9yKCcjdGFzay1wcm9qZWN0JykudmFsdWU7XG4gICAgICBjb25zdCBQUk9KRUNUID0gcHJvamVjdEFyci5maWx0ZXIocHJvamVjdCA9PiBwcm9qZWN0LnRpdGxlID09PSBUQVNLX1BST0pFQ1QpO1xuXG4gICAgICBpZiAoVEFTS19OQU1FID09PSAnJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoVEFTS19ERVNDUklQVElPTiA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKFRBU0tfREFURSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKFRBU0tfUFJJT1JJVFkgPT09ICcnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gY3JlYXRlIG5ldyB0YXNrIGluc3RhbmNlXG4gICAgICBUYXNrLm5ld1Rhc2soUFJPSkVDVFswXS50YXNrcyxcbiAgICAgICAgVEFTS19OQU1FLFxuICAgICAgICBUQVNLX0RFU0NSSVBUSU9OLFxuICAgICAgICBUQVNLX0RBVEUsXG4gICAgICAgIFRBU0tfUFJJT1JJVFksXG4gICAgICAgIFRBU0tfUFJPSkVDVCk7XG5cbiAgICAgIGNvbnNvbGUubG9nKFBST0pFQ1RbMF0udGFza3MpO1xuXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGFza3MnLCBKU09OLnN0cmluZ2lmeShQUk9KRUNUWzBdLnRhc2tzKSk7XG5cbiAgICAgIHRhc2tGb3JtKCk7XG5cbiAgICAgIC8vIHJlbmRlciB0YXNrIHRvIHRoZSBVSVxuICAgICAgcmVuZGVyVGFza3MoVEFTS19QUk9KRUNULCBQUk9KRUNUWzBdLnRhc2tzLCBwcm9qZWN0QXJyKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGNyZWF0ZU5ld1Rhc2ssIHJlbmRlclRhc2tzLCBkZWxldGVUYXNrXG4gIH07XG59KSgpO1xuXG4vLyBQcm9qZWN0IENyZWF0aW9uIE1vZHVsZSAoSUlGRSk7XG5leHBvcnQgY29uc3QgcHJvamVjdENyZWF0aW9uID0gKCgpID0+IHtcbiAgY29uc3QgcHJvamVjdEZvcm0gPSAoKSA9PiB7XG4gICAgLy8gcHJldmVudCBmb3JtIGRlZmF1bHQgYmVoYXZpb3VyXG4gICAgY29uc3QgUFJPSkVDVF9GT1JNID0gZG9jdW1lbnQuZm9ybXNbJ3Byb2plY3QtZm9ybSddO1xuXG4gICAgUFJPSkVDVF9GT1JNLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gUFJPSkVDVF9GT1JNO1xuICB9XG5cbiAgLy8gUHJvamVjdCBIZWxwZXIgbWV0aG9kc1xuICBjb25zdCBjcmVhdGVQcm9qZWN0ID0gKHByb2plY3RBcnIsIHByb2plY3RGb3JtKSA9PiB7XG4gICAgY29uc3QgUFJPSkVDVF9USVRMRSA9IHByb2plY3RGb3JtKCkucXVlcnlTZWxlY3RvcignI3Byb2plY3QtdGl0bGUnKS52YWx1ZTtcbiAgICBpZiAoUFJPSkVDVF9USVRMRSA9PT0gJycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBQcm9qZWN0Lm5ld1Byb2plY3QoUFJPSkVDVF9USVRMRSwgcHJvamVjdEFycik7XG5cbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvamVjdHMnLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0QXJyKSk7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyUHJvamVjdFZpZXcgPSAocHJvamVjdEFycikgPT4ge1xuICAgIGNvbnN0IFBST0pFQ1RfTElTVCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9qZWN0LWxpc3QnKTtcbiAgICBQUk9KRUNUX0xJU1QuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIGxpc3QtZ3JvdXAtaXRlbS1kYXJrIGJ0biBteS0xXCIgaWQ9XCJhbGwtcHJvamVjdHNcIj5BbGwgUHJvamVjdHM8L2xpPlxuICAgICAgICBgO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9qZWN0QXJyLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBQUk9KRUNUX0xJU1QuaW5uZXJIVE1MICs9IGBcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gbGlzdC1ncm91cC1pdGVtLWRhcmsgYnRuIG15LTFcIiBpZD1cInByb2plY3QtbGlzdFwiPiR7cHJvamVjdEFycltpXS50aXRsZX08L2xpPlxuICAgICAgICAgICAgYDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUHJvamVjdCdzIHRhc2tzIEhlbHBlciBNZXRob2RcbiAgY29uc3QgdGFza09wdGlvbnMgPSAocHJvamVjdE5hbWUpID0+IHtcbiAgICAvLyBDcmVhdGUgc2VsZWN0aW9uIG9uIHRhc2tzIGJhc2VkIG9uIG9iamVjdHNcbiAgICBjb25zdCBUQVNLX1BST0pFQ1QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdCcpO1xuICAgIFRBU0tfUFJPSkVDVC5pbm5lckhUTUwgPSAnJztcbiAgICBUQVNLX1BST0pFQ1QuaW5uZXJIVE1MICs9IGBcbiAgICAgICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiB2YWx1ZT1cIiR7cHJvamVjdE5hbWV9XCIgaWQ9XCJ0YXNrLXByb2plY3RcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGFyaWEtbGFiZWw9XCJEZWZhdWx0IHNlbGVjdCBleGFtcGxlXCI+XG4gICAgYDtcbiAgfTtcblxuICBjb25zdCBwcm9qZWN0U2VsZWN0aW9uID0gKGV2ZW50LCBwcm9qZWN0TGlzdCkgPT4ge1xuICAgIGNvbnN0IFBST0pFQ1QgPSBldmVudC50YXJnZXQ7XG5cbiAgICBjb25zdCBjaGlsZHJlbiA9IFsuLi5wcm9qZWN0TGlzdC5jaGlsZHJlbl07XG4gICAgY2hpbGRyZW4uZm9yRWFjaCgocHJvamVjdCkgPT4ge1xuICAgICAgcHJvamVjdC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB9KTtcblxuICAgIFBST0pFQ1QuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgY29uc3QgVEFTS19ESVNQTEFZID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Rhc2stZGlzcGxheScpO1xuICAgIFRBU0tfRElTUExBWS5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcbiAgfTtcblxuICAvLyBDcmVhdGUgYW5kIGRpc3BsYXkgcHJvamVjdCBpbiB0aGUgVUlcbiAgY29uc3QgYWRkUHJvamVjdCA9IChwcm9qZWN0QXJyKSA9PiB7XG4gICAgY29uc3QgUFJPSkVDVF9CVE4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdC1idG4nKTtcblxuICAgIFBST0pFQ1RfQlROLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgLy9QcmV2ZW50IGRlZmF1bHRcbiAgICAgIHByb2plY3RGb3JtKCk7XG5cbiAgICAgIC8vIGNyZWF0ZSBuZXcgcHJvamVjdFxuICAgICAgY3JlYXRlUHJvamVjdChwcm9qZWN0QXJyLCBwcm9qZWN0Rm9ybSk7XG5cbiAgICAgIC8vIFJlbmRlciBwcm9qZWN0cyBpbiB2aWV3c1xuICAgICAgcmVuZGVyUHJvamVjdFZpZXcocHJvamVjdEFycik7XG5cbiAgICAgIC8vIHJlc2V0IHByb2plY3QgZm9ybVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QtZm9ybScpLnJlc2V0KCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gRGlzcGxheSB0aGUgcHJvamVjdCdzIHNwZWNpZmljIHRhc2tzIGluIHRoZSBVSVxuICBjb25zdCBkaXNwbGF5UHJvamVjdFRhc2tzID0gKHRhc2tzQXJyLCBwcm9qZWN0QXJyKSA9PiB7XG4gICAgY29uc3QgUFJPSkVDVF9MSVNUID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QtbGlzdCcpO1xuXG4gICAgUFJPSkVDVF9MSVNULmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IFBST0pFQ1RfTkFNRSA9IGUudGFyZ2V0LnRleHRDb250ZW50O1xuICAgICAgY29uc3QgUFJPSkVDVCA9IHByb2plY3RBcnIuZmlsdGVyKHByb2plY3QgPT4gcHJvamVjdC50aXRsZSA9PT0gUFJPSkVDVF9OQU1FKTtcblxuICAgICAgcHJvamVjdFNlbGVjdGlvbihlLCBQUk9KRUNUX0xJU1QpO1xuXG4gICAgICB0YXNrT3B0aW9ucyhQUk9KRUNUX05BTUUpO1xuXG4gICAgICBpZiAoUFJPSkVDVF9OQU1FID09PSAnQWxsIFByb2plY3RzJykge1xuICAgICAgICB0YXNrQ3JlYXRpb24ucmVuZGVyVGFza3MoUFJPSkVDVF9OQU1FLCB0YXNrc0FyciwgcHJvamVjdEFycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXNrQ3JlYXRpb24ucmVuZGVyVGFza3MoUFJPSkVDVF9OQU1FLCBQUk9KRUNUWzBdLnRhc2tzLCBwcm9qZWN0QXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGFkZFByb2plY3QsIGRpc3BsYXlQcm9qZWN0VGFza3MsIHJlbmRlclByb2plY3RWaWV3XG4gIH07XG59KSgpO1xuIiwiaW1wb3J0IHsgcHJvamVjdENyZWF0aW9uLCB0YXNrQ3JlYXRpb24gfSBmcm9tICcuL3Rhc2tEb20nO1xuXG4vLyBPYmplY3QncyBhcnJheXNcbmxldCBwcm9qZWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2plY3RzJykpIHx8IFtdO1xuXG5jb25zdCB0YXNrcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rhc2tzJykpIHx8XG4gICAgW1xuICAgICAge1xuICAgICAgICB0aXRsZTogJ1Rhc2sgMScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRGVzY3JpcHRpb24gMScsXG4gICAgICAgIGR1ZURhdGU6ICcyMDIxLTA2LTEwJyxcbiAgICAgICAgcHJpb3JpdHk6ICdsb3cnLFxuICAgICAgICBwcm9qZWN0OiAnUHJvamVjdCAxJyxcbiAgICAgICAgZXhpc3RzOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdUYXNrIDInLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0Rlc2NyaXB0aW9uIDInLFxuICAgICAgICBkdWVEYXRlOiAnMjAyMS0wNi0xMCcsXG4gICAgICAgIHByaW9yaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgcHJvamVjdDogJ1Byb2plY3QgMicsXG4gICAgICAgIGV4aXN0czogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiAnVGFzayAzJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdEZXNjcmlwdGlvbiAzJyxcbiAgICAgICAgZHVlRGF0ZTogJzIwMjEtMDYtMTAnLFxuICAgICAgICBwcmlvcml0eTogJ2hpZ2gnLFxuICAgICAgICBwcm9qZWN0OiAnUHJvamVjdCAzJyxcbiAgICAgICAgZXhpc3RzOiB0cnVlLFxuICAgICAgfVxuICAgIF07XG5cbi8vIENsYXNzIENvbnN0cnVjdG9yXG5cbmV4cG9ydCBjbGFzcyBUYXNrIHtcbiAgY29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSwgcHJvamVjdCA9ICdkZWZhdWx0Jykge1xuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgfVxuXG4gIC8vIGNyZWF0ZSB0YXNrIG9iamVjdFxuICBzdGF0aWMgbmV3VGFzayh0YXNrc0FyciwgbmFtZSwgZGVzY3JpcHRpb24sIGRhdGUsIHByaW9yaXR5LCBwcm9qZWN0KSB7XG4gICAgY29uc3QgbmV3VGFzayA9IG5ldyBUYXNrKG5hbWUsIGRlc2NyaXB0aW9uLCBkYXRlLCBwcmlvcml0eSwgcHJvamVjdCk7XG4gICAgdGFza3NBcnIucHVzaChuZXdUYXNrKTtcbiAgfTtcblxuICAvLyBVSSBjb2xvciBsb2dpY1xuICBzdGF0aWMgZ2V0Q29sb3IoYXJyLCBpKSB7XG4gICAgbGV0IGNvbG9yO1xuICAgIGlmIChhcnJbaV0ucHJpb3JpdHkgPT09ICdsb3cnKSB7XG4gICAgICBjb2xvciA9ICdzdWNjZXNzJztcbiAgICB9IGVsc2UgaWYgKGFycltpXS5wcmlvcml0eSA9PT0gJ21lZGl1bScpIHtcbiAgICAgIGNvbG9yID0gJ2luZm8nO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb2xvciA9ICdkYW5nZXInO1xuICAgIH1cbiAgICByZXR1cm4gY29sb3I7XG4gIH07XG5cbiAgLy8gYnV0dG9uIGxvZ2ljIGZvciB0YXNrcyBlZGl0L2RlbGV0ZVxuICBzdGF0aWMgYnV0dG9uQ29sb3IoY29sb3IpIHtcbiAgICBsZXQgYnRuRWRpdDtcbiAgICBsZXQgYnRuRGVsZXRlO1xuICAgIGlmIChjb2xvciA9PT0gJ3N1Y2Nlc3MnIHx8IGNvbG9yID09PSAnaW5mbycpIHtcbiAgICAgIGJ0bkVkaXQgPSAnd2FybmluZyc7XG4gICAgICBidG5EZWxldGUgPSAnZGFuZ2VyJztcbiAgICB9XG4gICAgaWYgKGNvbG9yID09PSAnZGFuZ2VyJykge1xuICAgICAgYnRuRWRpdCA9ICdwcmltYXJ5JztcbiAgICAgIGJ0bkRlbGV0ZSA9ICd3YXJuaW5nJztcbiAgICB9XG4gICAgcmV0dXJuIFtidG5FZGl0LCBidG5EZWxldGVdO1xuICB9O1xufVxuXG5leHBvcnQgY2xhc3MgUHJvamVjdCB7XG4gIGNvbnN0cnVjdG9yKHRpdGxlKSB7XG4gICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIHRoaXMudGFza3MgPSBbXTtcbiAgfVxuXG4gIHN0YXRpYyBuZXdQcm9qZWN0KHByb2plY3RUaXRsZSwgcHJvamVjdEFycikge1xuICAgIGNvbnN0IE5FV19QUk9KRUNUID0gbmV3IFByb2plY3QocHJvamVjdFRpdGxlKTtcbiAgICBwcm9qZWN0QXJyLnB1c2goTkVXX1BST0pFQ1QpO1xuICB9XG59XG5cbi8vIENhbGwgb2YgcHJvamVjdCdzIGZ1bmN0aW9uIHdpdGggYXR0YWNoZWQgZXZlbnQgbGlzdGVuZXJzXG5wcm9qZWN0Q3JlYXRpb24ucmVuZGVyUHJvamVjdFZpZXcocHJvamVjdHMpO1xucHJvamVjdENyZWF0aW9uLmFkZFByb2plY3QocHJvamVjdHMpO1xucHJvamVjdENyZWF0aW9uLmRpc3BsYXlQcm9qZWN0VGFza3ModGFza3MsIHByb2plY3RzKTtcblxuLy8gQ2FsbCB0YXNrcyBmdW5jdGlvbnMgd2l0aCBhdHRhY2hlZCBldmVudCBsaXN0ZW5lcnNcbnRhc2tDcmVhdGlvbi5jcmVhdGVOZXdUYXNrKHRhc2tzLCBwcm9qZWN0cyk7XG5cblxuIl0sInNvdXJjZVJvb3QiOiIifQ==